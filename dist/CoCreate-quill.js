/*! For license information please see CoCreate-quill.js.LICENSE */
!function(Q,F){"object"==typeof exports&&"object"==typeof module?module.exports=F():"function"==typeof define&&define.amd?define([],F):"object"==typeof exports?exports.quill=F():(Q.CoCreate=Q.CoCreate||{},Q.CoCreate.quill=F())}(this,(function(){return function(Q){function F(F){for(var U,e,s=F[0],l=F[1],c=F[2],i=0,I=[];i<s.length;i++)e=s[i],Object.prototype.hasOwnProperty.call(n,e)&&n[e]&&I.push(n[e][0]),n[e]=0;for(U in l)Object.prototype.hasOwnProperty.call(l,U)&&(Q[U]=l[U]);for(d&&d(F);I.length;)I.shift()();return t.push.apply(t,c||[]),B()}function B(){for(var Q,F=0;F<t.length;F++){for(var B=t[F],U=!0,s=1;s<B.length;s++){var l=B[s];0!==n[l]&&(U=!1)}U&&(t.splice(F--,1),Q=e(e.s=B[0]))}return Q}var U={},n={"CoCreate-quill":0},t=[];function e(F){if(U[F])return U[F].exports;var B=U[F]={i:F,l:!1,exports:{}};return Q[F].call(B.exports,B,B.exports,e),B.l=!0,B.exports}e.m=Q,e.c=U,e.d=function(Q,F,B){e.o(Q,F)||Object.defineProperty(Q,F,{enumerable:!0,get:B})},e.r=function(Q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},e.t=function(Q,F){if(1&F&&(Q=e(Q)),8&F)return Q;if(4&F&&"object"==typeof Q&&Q&&Q.__esModule)return Q;var B=Object.create(null);if(e.r(B),Object.defineProperty(B,"default",{enumerable:!0,value:Q}),2&F&&"string"!=typeof Q)for(var U in Q)e.d(B,U,function(F){return Q[F]}.bind(null,U));return B},e.n=function(Q){var F=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return e.d(F,"a",F),F},e.o=function(Q,F){return Object.prototype.hasOwnProperty.call(Q,F)},e.p="";var s=this.webpackJsonp=this.webpackJsonp||[],l=s.push.bind(s);s.push=F,s=s.slice();for(var c=0;c<s.length;c++)F(s[c]);var d=l;return t.push(["./src/index.js","vendors~CoCreate-quill"]),B()}({"../../CoCreate-components/CoCreate-action/src/index.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n// -testing1\nconst CoCreateAction = {\n  attribute: 'data-actions',\n  actions: {},\n  selectedStage: [],\n  stageIndex: 0,\n  selectedElement: null,\n  completedEventName: 'completedEvent',\n  __init: function () {\n    this.actionButtonEvent();\n  },\n  actionButtonEvent: function () {\n    const self = this;\n    document.addEventListener('click', function (event) {\n      let btn = event.target;\n\n      if (!btn.getAttribute('data-actions')) {\n        btn = event.target.closest('[data-actions]');\n      }\n\n      if (!btn) return;\n      event.preventDefault();\n      let actions = (btn.getAttribute(self.attribute) || \"\").replace(/\\s/g, '').split(',');\n      if (actions.length == 0) return;\n      self.stageIndex = 0;\n      self.selectedStage = actions; //. run function\n\n      self.selectedElement = btn;\n\n      self.__runActionFunc();\n    });\n  },\n  init: function ({\n    action,\n    callback,\n    endEvent\n  }) {\n    this.registerEvent(action, callback, null, endEvent);\n  },\n\n  /**\n   * key: string\n   * runFunc: function\n   * instance: object\n   * endEvent: string\n   **/\n  registerEvent: function (key, runFunc, instance, endEvent) {\n    if (this.actions[key]) {\n      return;\n    }\n\n    this.actions[key] = {\n      key: key,\n      runFunc: runFunc,\n      instance: instance || window,\n      endEvent: endEvent\n    }; //. register events\n\n    for (let __key in this.actions) {\n      if (__key != key && this.actions[__key]['endEvent'] === endEvent) {\n        return;\n      }\n    } //. register events\n\n\n    const _this = this;\n\n    document.addEventListener(endEvent, function (e) {\n      _this.__nextAction(endEvent, e.detail);\n    });\n  },\n  __runActionFunc: function (data) {\n    if (this.stageIndex >= this.selectedStage.length) {\n      //. if latest case, it will be run aTag\n      if (this.stageIndex == this.selectedStage.length) {\n        this.__runAtag(this.selectedElement);\n      }\n\n      return;\n    }\n\n    const actionName = this.selectedStage[this.stageIndex]; //. run function\n\n    const action = this.actions[actionName];\n\n    if (action) {\n      if (action.runFunc) {\n        action.runFunc.call(null, this.selectedElement, data);\n      } else {\n        this.__nextAction(action.endEvent, {});\n      }\n    } else {\n      let status = this.__runSpecialAction(actionName, data);\n\n      if (status === \"next\") {\n        this.__moveNextAction();\n      }\n    }\n  },\n  __nextAction: function (eventName, data) {\n    const key = this.selectedStage[this.stageIndex];\n\n    if (!key) {\n      return;\n    }\n\n    if (eventName !== this.actions[key].endEvent) {\n      return;\n    }\n\n    this.__moveNextAction(data);\n  },\n  __runAtag: function (button) {\n    var aTag = button.querySelector('a');\n\n    if (aTag) {// CoCreate.logic.setLinkProcess(aTag)\n    }\n  },\n  //. special action\n  __runSpecialAction: function (actionName, data) {\n    let matches = /(\\w+)\\{([a-zA-Z0-9_ \\-#$.]+)\\}/gm.exec(actionName);\n\n    if (!matches || matches.length < 3) {\n      return \"next\";\n    }\n\n    let type = matches[1],\n        param = matches[2].trim();\n    if (!param) return \"next\";\n    const self = this;\n\n    switch (type) {\n      case 'event':\n        console.log(\"Waiting Event....\");\n        document.addEventListener(param, eventData => {\n          console.log('Event Action (Received event from other section) ====== ' + param);\n\n          self.__moveNextAction(eventData);\n        }, {\n          once: true\n        });\n        break;\n\n      case 'timeout':\n        let delayTime = parseInt(param);\n\n        if (delayTime > 0) {\n          setTimeout(function () {\n            console.log(\"Timeout ======= \" + param);\n\n            self.__moveNextAction(data);\n          }, parseInt(param));\n        }\n\n        break;\n\n      case 'action':\n        let btn = document.querySelector(param);\n\n        if (btn) {\n          btn.click();\n        }\n\n        break;\n\n      default:\n        return \"next\";\n    }\n  },\n  __moveNextAction: function (data) {\n    this.stageIndex++;\n\n    this.__runActionFunc(data);\n  }\n};\n\nCoCreateAction.__init();\n\nvar _default = CoCreateAction;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5xdWlsbC8vaG9tZS91YnVudHUvZW52aXJvbm1lbnQvcHVibGljL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtYWN0aW9uL3NyYy9pbmRleC5qcz8zOGJhIl0sIm5hbWVzIjpbIkNvQ3JlYXRlQWN0aW9uIiwiYXR0cmlidXRlIiwiYWN0aW9ucyIsInNlbGVjdGVkU3RhZ2UiLCJzdGFnZUluZGV4Iiwic2VsZWN0ZWRFbGVtZW50IiwiY29tcGxldGVkRXZlbnROYW1lIiwiX19pbml0IiwiYWN0aW9uQnV0dG9uRXZlbnQiLCJzZWxmIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJidG4iLCJ0YXJnZXQiLCJnZXRBdHRyaWJ1dGUiLCJjbG9zZXN0IiwicHJldmVudERlZmF1bHQiLCJyZXBsYWNlIiwic3BsaXQiLCJsZW5ndGgiLCJfX3J1bkFjdGlvbkZ1bmMiLCJpbml0IiwiYWN0aW9uIiwiY2FsbGJhY2siLCJlbmRFdmVudCIsInJlZ2lzdGVyRXZlbnQiLCJrZXkiLCJydW5GdW5jIiwiaW5zdGFuY2UiLCJ3aW5kb3ciLCJfX2tleSIsIl90aGlzIiwiZSIsIl9fbmV4dEFjdGlvbiIsImRldGFpbCIsImRhdGEiLCJfX3J1bkF0YWciLCJhY3Rpb25OYW1lIiwiY2FsbCIsInN0YXR1cyIsIl9fcnVuU3BlY2lhbEFjdGlvbiIsIl9fbW92ZU5leHRBY3Rpb24iLCJldmVudE5hbWUiLCJidXR0b24iLCJhVGFnIiwicXVlcnlTZWxlY3RvciIsIm1hdGNoZXMiLCJleGVjIiwidHlwZSIsInBhcmFtIiwidHJpbSIsImNvbnNvbGUiLCJsb2ciLCJldmVudERhdGEiLCJvbmNlIiwiZGVsYXlUaW1lIiwicGFyc2VJbnQiLCJzZXRUaW1lb3V0IiwiY2xpY2siXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0EsTUFBTUEsY0FBYyxHQUFHO0FBQ3JCQyxXQUFTLEVBQUUsY0FEVTtBQUVyQkMsU0FBTyxFQUFFLEVB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QUw7QUFDRSxZQUFJckMsR0FBRyxHQUFHSCxRQUFRLENBQUNvQyxhQUFULENBQXVCSSxLQUF2QixDQUFWOztBQUNBLFlBQUlyQyxHQUFKLEVBQVM7QUFDUEEsYUFBRyxDQUFDOEMsS0FBSjtBQUNEOztBQUNEOztBQUNGO0FBQ0UsZUFBTyxNQUFQO0FBeEJKO0FBMEJELEdBNUpvQjtBQThKckJqQixrQkFBZ0IsRUFBRSxVQUFTTixJQUFULEVBQWU7QUFDL0IsU0FBS2hDLFVBQUw7O0FBQ0EsU0FBS2lCLGVBQUwsQ0FBcUJlLElBQXJCO0FBQ0Q7QUFqS29CLENBQXZCOztBQXFLQXBDLGNBQWMsQ0FBQ08sTUFBZjs7ZUFFZVAsYyIsImZpbGUiOiIuLi8uLi9Db0NyZWF0ZS1jb21wb25lbnRzL0NvQ3JlYXRlLWFjdGlvbi9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyAtdGVzdGluZzFcbmNvbnN0IENvQ3JlYXRlQWN0aW9uID0ge1xuICBhdHRyaWJ1dGU6ICdkYXRhLWFjdGlvbnMnLFxuICBhY3Rpb25zOiB7fSxcbiAgc2VsZWN0ZWRTdGFnZTogW10sXG4gIHN0YWdlSW5kZXg6IDAsXG4gIHNlbGVjdGVkRWxlbWVudDogbnVsbCxcbiAgXG4gIGNvbXBsZXRlZEV2ZW50TmFtZTogJ2NvbXBsZXRlZEV2ZW50JyxcbiAgXG4gIF9faW5pdDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5hY3Rpb25CdXR0b25FdmVudCgpXG4gIH0sXG5cbiAgYWN0aW9uQnV0dG9uRXZlbnQ6IGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIGxldCBidG4gPSBldmVudC50YXJnZXQ7XG4gICAgICBpZiAoIWJ0bi5nZXRBdHRyaWJ1dGUoJ2RhdGEtYWN0aW9ucycpKSB7XG4gICAgICAgIGJ0biA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS1hY3Rpb25zXScpO1xuICAgICAgfVxuICAgICAgaWYgKCFidG4pIHJldHVybjtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIGxldCBhY3Rpb25zID0gKGJ0bi5nZXRBdHRyaWJ1dGUoc2VsZi5hdHRyaWJ1dGUpIHx8IFwiXCIpLnJlcGxhY2UoL1xccy9nLCAnJykuc3BsaXQoJywnKTtcbiAgICAgIGlmIChhY3Rpb25zLmxlbmd0aCA9PSAwKSByZXR1cm47XG4gICAgICBzZWxmLnN0YWdlSW5kZXggPSAwO1xuICAgICAgc2VsZi5zZWxlY3RlZFN0YWdlID0gYWN0aW9ucztcbiAgICAgIFxuICAgICAgLy8uIHJ1biBmdW5jdGlvblxuICAgICAgc2VsZi5zZWxlY3RlZEVsZW1lbnQgPSBidG47XG4gICAgICBzZWxmLl9fcnVuQWN0aW9uRnVuYygpO1xuICAgIH0pXG4gIH0sXG4gIFxuICBpbml0OiBmdW5jdGlvbih7YWN0aW9uLCBjYWxsYmFjaywgZW5kRXZlbnR9KSB7XG4gICAgdGhpcy5yZWdpc3RlckV2ZW50KGFjdGlvbiwgY2FsbGJhY2ssIG51bGwsIGVuZEV2ZW50KTtcbiAgfSxcbiAgXG4gIC8qKlxuICAgKiBrZXk6IHN0cmluZ1xuICAgKiBydW5GdW5jOiBmdW5jdGlvblxuICAgKiBpbnN0YW5jZTogb2JqZWN0XG4gICAqIGVuZEV2ZW50OiBzdHJpbmdcbiAgICoqL1xuICByZWdpc3RlckV2ZW50OiBmdW5jdGlvbihrZXksIHJ1bkZ1bmMsIGluc3RhbmNlLCBlbmRFdmVudCkge1xuICAgIGlmICh0aGlzLmFjdGlvbnNba2V5XSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICB0aGlzLmFjdGlvbnNba2V5XSA9IHtcbiAgICAgIGtleToga2V5LFxuICAgICAgcnVuRnVuYzogcnVuRnVuYyxcbiAgICAgIGluc3RhbmNlOiBpbnN0YW5jZSB8fCB3aW5kb3csXG4gICAgICBlbmRFdmVudDogZW5kRXZlbnRcbiAgICB9XG4gICAgLy8uIHJlZ2lzdGVyIGV2ZW50c1xuICAgIFxuICAgIGZvciAobGV0IF9fa2V5IGluIHRoaXMuYWN0aW9ucykge1xuICAgICAgaWYgKF9fa2V5ICE9IGtleSAmJiB0aGlzLmFjdGlvbnNbX19rZXldWydlbmRFdmVudCddID09PSBlbmRFdmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vLiByZWdpc3RlciBldmVudHNcbiAgICBjb25zdCBfdGhpcyA9IHRoaXM7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihlbmRFdmVudCwgZnVuY3Rpb24oZSkge1xuICAgICAgX3RoaXMuX19uZXh0QWN0aW9uKGVuZEV2ZW50LCBlLmRldGFpbClcbiAgICB9KTtcbiAgfSxcbiAgXG4gIF9fcnVuQWN0aW9uRnVuYzogZnVuY3Rpb24oZGF0YSkge1xuXG4gICAgaWYgKHRoaXMuc3RhZ2VJbmRleCA+PSB0aGlzLnNlbGVjdGVkU3RhZ2UubGVuZ3RoKSB7XG5cbiAgICAgIC8vLiBpZiBsYXRlc3QgY2FzZSwgaXQgd2lsbCBiZSBydW4gYVRhZ1xuICAgICAgaWYgKHRoaXMuc3RhZ2VJbmRleCA9PSB0aGlzLnNlbGVjdGVkU3RhZ2UubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuX19ydW5BdGFnKHRoaXMuc2VsZWN0ZWRFbGVtZW50KTsgICAgICAgIFxuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBhY3Rpb25OYW1lID0gdGhpcy5zZWxlY3RlZFN0YWdlW3RoaXMuc3RhZ2VJbmRleF07XG4gICAgLy8uIHJ1biBmdW5jdGlvblxuICAgIGNvbnN0IGFjdGlvbiA9IHRoaXMuYWN0aW9uc1thY3Rpb25OYW1lXTtcbiAgICBpZiAoYWN0aW9uKSB7XG4gICAgICBpZiAoYWN0aW9uLnJ1bkZ1bmMpIHtcbiAgICAgICAgYWN0aW9uLnJ1bkZ1bmMuY2FsbChudWxsLCB0aGlzLnNlbGVjdGVkRWxlbWVudCwgZGF0YSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9fbmV4dEFjdGlvbihhY3Rpb24uZW5kRXZlbnQsIHt9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHN0YXR1cyA9IHRoaXMuX19ydW5TcGVjaWFsQWN0aW9uKGFjdGlvbk5hbWUsIGRhdGEpO1xuICAgICAgaWYgKHN0YXR1cyA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgdGhpcy5fX21vdmVOZXh0QWN0aW9uKCk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBcbiAgX19uZXh0QWN0aW9uOiBmdW5jdGlvbihldmVudE5hbWUsIGRhdGEpIHtcbiAgICBjb25zdCBrZXkgPSB0aGlzLnNlbGVjdGVkU3RhZ2VbdGhpcy5zdGFnZUluZGV4XTtcbiAgICBpZiAoIWtleSkge1xuICAgICAgcmV0dXJuIDtcbiAgICB9XG4gICAgaWYgKGV2ZW50TmFtZSAhPT0gdGhpcy5hY3Rpb25zW2tleV0uZW5kRXZlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fX21vdmVOZXh0QWN0aW9uKGRhdGEpO1xuICB9LFxuICBcbiAgX19ydW5BdGFnOiBmdW5jdGlvbihidXR0b24pIHtcbiAgICB2YXIgYVRhZyA9IGJ1dHRvbi5xdWVyeVNlbGVjdG9yKCdhJyk7XG4gICAgICAgICAgXG4gICAgaWYgKGFUYWcpIHtcbiAgICAgIC8vIENvQ3JlYXRlLmxvZ2ljLnNldExpbmtQcm9jZXNzKGFUYWcpXG4gICAgfVxuICB9LFxuICBcbiAgLy8uIHNwZWNpYWwgYWN0aW9uXG4gIFxuICBfX3J1blNwZWNpYWxBY3Rpb246IGZ1bmN0aW9uKGFjdGlvbk5hbWUsIGRhdGEpIHtcbiAgICBsZXQgbWF0Y2hlcyA9IC8oXFx3KylcXHsoW2EtekEtWjAtOV8gXFwtIyQuXSspXFx9L2dtLmV4ZWMoYWN0aW9uTmFtZSlcbiAgICBcbiAgICBpZiAoIW1hdGNoZXMgfHwgbWF0Y2hlcy5sZW5ndGggPCAzKSB7XG4gICAgICByZXR1cm4gXCJuZXh0XCI7XG4gICAgfVxuICAgIFxuICAgIGxldCB0eXBlID0gbWF0Y2hlc1sxXSwgcGFyYW0gPSBtYXRjaGVzWzJdLnRyaW0oKVxuICAgIGlmICghcGFyYW0pIHJldHVybiBcIm5leHRcIjtcbiAgICBcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ2V2ZW50JzpcbiAgICAgICAgY29uc29sZS5sb2coXCJXYWl0aW5nIEV2ZW50Li4uLlwiKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihwYXJhbSwgKGV2ZW50RGF0YSkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdFdmVudCBBY3Rpb24gKFJlY2VpdmVkIGV2ZW50IGZyb20gb3RoZXIgc2VjdGlvbikgPT09PT09ICcgKyBwYXJhbSk7XG4gICAgICAgICAgc2VsZi5fX21vdmVOZXh0QWN0aW9uKGV2ZW50RGF0YSk7XG4gICAgICAgIH0sIHsgb25jZTogdHJ1ZSB9KVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RpbWVvdXQnOlxuICAgICAgICBsZXQgZGVsYXlUaW1lID0gcGFyc2VJbnQocGFyYW0pO1xuICAgICAgICBpZiAoZGVsYXlUaW1lID4gMCkge1xuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRpbWVvdXQgPT09PT09PSBcIiArIHBhcmFtKVxuICAgICAgICAgICAgc2VsZi5fX21vdmVOZXh0QWN0aW9uKGRhdGEpO1xuICAgICAgICAgIH0sIHBhcnNlSW50KHBhcmFtKSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdhY3Rpb24nOlxuICAgICAgICBsZXQgYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihwYXJhbSk7XG4gICAgICAgIGlmIChidG4pIHtcbiAgICAgICAgICBidG4uY2xpY2soKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBcIm5leHRcIjtcbiAgICB9XG4gIH0sXG4gIFxuICBfX21vdmVOZXh0QWN0aW9uOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgdGhpcy5zdGFnZUluZGV4ICsrO1xuICAgIHRoaXMuX19ydW5BY3Rpb25GdW5jKGRhdGEpO1xuICB9LFxufVxuXG5cbkNvQ3JlYXRlQWN0aW9uLl9faW5pdCgpO1xuXG5leHBvcnQgZGVmYXVsdCBDb0NyZWF0ZUFjdGlvbjsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../CoCreate-components/CoCreate-action/src/index.js\n")},"../../CoCreate-components/CoCreate-crdt/src/core.js":function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nvar Y = _interopRequireWildcard(__webpack_require__(/*! yjs */ "../../CoCreate-components/CoCreate-crdt/node_modules/yjs/dist/yjs.mjs"));\n\nvar _yWebsocket = __webpack_require__(/*! y-websocket */ "../../CoCreate-components/CoCreate-crdt/node_modules/y-websocket/src/y-websocket.js");\n\nvar _yIndexeddb = __webpack_require__(/*! y-indexeddb */ "../../CoCreate-components/CoCreate-crdt/node_modules/y-indexeddb/src/y-indexeddb.js");\n\nvar _cocreatejs = __webpack_require__(/*! @cocreate/cocreatejs */ "../../CoCreateJS/src/index.js");\n\nvar _cursors = _interopRequireDefault(__webpack_require__(/*! @cocreate/cursors */ "../../CoCreate-components/CoCreate-cursors/src/index.js"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst debug = false;\n\nclass CoCreateYSocket {\n  constructor(org, ydoc) {\n    this.doc = ydoc;\n    this.orgName = org;\n    this.docs = {};\n    this._awarenessListener = null;\n    this.character = \'_\';\n\n    this.listenAwereness = function () {};\n  }\n\n  createDoc(id, element) {\n    if (!id || id == "") {\n      return null;\n    }\n\n    let newInfo = this.parseType(id); // if(debug)\n    // \tconsole.log(newInfo);\n\n    const newId = newInfo.id;\n\n    if (this.docs[newId]) {\n      if (element && !this.__checkExistElement(this.docs[newId].elements, element)) {\n        this.docs[newId].elements.push(element);\n      }\n\n      if (!this.docs[newId].types.some(type => type === id)) {\n        // register event\n        this.docs[newId].types.push(id);\n        this.registerUpdateEvent(this.docs[newId], id);\n      }\n\n      return false;\n    }\n\n    const yDoc = this.doc;\n\n    const url_socket = this.__getSocketUrl(); //draw cursor dinamially\n    // new UserCursor(socketProvider);\n\n\n    var socketProvider = new _yWebsocket.WebsocketProvider(url_socket, newId, yDoc);\n    let indexeddbProvider = null;\n\n    if (newInfo.document_id != "null") {\n      indexeddbProvider = new _yIndexeddb.IndexeddbPersistence(newId, this.doc);\n      indexeddbProvider.whenSynced.then(() => {\n        console.log(\'loaded data from indexed db\');\n      });\n    }\n\n    let awareness = socketProvider.awareness;\n    this._cursors = new Map();\n\n    this._awarenessListener = event => {\n      const f = clientId => {\n        if (clientId !== this.doc.clientID) {\n          this.updateRemoteSelection(yDoc, id, yDoc.getText(id), this._cursors, clientId, awareness);\n        }\n      };\n\n      event.added.forEach(f);\n      event.removed.forEach(f);\n      event.updated.forEach(f);\n    };\n\n    awareness.on(\'change\', this._awarenessListener);\n    /*\n    awareness.getStates().forEach((aw, clientId) => {\n    \tconsole.log("Update --")\n          })\n          */\n\n    this.docs[newId] = {\n      id: newId,\n      doc: yDoc,\n      socket: socketProvider,\n      awareness: awareness,\n      elements: element ? [element] : [],\n      types: [id],\n      indexeddb: indexeddbProvider\n    };\n    this.registerUpdateEvent(this.docs[newId], id);\n    return true;\n  }\n\n  registerUpdateEvent(docObject, id) {\n    const yDoc = docObject.doc;\n    const shardType = yDoc.getText(id);\n\n    let _this = this;\n\n    shardType.observe(event => {\n      _this.__setTypeObserveEvent(event, docObject.elements, id);\n    });\n  }\n\n  __checkExistElement(elements, element) {\n    for (var i = 0; i < elements.length; i++) {\n      if (elements[i].isSameNode(element)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  __getSocketUrl() {\n    console.log("get_socket url");\n    let w_location = window.location || window.parent.location;\n    let w_protocol = w_location.protocol;\n    let w_host = w_location.host;\n\n    if (w_location.protocol === "about:") {\n      w_protocol = w_location.protocol;\n      w_host = document.referrer;\n    }\n\n    let protocol = w_protocol === \'http:\' ? \'ws\' : \'wss\';\n    let url_socket = `${protocol}://${w_host}:8080/`;\n\n    if (window.config && window.config.host) {\n      if (window.config.host.includes("://")) {\n        url_socket = `${window.config.host}/`;\n      } else {\n        url_socket = `${protocol}://${window.config.host}/`;\n      }\n    }\n\n    console.log(url_socket);\n    url_socket += "crdt/";\n    return url_socket;\n  }\n\n  __setTypeObserveEvent(event, elements, id) {\n    if (!id) return;\n    const eventDelta = event.delta;\n    const info = JSON.parse(atob(id));\n    let is_save_value = false;\n    const wholestring = event.target.toString();\n    const store_event = new CustomEvent(\'store-content-db\', {\n      detail: wholestring\n    });\n    const update_event = new CustomEvent(\'cocreate-y-update\', {\n      detail: eventDelta\n    });\n    elements.forEach(el => {\n      if (_cocreatejs.utils.isReadValue(el) && el.getAttribute(\'name\') === info.name) {\n        el.dispatchEvent(update_event);\n      }\n    });\n\n    if (typeof info !== \'object\') {\n      return;\n    }\n\n    if (event.transaction.local) {\n      if (elements.length == 0) {\n        is_save_value = true;\n      }\n\n      elements.forEach(el => {\n        if (el.getAttribute(\'data-save_value\') != \'false\' && el.getAttribute(\'name\') === info.name && info.document_id != "null") {\n          is_save_value = true;\n          el.dispatchEvent(store_event);\n        }\n      });\n\n      if (is_save_value) {\n        _cocreatejs.crud.updateDocument({\n          collection: info.collection,\n          document_id: info.document_id,\n          data: {\n            [info.name]: wholestring\n          },\n          metadata: \'yjs-change\'\n        });\n      }\n    } else {}\n  }\n\n  deleteDoc(id) {\n    const info = this.parseType(id);\n\n    if (this.docs[info.id]) {\n      delete this.docs[info.id];\n    }\n  }\n\n  generateDocName(collection, document_id, name) {\n    const info = {\n      org: this.orgName,\n      collection,\n      document_id,\n      name\n    };\n    return btoa(JSON.stringify(info)); // return this.orgName + "_" + collection + "_" + document_id + "_" + name;\n  }\n\n  insertData(id, index, content, attribute) {\n    const info = this.parseType(id);\n\n    if (this.docs[info.id]) {\n      if (attribute) {\n        this.docs[info.id].doc.getText(id).insert(index, content, attribute);\n      } else {\n        this.docs[info.id].doc.getText(id).insert(index, content);\n      }\n    }\n  }\n\n  deleteData(id, index, length) {\n    const info = this.parseType(id);\n\n    if (this.docs[info.id]) {\n      this.docs[info.id].doc.getText(id).delete(index, length);\n    }\n  }\n\n  getWholeString(id) {\n    const info = this.parseType(id);\n\n    if (this.docs[info.id]) {\n      console.log("!Get data");\n      return this.docs[info.id].doc.getText(id).toString();\n    } else {\n      return "--";\n    }\n  }\n\n  updateRemoteSelection(y, cm, type, cursors, clientId, awareness) {\n    if (debug) console.log("CHANGE ---- DOCID ", this.doc.clientID, \' OTHER CLIENTEID \', clientId);\n\n    if (clientId !== this.doc.clientID) {\n      //console.log("TEXT -> updateRemoteSelection ",clientId,awareness,cursor)\n      //console.log("AW status",awareness.getLocalState())\n      // destroy current text mark\n      const m = cursors.get(clientId);\n\n      if (m !== undefined) {\n        m.caret.clear();\n\n        if (m.sel !== null) {\n          m.sel.clear();\n        }\n\n        cursors.delete(clientId);\n      } // redraw caret and selection for clientId\n\n\n      const aw = awareness.getStates().get(clientId);\n      if (debug) console.log(aw);\n\n      if (aw === undefined) {\n        if (debug) console.log(" Cursor OUT ", clientId); //awareness.setLocalStateField(\'cursor\', null);\n\n        let elements = document.querySelectorAll(\'[id*="socket_\' + clientId + \'"]\');\n        elements.forEach(function (element, index, array) {\n          element.parentNode.removeChild(element);\n        });\n        let sel_elements = document.querySelectorAll(\'[id*="sel-\' + clientId + \'"]\');\n        sel_elements.forEach(function (sel_element, index, array) {\n          sel_element.parentNode.removeChild(sel_element);\n        });\n        /*\n         let element = document.getElementById("socket_"+clientId)\n         let sel_element = document.getElementById("sel-"+clientId)\n         if(element)\n        element.parentNode.removeChild(element);\n        if(sel_element)\n        sel_element.parentNode.removeChild(sel_element);\n         */\n\n        return;\n      }\n\n      const user = aw.user || {};\n\n      if (user.color == null) {\n        user.color = \'#ffa500\';\n      }\n\n      if (user.name == null) {\n        user.name = `User: ${clientId}`;\n      }\n\n      const cursor = aw.cursor;\n      if (debug) console.log("Cursor ", cursor);\n\n      if (cursor == null || cursor.anchor == null || cursor.head == null) {\n        //let element = document.getElementById("socket_"+clientId)\n        let elements = document.querySelectorAll(\'[id*="socket_\' + clientId + \'"]\');\n        elements.forEach(function (element, index, array) {\n          element.parentNode.removeChild(element);\n        }); //let sel_element = document.getElementById("sel-"+clientId)  \n\n        let sel_elements = document.querySelectorAll(\'[id*="sel-\' + clientId + \'"]\');\n        sel_elements.forEach(function (sel_element, index, array) {\n          sel_element.parentNode.removeChild(sel_element);\n        });\n        return;\n      }\n\n      const anchor = Y.createAbsolutePositionFromRelativePosition(Y.createRelativePositionFromJSON(cursor.anchor), y);\n      const head = Y.createAbsolutePositionFromRelativePosition(Y.createRelativePositionFromJSON(cursor.head), y); //CoCreate.cursors.draw_cursor(1,11,12,66,{},true);\n\n      if (debug) {\n        console.log("PRE Draw Cursor ");\n        console.log("anchor  ", anchor, " head ", head, \' Type \', type);\n        console.log("anchor  Type", anchor.type === type);\n        console.log("anchor  Type", head.type === type);\n      } //if (anchor !== null && head !== null && anchor.type === type && head.type === type) {\n\n\n      if (anchor !== null && head !== null) {\n        let from, to;\n\n        if (head.index < anchor.index) {\n          from = head.index;\n          to = anchor.index;\n        } else {\n          if (debug) console.log(anchor.index);\n          from = anchor.index;\n          to = head.index;\n        }\n\n        if (debug) console.log("Draw Cursor ", from, to, clientId, aw.user);\n        let t_info = this.parseTypeName(cursor.anchor[\'tname\']);\n        let id_mirror = t_info.document_id + t_info.name + \'--mirror-div\';\n        let json = {};\n        let selector = \'[data-collection="\' + t_info.collection + \'"][data-document_id="\' + t_info.document_id + \'"][name="\' + t_info.name + \'"]\';\n        selector += \':not(.codemirror):not(.quill):not(.monaco)\';\n        let elements = document.querySelectorAll(selector);\n        let that = this;\n        elements.forEach(function (element, index, array) {\n          json = {\n            element: element,\n            startPosition: from,\n            selector: selector,\n            endPositon: to,\n            clientId: clientId,\n            user: {\n              \'color\': user.color,\n              \'name\': user.name\n            }\n          };\n          console.log(json);\n\n          _cursors.default.draw_cursor(json); //sent custom position\n\n\n          that.listen(json);\n        });\n      }\n    }\n  }\n\n  changeListenAwereness(callback) {\n    this.listenAwereness = callback;\n  }\n\n  listen(json) {\n    this.listenAwereness.apply(this, [json]);\n  }\n\n  destroyObserver(id, element) {\n    const info = this.parseType(id);\n    this.docs[info.id].doc.getText(id).unobserve(event => {});\n    this.docs[info.id].socket.awareness.off(\'change\', this._awarenessListener);\n  }\n\n  getProvider(id) {\n    const info = this.parseType(id);\n\n    if (!this.docs[info.id]) {\n      return null;\n    }\n\n    return this.docs[info.id].socket;\n  }\n\n  getType(id) {\n    const info = this.parseType(id);\n\n    if (!this.docs[info.id]) {\n      return null;\n    }\n\n    return this.docs[info.id].doc.getText(id);\n  }\n\n  setCursorNull(id) {\n    const info = this.parseType(id);\n\n    if (!this.docs[info.id]) {\n      return null;\n    }\n\n    this.docs[info.id].socket.awareness.setLocalStateField(\'cursor\', null);\n  }\n\n  setPositionYJS(id, from, to) {\n    const info = this.parseType(id);\n    const type = this.getType(id); //console.log("Type ",type)\n\n    if (!type) {\n      return;\n    }\n\n    var anchor = Y.createRelativePositionFromTypeIndex(type, from);\n    var head = Y.createRelativePositionFromTypeIndex(type, to);\n    if (debug) console.log("Sending Cursor ", {\n      anchor,\n      head\n    }, {\n      \'to\': to,\n      \'from\': from,\n      \'info.id\': info.id\n    });\n    this.docs[info.id].socket.awareness.setLocalStateField(\'cursor\', {\n      anchor,\n      head\n    });\n    /*\n    if(debug)\n    \tconsole.log("Cursor Send")\n    \t*/\n  } //send Position Custom\n\n\n  sendPosition(json) {\n    let collection = json[\'collection\'];\n    let document_id = json[\'document_id\'];\n    let name = json[\'name\'];\n    let from = json[\'startPosition\'];\n    let to = json[\'endPositon\'];\n    let id = this.generateID(config.organization_Id, collection, document_id, name);\n    this.setPositionYJS(id, from, to);\n  }\n\n  generateID(org, collection, document_id, name) {\n    const info = {\n      org,\n      collection,\n      document_id,\n      name\n    };\n    return btoa(JSON.stringify(info));\n  }\n\n  parseTypeName(name) {\n    const data = JSON.parse(atob(name));\n    return data;\n  }\n\n  parseType(id) {\n    let data = JSON.parse(atob(id));\n    let newId = {\n      org: data.org,\n      collection: data.collection,\n      document_id: data.document_id\n    };\n    return {\n      id: btoa(JSON.stringify(newId)),\n      name: data.name,\n      document_id: data.document_id\n    };\n  }\n\n}\n\nvar _default = CoCreateYSocket;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5xdWlsbC8vaG9tZS91YnVudHUvZW52aXJvbm1lbnQvcHVibGljL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtY3JkdC9zcmMvY29yZS5qcz8yMDQwIl0sIm5hbWVzIjpbImRlYnVnIiwiQ29DcmVhdGVZU29ja2V0IiwiY29uc3RydWN0b3IiLCJvcmciLCJ5ZG9jIiwiZG9jIiwib3JnTmFtZSIsImRvY3MiLCJfYXdhcmVuZXNzTGlzdGVuZXIiLCJjaGFyYWN0ZXIiLCJsaXN0ZW5Bd2VyZW5lc3MiLCJjcmVhdGVEb2MiLCJpZCIsImVsZW1lbnQiLCJuZXdJbmZvIiwicGFyc2VUeXBlIiwibmV3SWQiLCJfX2NoZWNrRXhpc3RFbGVtZW50IiwiZWxlbWVudHMiLCJwdXNoIiwidHlwZXMiLCJzb21lIiwidHlwZSIsInJlZ2lzdGVyVXBkYXRlRXZlbnQiLCJ5RG9jIiwidXJsX3NvY2tldCIsIl9fZ2V0U29ja2V0VXJsIiwic29ja2V0UHJvdmlkZXIiLCJXZWJzb2NrZXRQcm92aWRlciIsImluZGV4ZWRkYlByb3ZpZGVyIiwiZG9jdW1lbnRfaWQiLCJJbmRleGVkZGJQZXJzaXN0ZW5jZSIsIndoZW5TeW5jZWQiLCJ0aGVuIiwiY29uc29sZSIsImxvZyIsImF3YXJlbmVzcyIsIl9jdXJzb3JzIiwiTWFwIiwiZXZlbnQiLCJmIiwiY2xpZW50SWQiLCJjbGllbnRJRCIsInVwZGF0ZVJlbW90ZVNlbGVjdGlvbiIsImdldFRleHQiLCJhZGRlZCIsImZvckVhY2giLCJyZW1vdmVkIiwidXBkYXRlZCIsIm9uIiwic29ja2V0IiwiaW5kZXhlZGRiIiwiZG9jT2JqZWN0Iiwic2hhcmRUeXBlIiwiX3RoaXMiLCJvYnNlcnZlIiwiX19zZXRUeXBlT2JzZXJ2ZUV2ZW50IiwiaSIsImxlbmd0aCIsImlzU2FtZU5vZGUiLCJ3X2xvY2F0aW9uIiwid2luZG93IiwibG9jYXRpb24iLCJwYXJlbnQiLCJ3X3Byb3RvY29sIiwicHJvdG9jb2wiLCJ3X2hvc3QiLCJob3N0IiwiZG9jdW1lbnQiLCJyZWZlcnJlciIsImNvbmZpZyIsImluY2x1ZGVzIiwiZXZlbnREZWx0YSIsImRlbHRhIiwiaW5mbyIsIkpTT04iLCJwYXJzZSIsImF0b2IiLCJpc19zYXZlX3ZhbHVlIiwid2hvbGVzdHJpbmciLCJ0YXJnZXQiLCJ0b1N0cmluZyIsInN0b3JlX2V2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJ1cGRhdGVfZXZlbnQiLCJlbCIsInV0aWxzIiwiaXNSZWFkVmFsdWUiLCJnZXRBdHRyaWJ1dGUiLCJuYW1lIiwiZGlzcGF0Y2hFdmVudCIsInRyYW5zYWN0aW9uIiwibG9jYWwiLCJjcnVkIiwidXBkYXRlRG9jdW1lbnQiLCJjb2xsZWN0aW9uIiwiZGF0YSIsIm1ldGFkYXRhIiwiZGVsZXRlRG9jIiwiZ2VuZXJhdGVEb2NOYW1lIiwiYnRvYSIsInN0cmluZ2lmeSIsImluc2VydERhdGEiLCJpbmRleCIsImNvbnRlbnQiLCJhdHRyaWJ1dGUiLCJpbnNlcnQiLCJkZWxldGVEYXRhIiwiZGVsZXRlIiwiZ2V0V2hvbGVTdHJpbmciLCJ5IiwiY20iLCJjdXJzb3JzIiwibSIsImdldCIsInVuZGVmaW5lZCIsImNhcmV0IiwiY2xlYXIiLCJzZWwiLCJhdyIsImdldFN0YXRlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhcnJheSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInNlbF9lbGVtZW50cyIsInNlbF9lbGVtZW50IiwidXNlciIsImNvbG9yIiwiY3Vyc29yIiwiYW5jaG9yIiwiaGVhZCIsIlkiLCJjcmVhdGVBYnNvbHV0ZVBvc2l0aW9uRnJvbVJlbGF0aXZlUG9zaXRpb24iLCJjcmVhdGVSZWxhdGl2ZVBvc2l0aW9uRnJvbUpTT04iLCJmcm9tIiwidG8iLCJ0X2luZm8iLCJwYXJzZVR5cGVOYW1lIiwiaWRfbWlycm9yIiwianNvbiIsInNlbGVjdG9yIiwidGhhdCIsInN0YXJ0UG9zaXRpb24iLCJlbmRQb3NpdG9uIiwiQ29DcmVhdGVDdXJzb3JzIiwiZHJhd19jdXJzb3IiLCJsaXN0ZW4iLCJjaGFuZ2VMaXN0ZW5Bd2VyZW5lc3MiLCJjYWxsYmFjayIsImFwcGx5IiwiZGVzdHJveU9ic2VydmVyIiwidW5vYnNlcnZlIiwib2ZmIiwiZ2V0UHJvdmlkZXIiLCJnZXRUeXBlIiwic2V0Q3Vyc29yTnVsbCIsInNldExvY2FsU3RhdGVGaWVsZCIsInNldFBvc2l0aW9uWUpTIiwiY3JlYXRlUmVsYXRpdmVQb3NpdGlvbkZyb21UeXBlSW5kZXgiLCJzZW5kUG9zaXRpb24iLCJnZW5lcmF0ZUlEIiwib3JnYW5pemF0aW9uX0lkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7Ozs7O0FBRUEsTUFBTUEsS0FBSyxHQUFHLEtBQWQ7O0FBRUEsTUFBTUMsZUFBTixDQUFzQjtBQUNyQkMsYUFBVyxDQUFDQyxHQUFELEVBQU1DLElBQU4sRUFBWTtBQUN0QixTQUFLQyxHQUFMLEdBQVdELElBQVg7QUFDQSxTQUFLRSxPQUFMLEdBQWVILEdBQWY7QUFDQSxTQUFLSSxJQUFMLEdBQVksRUFBWjtBQUNBLFNBQUtDLGtCQUFMLEdBQTBCLElBQTFCO0FBQ0EsU0FBS0MsU0FBTCxHQUFpQixHQUFqQjs7QUFDQSxTQUFLQyxlQUFMLEdBQXVCLFlBQVUsQ0FBRSxDQUFuQztBQUNBOztBQUVEQyxXQUFTLENBQUNDLEVBQUQsRUFBS0MsT0FBTCxFQUFjO0FBQ3RCLFFBQUksQ0FBQ0QsRUFBRCxJQUFPQSxFQUFFLElBQUksRUFBakIsRUFBcUI7QUFDcEIsYUFBTyxJQUFQO0FBQ0E7O0FBRUQsUUFBSUUsT0FBTyxHQUFHLEtBQUtDLFNBQUwsQ0FBZUgsRUFBZixDQUFkLENBTHNCLENBTXRCO0FBQ0E7O0FBRUEsVUFBTUksS0FBSyxHQUFHRixPQUFPLENBQUNGLEVBQXRCOztBQUVBLFFBQUksS0FBS0wsSUFBTCxDQUFVUyxLQUFWLENBQUosRUFBc0I7QUFDckIsVUFBSUgsT0FBTyxJQUFJLENBQUMsS0FBS0ksbUJBQUwsQ0FBeUIsS0FBS1YsSUFB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QixJQUFJLENBQUMyQixTQUFMLENBQWU1QixJQUFmLENBQUQsQ0FBWDtBQUNBOztBQUVEaUUsZUFBYSxDQUFDakQsSUFBRCxFQUFPO0FBQ25CLFVBQU1PLElBQUksR0FBR3RCLElBQUksQ0FBQ0MsS0FBTCxDQUFXQyxJQUFJLENBQUNhLElBQUQsQ0FBZixDQUFiO0FBQ0EsV0FBT08sSUFBUDtBQUNBOztBQUVEbEYsV0FBUyxDQUFDSCxFQUFELEVBQUs7QUFDYixRQUFJcUYsSUFBSSxHQUFHdEIsSUFBSSxDQUFDQyxLQUFMLENBQVdDLElBQUksQ0FBQ2pFLEVBQUQsQ0FBZixDQUFYO0FBRUEsUUFBSUksS0FBSyxHQUFHO0FBQUNiLFNBQUcsRUFBRThGLElBQUksQ0FBQzlGLEdBQVg7QUFBZ0I2RixnQkFBVSxFQUFFQyxJQUFJLENBQUNELFVBQWpDO0FBQTZDbEUsaUJBQVcsRUFBRW1FLElBQUksQ0FBQ25FO0FBQS9ELEtBQVo7QUFDQSxXQUFPO0FBQ05sQixRQUFFLEVBQUV5RixJQUFJLENBQUMxQixJQUFJLENBQUMyQixTQUFMLENBQWV0RixLQUFmLENBQUQsQ0FERjtBQUVOMEUsVUFBSSxFQUFFTyxJQUFJLENBQUNQLElBRkw7QUFHTjVELGlCQUFXLEVBQUVtRSxJQUFJLENBQUNuRTtBQUhaLEtBQVA7QUFLQTs7QUEzYm9COztlQThiUDdCLGUiLCJmaWxlIjoiLi4vLi4vQ29DcmVhdGUtY29tcG9uZW50cy9Db0NyZWF0ZS1jcmR0L3NyYy9jb3JlLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgKiBhcyBZIGZyb20gJ3lqcydcbmltcG9ydCB7IFdlYnNvY2tldFByb3ZpZGVyIH0gZnJvbSAneS13ZWJzb2NrZXQnXG5pbXBvcnQgeyBmZXRjaFVwZGF0ZXMsIHN0b3JlU3RhdGUsIEluZGV4ZWRkYlBlcnNpc3RlbmNlIH0gZnJvbSAneS1pbmRleGVkZGInXG5pbXBvcnQge2NydWQsIHV0aWxzfSBmcm9tICdAY29jcmVhdGUvY29jcmVhdGVqcyc7XG5pbXBvcnQgQ29DcmVhdGVDdXJzb3JzIGZyb20gJ0Bjb2NyZWF0ZS9jdXJzb3JzJ1xuXG5jb25zdCBkZWJ1ZyA9IGZhbHNlO1xuXG5jbGFzcyBDb0NyZWF0ZVlTb2NrZXQge1xuXHRjb25zdHJ1Y3RvcihvcmcsIHlkb2MpIHtcblx0XHR0aGlzLmRvYyA9IHlkb2M7XG5cdFx0dGhpcy5vcmdOYW1lID0gb3JnO1xuXHRcdHRoaXMuZG9jcyA9IHt9O1xuXHRcdHRoaXMuX2F3YXJlbmVzc0xpc3RlbmVyID0gbnVsbDtcblx0XHR0aGlzLmNoYXJhY3RlciA9ICdfJztcblx0XHR0aGlzLmxpc3RlbkF3ZXJlbmVzcyA9IGZ1bmN0aW9uKCl7fVxuXHR9XG5cdFxuXHRjcmVhdGVEb2MoaWQsIGVsZW1lbnQpIHtcblx0XHRpZiAoIWlkIHx8IGlkID09IFwiXCIpIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0XHRcblx0XHRsZXQgbmV3SW5mbyA9IHRoaXMucGFyc2VUeXBlKGlkKVxuXHRcdC8vIGlmKGRlYnVnKVxuXHRcdC8vIFx0Y29uc29sZS5sb2cobmV3SW5mbyk7XG5cdFx0XG5cdFx0Y29uc3QgbmV3SWQgPSBuZXdJbmZvLmlkO1xuXHRcdFxuXHRcdGlmICh0aGlzLmRvY3NbbmV3SWRdKSB7IFxuXHRcdFx0aWYgKGVsZW1lbnQgJiYgIXRoaXMuX19jaGVja0V4aXN0RWxlbWVudCh0aGlzLmRvY3NbbmV3SWRdLmVsZW1lbnRzLCBlbGVtZW50KSkge1xuXHRcdFx0XHR0aGlzLmRvY3NbbmV3SWRdLmVsZW1lbnRzLnB1c2goZWxlbWVudCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICghdGhpcy5kb2NzW25ld0lkXS50eXBlcy5zb21lKCh0eXBlKSA9PiB0eXBlID09PSBpZCkpIHtcblx0XHRcdFx0Ly8gcmVnaXN0ZXIgZXZlbnRcblx0XHRcdFx0dGhpcy5kb2NzW25ld0lkXS50eXBlcy5wdXNoKGlkKTtcblx0XHRcdFx0dGhpcy5yZWdpc3RlclVwZGF0ZUV2ZW50KHRoaXMuZG9jc1tuZXdJZF0sIGlkKVxuXHRcdFx0XHRcblx0XHRcdH1cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9IFxuXHRcdFxuXHRcdGNvbnN0IHlEb2MgPSB0aGlzLmRvY1xuXHRcdFxuXHRcdGNvbnN0IHVybF9zb2NrZXQgPSB0aGlzLl9fZ2V0U29ja2V0VXJsKCk7XG5cdFx0Ly9kcmF3IGN1cnNvciBkaW5hbWlhbGx5XG5cdFx0Ly8gbmV3IFVzZXJDdXJzb3Ioc29ja2V0UHJvdmlkZXIpO1xuXG5cdFx0XHRcblx0XHR2YXIgc29ja2V0UHJvdmlkZXIgPSBuZXcgV2Vic29ja2V0UHJvdmlkZXIodXJsX3NvY2tldCwgbmV3SWQsIHlEb2MpO1xuXHRcdGxldCBpbmRleGVkZGJQcm92aWRlciA9IG51bGw7XG5cdFx0aWYgKG5ld0luZm8uZG9jdW1lbnRfaWQgIT0gXCJudWxsXCIpIHtcblx0XHRcdGluZGV4ZWRkYlByb3ZpZGVyID0gbmV3IEluZGV4ZWRkYlBlcnNpc3RlbmNlKG5ld0lkLCB0aGlzLmRvYylcblx0XHRcdGluZGV4ZWRkYlByb3ZpZGVyLndoZW5TeW5jZWQudGhlbigoKSA9PiB7XG5cdFx0XHQgIGNvbnNvbGUubG9nKCdsb2FkZWQgZGF0YSBmcm9tIGluZGV4ZWQgZGInKVxuXHRcdFx0fSlcblx0XHR9XHRcblx0XHRcblx0XHRsZXQgYXdhcmVuZXNzID0gc29ja2V0UHJvdmlkZXIuYXdhcmVuZXNzO1xuXHRcdFxuXHRcdHRoaXMuX2N1cnNvcnMgPSBuZXcgTWFwKCk7XG5cdFx0XG5cdFx0dGhpcy5fYXdhcmVuZXNzTGlzdGVuZXIgPSBldmVudCA9PiB7XG5cdFx0ICBjb25zdCBmID0gY2xpZW50SWQgPT4ge1xuXHRcdFx0aWYgKGNsaWVudElkICE9PSB0aGlzLmRvYy5jbGllbnRJRCkge1xuXHRcdFx0ICB0aGlzLnVwZGF0ZVJlbW90ZVNlbGVjdGlvbih5RG9jLCBpZCwgeURvYy5nZXRUZXh0KGlkKSwgdGhpcy5fY3Vyc29ycywgY2xpZW50SWQsIGF3YXJlbmVzcylcblx0XHRcdH1cblx0XHQgIH1cblx0XHQgIGV2ZW50LmFkZGVkLmZvckVhY2goZilcblx0XHQgIGV2ZW50LnJlbW92ZWQuZm9yRWFjaChmKVxuXHRcdCAgZXZlbnQudXBkYXRlZC5mb3JFYWNoKGYpXG5cdFx0fVxuXHRcdFxuXHRcdGF3YXJlbmVzcy5vbignY2hhbmdlJywgdGhpcy5fYXdhcmVuZXNzTGlzdGVuZXIpO1xuXHRcdC8qXG5cdFx0YXdhcmVuZXNzLmdldFN0YXRlcygpLmZvckVhY2goKGF3LCBjbGllbnRJZCkgPT4ge1xuXHRcdFx0Y29uc29sZS5sb2coXCJVcGRhdGUgLS1cIilcbiAgICAgICAgfSlcbiAgICAgICAgKi9cbiAgICAgICAgXG4gICAgICAgIHRoaXMuZG9jc1tuZXdJZF0gPSB7XG5cdFx0XHRpZDogbmV3SWQsXG5cdFx0XHRkb2M6IHlEb2MsXG5cdFx0XHRzb2NrZXQ6IHNvY2tldFByb3ZpZGVyLFxuXHRcdFx0YXdhcmVuZXNzOiBhd2FyZW5lc3MsXG5cdFx0XHRlbGVtZW50czogZWxlbWVudCA/IFtlbGVtZW50XSA6IFtdLFxuXHRcdFx0dHlwZXM6IFtpZF0sXG5cdFx0XHRpbmRleGVkZGI6IGluZGV4ZWRkYlByb3ZpZGVyXG5cdFx0fVxuXHRcdHRoaXMucmVnaXN0ZXJVcGRhdGVFdmVudCh0aGlzLmRvY3NbbmV3SWRdLCBpZClcblxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cdFxuXHRyZWdpc3RlclVwZGF0ZUV2ZW50KGRvY09iamVjdCwgaWQpIHtcblx0XHRjb25zdCB5RG9jID0gZG9jT2JqZWN0LmRvYztcblx0XHRjb25zdCBzaGFyZFR5cGUgPSB5RG9jLmdldFRleHQoaWQpXG5cdFx0bGV0IF90aGlzID0gdGhpcztcblx0XHRcblx0XHRzaGFyZFR5cGUub2JzZXJ2ZSgoZXZlbnQpID0+IHtcblx0XHRcdF90aGlzLl9fc2V0VHlwZU9ic2VydmVFdmVudChldmVudCwgZG9jT2JqZWN0LmVsZW1lbnRzLCBpZCk7XG5cdFx0fSlcblx0fVxuXHRcblx0X19jaGVja0V4aXN0RWxlbWVudChlbGVtZW50cywgZWxlbWVudCkge1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmIChlbGVtZW50c1tpXS5pc1NhbWVOb2RlKGVsZW1lbnQpKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0XG5cdF9fZ2V0U29ja2V0VXJsKCkge1xuXHRcdGNvbnNvbGUubG9nKFwiZ2V0X3NvY2tldCB1cmxcIilcblx0XHRsZXQgd19sb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbiB8fCB3aW5kb3cucGFyZW50LmxvY2F0aW9uO1xuXHRcdGxldCB3X3Byb3RvY29sID0gd19sb2NhdGlvbi5wcm90b2NvbDtcblx0XHRsZXQgd19ob3N0ID0gd19sb2NhdGlvbi5ob3N0O1xuXHRcdGlmICh3X2xvY2F0aW9uLnByb3RvY29sID09PSBcImFib3V0OlwiKSB7XG5cdFx0XHR3X3Byb3RvY29sID0gd19sb2NhdGlvbi5wcm90b2NvbDtcblx0XHRcdHdfaG9zdCA9IGRvY3VtZW50LnJlZmVycmVyO1xuXHRcdH1cblx0XHRsZXQgcHJvdG9jb2wgPSB3X3Byb3RvY29sID09PSAnaHR0cDonID8gJ3dzJyA6ICd3c3MnO1xuXG5cdFx0bGV0IHVybF9zb2NrZXQgPSBgJHtwcm90b2NvbH06Ly8ke3dfaG9zdH06ODA4MC9gO1xuXHRcdGlmICh3aW5kb3cuY29uZmlnICYmIHdpbmRvdy5jb25maWcuaG9zdCkge1xuXHRcdFx0aWYgKHdpbmRvdy5jb25maWcuaG9zdC5pbmNsdWRlcyhcIjovL1wiKSkge1xuXHRcdFx0XHR1cmxfc29ja2V0ID0gYCR7d2luZG93LmNvbmZpZy5ob3N0fS9gO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dXJsX3NvY2tldCA9IGAke3Byb3RvY29sfTovLyR7d2luZG93LmNvbmZpZy5ob3N0fS9gO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHRjb25zb2xlLmxvZyh1cmxfc29ja2V0KVxuXHRcdHVybF9zb2NrZXQgKz0gXCJjcmR0L1wiO1xuXHRcdFxuXHRcdHJldHVybiB1cmxfc29ja2V0O1xuXG5cdH1cblx0XG5cdF9fc2V0VHlwZU9ic2VydmVFdmVudChldmVudCwgZWxlbWVudHMsIGlkKSB7XG5cdFx0aWYgKCFpZCkgcmV0dXJuO1xuXG5cdFx0Y29uc3QgZXZlbnREZWx0YSA9IGV2ZW50LmRlbHRhO1xuXHRcdGNvbnN0IGluZm8gPSBKU09OLnBhcnNlKGF0b2IoaWQpKTtcblx0XHRsZXQgaXNfc2F2ZV92YWx1ZSA9IGZhbHNlXG5cdFx0XG5cdFx0Y29uc3Qgd2hvbGVzdHJpbmcgPSBldmVudC50YXJnZXQudG9TdHJpbmcoKVxuXHRcdGNvbnN0IHN0b3JlX2V2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdzdG9yZS1jb250ZW50LWRiJywge1xuXHRcdFx0ZGV0YWlsOiB3aG9sZXN0cmluZ1xuXHRcdH0pXG5cdFx0XG5cdFx0Y29uc3QgdXBkYXRlX2V2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdjb2NyZWF0ZS15LXVwZGF0ZScsIHtcblx0XHRcdGRldGFpbDogZXZlbnREZWx0YVxuXHRcdH0pXG5cdFx0ZWxlbWVudHMuZm9yRWFjaCgoZWwpID0+IHtcblx0XHRcdGlmICh1dGlscy5pc1JlYWRWYWx1ZShlbCkgJiYgZWwuZ2V0QXR0cmlidXRlKCduYW1lJykgPT09IGluZm8ubmFtZSkge1xuXHRcdFx0XHRlbC5kaXNwYXRjaEV2ZW50KHVwZGF0ZV9ldmVudClcblx0XHRcdH1cblx0XHR9KVxuXHRcdFx0XG5cdFx0XG5cdFx0aWYgKHR5cGVvZiBpbmZvICE9PSAnb2JqZWN0Jykge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmIChldmVudC50cmFuc2FjdGlvbi5sb2NhbCkge1xuXHRcdFx0aWYgKGVsZW1lbnRzLmxlbmd0aCA9PSAwKSB7XG5cdFx0XHRcdGlzX3NhdmVfdmFsdWUgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdFx0ZWxlbWVudHMuZm9yRWFjaCgoZWwpID0+IHtcblx0XHRcdFx0aWYgKGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zYXZlX3ZhbHVlJykgIT0gJ2ZhbHNlJyAmJiBlbC5nZXRBdHRyaWJ1dGUoJ25hbWUnKSA9PT0gaW5mby5uYW1lICYmIGluZm8uZG9jdW1lbnRfaWQgIT0gXCJudWxsXCIpIHtcblx0XHRcdFx0XHRpc19zYXZlX3ZhbHVlID0gdHJ1ZTtcblx0XHRcdFx0XHRlbC5kaXNwYXRjaEV2ZW50KHN0b3JlX2V2ZW50KVxuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXG5cdFx0XHRpZiAoaXNfc2F2ZV92YWx1ZSkge1xuXHRcdFx0XHRjcnVkLnVwZGF0ZURvY3VtZW50KHtcblx0XHRcdFx0XHRjb2xsZWN0aW9uOiBpbmZvLmNvbGxlY3Rpb24sXG5cdFx0XHRcdFx0ZG9jdW1lbnRfaWQ6IGluZm8uZG9jdW1lbnRfaWQsXG5cdFx0XHRcdFx0ZGF0YToge1xuXHRcdFx0XHRcdFx0W2luZm8ubmFtZV06IHdob2xlc3RyaW5nXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRtZXRhZGF0YTogJ3lqcy1jaGFuZ2UnXG5cdFx0XHRcdH0pXG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblxuXHRcdH1cblx0fVxuXHRcblx0ZGVsZXRlRG9jKGlkKSB7XG5cdFx0Y29uc3QgaW5mbyA9IHRoaXMucGFyc2VUeXBlKGlkKVxuXHRcdGlmICh0aGlzLmRvY3NbaW5mby5pZF0pIHtcblx0XHRcdGRlbGV0ZSB0aGlzLmRvY3NbaW5mby5pZF07XG5cdFx0fVxuXHR9XG5cdFxuXHRnZW5lcmF0ZURvY05hbWUoY29sbGVjdGlvbiwgZG9jdW1lbnRfaWQsIG5hbWUpIHtcblx0XHRjb25zdCBpbmZvID0ge29yZzogdGhpcy5vcmdOYW1lLCBjb2xsZWN0aW9uLCBkb2N1bWVudF9pZCwgbmFtZX1cblx0XHRyZXR1cm4gYnRvYShKU09OLnN0cmluZ2lmeShpbmZvKSk7IFxuXHRcdC8vIHJldHVybiB0aGlzLm9yZ05hbWUgKyBcIl9cIiArIGNvbGxlY3Rpb24gKyBcIl9cIiArIGRvY3VtZW50X2lkICsgXCJfXCIgKyBuYW1lO1xuXHR9XG5cdFxuXHRpbnNlcnREYXRhKGlkLCBpbmRleCwgY29udGVudCwgYXR0cmlidXRlKSB7XG5cdFx0Y29uc3QgaW5mbyA9IHRoaXMucGFyc2VUeXBlKGlkKVxuXHRcdGlmICh0aGlzLmRvY3NbaW5mby5pZF0pIHtcblx0XHRcdGlmIChhdHRyaWJ1dGUpIHtcblx0XHRcdFx0dGhpcy5kb2NzW2luZm8uaWRdLmRvYy5nZXRUZXh0KGlkKS5pbnNlcnQoaW5kZXgsIGNvbnRlbnQsIGF0dHJpYnV0ZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcblx0XHRcdFx0dGhpcy5kb2NzW2luZm8uaWRdLmRvYy5nZXRUZXh0KGlkKS5pbnNlcnQoaW5kZXgsIGNvbnRlbnQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRcblx0ZGVsZXRlRGF0YShpZCwgaW5kZXgsIGxlbmd0aCkge1xuXHRcdGNvbnN0IGluZm8gPSB0aGlzLnBhcnNlVHlwZShpZClcblx0XHRpZiAodGhpcy5kb2NzW2luZm8uaWRdKSB7XG5cdFx0XHR0aGlzLmRvY3NbaW5mby5pZF0uZG9jLmdldFRleHQoaWQpLmRlbGV0ZShpbmRleCwgbGVuZ3RoKTtcblx0XHR9XG5cdH1cblx0XG5cdGdldFdob2xlU3RyaW5nKGlkKSB7XG5cdFx0Y29uc3QgaW5mbyA9IHRoaXMucGFyc2VUeXBlKGlkKVxuXHRcdGlmICh0aGlzLmRvY3NbaW5mby5pZF0pIHtcblx0XHRcdGNvbnNvbGUubG9nKFwiIUdldCBkYXRhXCIpXG5cdFx0XHRyZXR1cm4gdGhpcy5kb2NzW2luZm8uaWRdLmRvYy5nZXRUZXh0KGlkKS50b1N0cmluZygpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gXCItLVwiO1xuXHRcdH1cblx0fVxuXHRcblx0dXBkYXRlUmVtb3RlU2VsZWN0aW9uICh5LCBjbSwgdHlwZSwgY3Vyc29ycywgY2xpZW50SWQsIGF3YXJlbmVzcykgIHtcblx0XHRpZihkZWJ1Zylcblx0XHRcdFx0Y29uc29sZS5sb2coXCJDSEFOR0UgLS0tLSBET0NJRCBcIix0aGlzLmRvYy5jbGllbnRJRCwnIE9USEVSIENMSUVOVEVJRCAnLGNsaWVudElkKVxuXHRcdGlmKGNsaWVudElkICE9PSB0aGlzLmRvYy5jbGllbnRJRCl7XG5cdFx0XHRcblx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKFwiVEVYVCAtPiB1cGRhdGVSZW1vdGVTZWxlY3Rpb24gXCIsY2xpZW50SWQsYXdhcmVuZXNzLGN1cnNvcilcblx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKFwiQVcgc3RhdHVzXCIsYXdhcmVuZXNzLmdldExvY2FsU3RhdGUoKSlcblx0XHRcdFx0XHQgIC8vIGRlc3Ryb3kgY3VycmVudCB0ZXh0IG1hcmtcblx0XHRcdFx0XHQgIGNvbnN0IG0gPSBjdXJzb3JzLmdldChjbGllbnRJZClcblx0XHRcdFx0XHQgIGlmIChtICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdG0uY2FyZXQuY2xlYXIoKVxuXHRcdFx0XHRcdFx0aWYgKG0uc2VsICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0XHQgIG0uc2VsLmNsZWFyKClcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGN1cnNvcnMuZGVsZXRlKGNsaWVudElkKVxuXHRcdFx0XHRcdCAgfVxuXHRcdFx0XHRcdCAgLy8gcmVkcmF3IGNhcmV0IGFuZCBzZWxlY3Rpb24gZm9yIGNsaWVudElkXG5cdFx0XHRcdFx0ICBjb25zdCBhdyA9IGF3YXJlbmVzcy5nZXRTdGF0ZXMoKS5nZXQoY2xpZW50SWQpO1xuXHRcdFx0XHRcdCAgaWYoZGVidWcpXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhhdylcblx0XHRcdFx0XHQgIGlmIChhdyA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHQgIGlmKGRlYnVnKVxuXHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIiBDdXJzb3IgT1VUIFwiLGNsaWVudElkKVxuXHRcdFx0XHRcdFx0ICAgLy9hd2FyZW5lc3Muc2V0TG9jYWxTdGF0ZUZpZWxkKCdjdXJzb3InLCBudWxsKTtcblx0XHRcdFx0XHRcdCAgIGxldCBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tpZCo9XCJzb2NrZXRfJytjbGllbnRJZCsnXCJdJyk7XG5cdFx0XHRcdFx0XHRcdGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQsIGluZGV4LCBhcnJheSkge1xuXHRcdFx0XHRcdFx0XHRcdGVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtZW50KTtcblx0XHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdGxldCBzZWxfZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbaWQqPVwic2VsLScrY2xpZW50SWQrJ1wiXScpO1xuXHRcdFx0XHRcdFx0XHQgIHNlbF9lbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChzZWxfZWxlbWVudCwgaW5kZXgsIGFycmF5KSB7XG5cdFx0XHRcdFx0XHRcdFx0c2VsX2VsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzZWxfZWxlbWVudCk7XG5cdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHQgIC8qXG5cdFx0XHRcdFx0XHQgICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic29ja2V0X1wiK2NsaWVudElkKVxuXHRcdFx0XHRcdFx0ICAgbGV0IHNlbF9lbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWwtXCIrY2xpZW50SWQpXG5cdFx0XHRcdFx0XHQgICBpZihlbGVtZW50KVxuXHRcdFx0XHRcdFx0XHRlbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG5cdFx0XHRcdFx0XHRcdGlmKHNlbF9lbGVtZW50KVxuXHRcdFx0XHRcdFx0XHRzZWxfZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNlbF9lbGVtZW50KTtcblx0XHRcdFx0XHRcdCAgICovXG5cdFx0XHRcdFx0XHRyZXR1cm5cblx0XHRcdFx0XHQgIH1cblx0XHRcdFx0XHQgIGNvbnN0IHVzZXIgPSBhdy51c2VyIHx8IHt9XG5cdFx0XHRcdFx0ICBpZiAodXNlci5jb2xvciA9PSBudWxsKSB7XG5cdFx0XHRcdFx0XHR1c2VyLmNvbG9yID0gJyNmZmE1MDAnXG5cdFx0XHRcdFx0ICB9XG5cdFx0XHRcdFx0ICBpZiAodXNlci5uYW1lID09IG51bGwpIHtcblx0XHRcdFx0XHRcdHVzZXIubmFtZSA9IGBVc2VyOiAke2NsaWVudElkfWBcblx0XHRcdFx0XHQgIH1cblx0XHRcdFx0XHQgIGNvbnN0IGN1cnNvciA9IGF3LmN1cnNvclxuXHRcdFx0XHRcdCAgaWYoZGVidWcpXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIkN1cnNvciBcIixjdXJzb3IpXG5cdFx0XHRcdFx0ICBpZiAoY3Vyc29yID09IG51bGwgfHwgY3Vyc29yLmFuY2hvciA9PSBudWxsIHx8IGN1cnNvci5oZWFkID09IG51bGwpIHtcblx0XHRcdFx0XHRcdCAgLy9sZXQgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic29ja2V0X1wiK2NsaWVudElkKVxuXHRcdFx0XHRcdFx0ICBsZXQgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbaWQqPVwic29ja2V0XycrY2xpZW50SWQrJ1wiXScpO1xuXHRcdFx0XHRcdFx0ICBlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50LCBpbmRleCwgYXJyYXkpIHtcblx0XHRcdFx0XHRcdFx0ZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuXHRcdFx0XHRcdFx0ICB9KVxuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHQvL2xldCBzZWxfZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VsLVwiK2NsaWVudElkKSAgXG5cdFx0XHRcdFx0XHRsZXQgc2VsX2VsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2lkKj1cInNlbC0nK2NsaWVudElkKydcIl0nKTtcblx0XHRcdFx0XHRcdCAgc2VsX2VsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKHNlbF9lbGVtZW50LCBpbmRleCwgYXJyYXkpIHtcblx0XHRcdFx0XHRcdFx0c2VsX2VsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzZWxfZWxlbWVudCk7XG5cdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdFx0ICB9XG5cdFx0XHRcdFxuXHRcdFx0XHRcdCAgY29uc3QgYW5jaG9yID0gWS5jcmVhdGVBYnNvbHV0ZVBvc2l0aW9uRnJvbVJlbGF0aXZlUG9zaXRpb24oWS5jcmVhdGVSZWxhdGl2ZVBvc2l0aW9uRnJvbUpTT04oY3Vyc29yLmFuY2hvciksIHkpXG5cdFx0XHRcdFx0ICBjb25zdCBoZWFkID0gWS5jcmVhdGVBYnNvbHV0ZVBvc2l0aW9uRnJvbVJlbGF0aXZlUG9zaXRpb24oWS5jcmVhdGVSZWxhdGl2ZVBvc2l0aW9uRnJvbUpTT04oY3Vyc29yLmhlYWQpLCB5KVxuXHRcdFx0XHRcdCAgLy9Db0NyZWF0ZS5jdXJzb3JzLmRyYXdfY3Vyc29yKDEsMTEsMTIsNjYse30sdHJ1ZSk7XG5cdFx0XHRcdFx0ICBpZihkZWJ1Zyl7XG5cdFx0XHRcdFx0XHQgIGNvbnNvbGUubG9nKFwiUFJFIERyYXcgQ3Vyc29yIFwiKVxuXHRcdFx0XHRcdFx0ICBjb25zb2xlLmxvZyhcImFuY2hvciAgXCIsYW5jaG9yICwgXCIgaGVhZCBcIixoZWFkLCcgVHlwZSAnLHR5cGUpXG5cdFx0XHRcdFx0XHQgIGNvbnNvbGUubG9nKFwiYW5jaG9yICBUeXBlXCIsYW5jaG9yLnR5cGUgPT09IHR5cGUpXG5cdFx0XHRcdFx0XHQgIGNvbnNvbGUubG9nKFwiYW5jaG9yICBUeXBlXCIsaGVhZC50eXBlID09PSB0eXBlKVxuXHRcdFx0XHRcdCAgfVxuXHRcdFx0XHRcdCAgLy9pZiAoYW5jaG9yICE9PSBudWxsICYmIGhlYWQgIT09IG51bGwgJiYgYW5jaG9yLnR5cGUgPT09IHR5cGUgJiYgaGVhZC50eXBlID09PSB0eXBlKSB7XG5cdFx0XHRcdFx0ICBpZiAoYW5jaG9yICE9PSBudWxsICYmIGhlYWQgIT09IG51bGwgKSB7XG5cdFx0XHRcdFx0XHRsZXQgZnJvbSwgdG87XG5cdFx0XHRcdFx0XHRpZiAoaGVhZC5pbmRleCA8IGFuY2hvci5pbmRleCkge1xuXHRcdFx0XHRcdFx0ICBmcm9tID0gaGVhZC5pbmRleFxuXHRcdFx0XHRcdFx0ICB0byA9IGFuY2hvci5pbmRleFxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0aWYoZGVidWcpXG5cdFx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coYW5jaG9yLmluZGV4KVxuXHRcdFx0XHRcdFx0ICBmcm9tID0gYW5jaG9yLmluZGV4XG5cdFx0XHRcdFx0XHQgIHRvID0gaGVhZC5pbmRleFxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYoZGVidWcpXG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiRHJhdyBDdXJzb3IgXCIsZnJvbSx0byxjbGllbnRJZCxhdy51c2VyKVxuXHRcdFx0XHRcdFx0bGV0IHRfaW5mbyA9IHRoaXMucGFyc2VUeXBlTmFtZShjdXJzb3IuYW5jaG9yWyd0bmFtZSddKTtcblx0XHRcdFx0XHRcdGxldCBpZF9taXJyb3IgPSB0X2luZm8uZG9jdW1lbnRfaWQgKyB0X2luZm8ubmFtZSsnLS1taXJyb3ItZGl2Jztcblx0XHRcdFx0XHRcdGxldCBqc29uID0ge307XG5cdFx0XHRcdFx0XHRsZXQgc2VsZWN0b3IgPSAnW2RhdGEtY29sbGVjdGlvbj1cIicrdF9pbmZvLmNvbGxlY3Rpb24rJ1wiXVtkYXRhLWRvY3VtZW50X2lkPVwiJyt0X2luZm8uZG9jdW1lbnRfaWQrJ1wiXVtuYW1lPVwiJyt0X2luZm8ubmFtZSsnXCJdJ1xuXHRcdFx0XHRcdFx0c2VsZWN0b3IgKz0gJzpub3QoLmNvZGVtaXJyb3IpOm5vdCgucXVpbGwpOm5vdCgubW9uYWNvKSc7XG5cdFx0XHRcdFx0XHRsZXQgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcblx0XHRcdFx0XHRcdGxldCB0aGF0ID0gdGhpcztcblx0XHRcdFx0XHRcdGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQsIGluZGV4LCBhcnJheSkge1xuXHRcdFx0XHRcdFx0XHRqc29uID0ge1xuXHRcdFx0XHRcdFx0XHRcdGVsZW1lbnQ6ZWxlbWVudCxcblx0XHRcdFx0XHRcdFx0XHRzdGFydFBvc2l0aW9uOmZyb20sXG5cdFx0XHRcdFx0XHRcdFx0c2VsZWN0b3I6c2VsZWN0b3IsXG5cdFx0XHRcdFx0XHRcdFx0ZW5kUG9zaXRvbjp0byxcblx0XHRcdFx0XHRcdFx0XHRjbGllbnRJZCA6IGNsaWVudElkLFxuXHRcdFx0XHRcdFx0XHRcdHVzZXI6e1xuXHRcdFx0XHRcdFx0XHRcdFx0J2NvbG9yJzp1c2VyLmNvbG9yLFxuXHRcdFx0XHRcdFx0XHRcdFx0J25hbWUnOnVzZXIubmFtZVxuXHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coanNvbilcblx0XHRcdFx0XHRcdFx0Q29DcmVhdGVDdXJzb3JzLmRyYXdfY3Vyc29yKGpzb24pO1xuXHRcdFx0XHRcdFx0XHQvL3NlbnQgY3VzdG9tIHBvc2l0aW9uXG5cdFx0XHRcdFx0XHRcdHRoYXQubGlzdGVuKGpzb24pO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0ICB9XG5cdFx0fVxuXHR9XG5cdFxuXHRjaGFuZ2VMaXN0ZW5Bd2VyZW5lc3MoY2FsbGJhY2spe1xuXHRcdHRoaXMubGlzdGVuQXdlcmVuZXNzID0gY2FsbGJhY2s7XG5cdH1cblx0XG5cdGxpc3Rlbihqc29uKXtcblx0XHR0aGlzLmxpc3RlbkF3ZXJlbmVzcy5hcHBseSh0aGlzLFtqc29uXSlcblx0fVxuXHRcblx0ZGVzdHJveU9ic2VydmVyKGlkLCBlbGVtZW50KSB7XG5cdFx0Y29uc3QgaW5mbyA9IHRoaXMucGFyc2VUeXBlKGlkKVxuXHRcdHRoaXMuZG9jc1tpbmZvLmlkXS5kb2MuZ2V0VGV4dChpZCkudW5vYnNlcnZlKChldmVudCkgPT4ge30pO1xuXHRcdFxuXHRcdHRoaXMuZG9jc1tpbmZvLmlkXS5zb2NrZXQuYXdhcmVuZXNzLm9mZignY2hhbmdlJywgdGhpcy5fYXdhcmVuZXNzTGlzdGVuZXIpO1xuXHR9XG5cdFxuXHRnZXRQcm92aWRlcihpZCl7XG5cdFx0Y29uc3QgaW5mbyA9IHRoaXMucGFyc2VUeXBlKGlkKVxuXHRcdGlmICghdGhpcy5kb2NzW2luZm8uaWRdKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuZG9jc1tpbmZvLmlkXS5zb2NrZXQ7XG5cdH1cblx0XG5cdGdldFR5cGUoaWQpe1xuXHRcdGNvbnN0IGluZm8gPSB0aGlzLnBhcnNlVHlwZShpZClcblx0XHRpZiAoIXRoaXMuZG9jc1tpbmZvLmlkXSkge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLmRvY3NbaW5mby5pZF0uZG9jLmdldFRleHQoaWQpO1xuXHR9XG5cblx0c2V0Q3Vyc29yTnVsbChpZCl7XG5cdFx0Y29uc3QgaW5mbyA9IHRoaXMucGFyc2VUeXBlKGlkKVxuXHRcdGlmICghdGhpcy5kb2NzW2luZm8uaWRdKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cdFx0XG5cdFx0dGhpcy5kb2NzW2luZm8uaWRdLnNvY2tldC5hd2FyZW5lc3Muc2V0TG9jYWxTdGF0ZUZpZWxkKCdjdXJzb3InLCBudWxsKTtcblx0fVxuXHRcblx0c2V0UG9zaXRpb25ZSlMoaWQsIGZyb20sIHRvKSB7XG5cdFx0Y29uc3QgaW5mbyA9IHRoaXMucGFyc2VUeXBlKGlkKVxuXHRcdGNvbnN0IHR5cGUgPSB0aGlzLmdldFR5cGUoaWQpO1xuXHRcdC8vY29uc29sZS5sb2coXCJUeXBlIFwiLHR5cGUpXG5cdFx0aWYgKCF0eXBlKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHZhciBhbmNob3IgPSBZLmNyZWF0ZVJlbGF0aXZlUG9zaXRpb25Gcm9tVHlwZUluZGV4KHR5cGUsIGZyb20pXG5cdFx0dmFyIGhlYWQgPSBZLmNyZWF0ZVJlbGF0aXZlUG9zaXRpb25Gcm9tVHlwZUluZGV4KHR5cGUsIHRvKVxuXHRcdFxuXHRcdGlmKGRlYnVnKVxuXHRcdFx0Y29uc29sZS5sb2coXCJTZW5kaW5nIEN1cnNvciBcIix7XG5cdFx0XHRcdGFuY2hvcixcblx0XHRcdFx0aGVhZFxuXHRcdFx0fSx7J3RvJzp0bywnZnJvbSc6ZnJvbSwnaW5mby5pZCc6aW5mby5pZH0pXG5cdFx0XG5cdFx0dGhpcy5kb2NzW2luZm8uaWRdLnNvY2tldC5hd2FyZW5lc3Muc2V0TG9jYWxTdGF0ZUZpZWxkKCdjdXJzb3InLCB7XG5cdFx0XHRhbmNob3IsXG5cdFx0XHRoZWFkXG5cdFx0fSlcblx0XHQvKlxuXHRcdGlmKGRlYnVnKVxuXHRcdFx0Y29uc29sZS5sb2coXCJDdXJzb3IgU2VuZFwiKVxuXHRcdFx0Ki9cblx0fVxuXHRcblx0Ly9zZW5kIFBvc2l0aW9uIEN1c3RvbVxuXHRzZW5kUG9zaXRpb24oanNvbikge1xuXHRcdGxldCBjb2xsZWN0aW9uID0ganNvblsnY29sbGVjdGlvbiddO1xuXHRcdGxldCBkb2N1bWVudF9pZCA9IGpzb25bJ2RvY3VtZW50X2lkJ107XG5cdFx0bGV0IG5hbWUgPSBqc29uWyduYW1lJ107XG5cdFx0bGV0IGZyb20gPSBqc29uWydzdGFydFBvc2l0aW9uJ107XG5cdFx0bGV0IHRvID0ganNvblsnZW5kUG9zaXRvbiddO1xuXHRcdGxldCBpZCA9IHRoaXMuZ2VuZXJhdGVJRChjb25maWcub3JnYW5pemF0aW9uX0lkLCBjb2xsZWN0aW9uLCBkb2N1bWVudF9pZCwgbmFtZSk7XG5cdFx0dGhpcy5zZXRQb3NpdGlvbllKUyhpZCxmcm9tLHRvKTtcblx0fVxuXHRcblx0Z2VuZXJhdGVJRChvcmcsIGNvbGxlY3Rpb24sIGRvY3VtZW50X2lkLCBuYW1lKSB7XG5cdFx0Y29uc3QgaW5mbyA9IHtvcmcsIGNvbGxlY3Rpb24sIGRvY3VtZW50X2lkLCBuYW1lfVxuXHRcdHJldHVybiBidG9hKEpTT04uc3RyaW5naWZ5KGluZm8pKTsgICAgICAgIFxuXHR9XG5cdFxuXHRwYXJzZVR5cGVOYW1lKG5hbWUpIHtcblx0XHRjb25zdCBkYXRhID0gSlNPTi5wYXJzZShhdG9iKG5hbWUpKTtcblx0XHRyZXR1cm4gZGF0YTtcblx0fVxuXHRcblx0cGFyc2VUeXBlKGlkKSB7XG5cdFx0bGV0IGRhdGEgPSBKU09OLnBhcnNlKGF0b2IoaWQpKTtcblx0XHRcblx0XHRsZXQgbmV3SWQgPSB7b3JnOiBkYXRhLm9yZywgY29sbGVjdGlvbjogZGF0YS5jb2xsZWN0aW9uLCBkb2N1bWVudF9pZDogZGF0YS5kb2N1bWVudF9pZH1cblx0XHRyZXR1cm4ge1xuXHRcdFx0aWQ6IGJ0b2EoSlNPTi5zdHJpbmdpZnkobmV3SWQpKSxcblx0XHRcdG5hbWU6IGRhdGEubmFtZSxcblx0XHRcdGRvY3VtZW50X2lkOiBkYXRhLmRvY3VtZW50X2lkXG5cdFx0fVxuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvQ3JlYXRlWVNvY2tldDtcblxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../CoCreate-components/CoCreate-crdt/src/core.js\n')},"../../CoCreate-components/CoCreate-crdt/src/index.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _core = _interopRequireDefault(__webpack_require__(/*! ./core.js */ \"../../CoCreate-components/CoCreate-crdt/src/core.js\"));\n\nvar Y = _interopRequireWildcard(__webpack_require__(/*! yjs */ \"../../CoCreate-components/CoCreate-crdt/node_modules/yjs/dist/yjs.mjs\"));\n\nvar _cocreatejs = __webpack_require__(/*! @cocreate/cocreatejs */ \"../../CoCreateJS/src/index.js\");\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass CoCreateCRDTClass extends _core.default {\n  constructor(org, doc) {\n    super(org, doc);\n  }\n  /*\n  crdt.init({\n    collection: \"module\",\n    document_id: \"\",\n    name: \"\",\n    element: dom_object,\n    metadata: \"xxxx\"\n  })\n  */\n\n\n  init(info) {\n    try {\n      this.__validateKeysJson(info, ['collection', 'document_id', 'name']);\n\n      const id = this.__getYDocId(info['collection'], info['document_id'], info['name']);\n\n      if (!id) return;\n      const status = this.createDoc(id, info.element);\n      console.log(\"InitCrdt\");\n    } catch (e) {\n      console.log('Invalid param', e);\n    }\n  }\n  /*. init data function\n  crdt.replaceText({\n    collection: \"module\",\n    document_id: \"\",\n    name: \"\",\n    value: \"\",\n    updateCrud: true | false,\n    element: dom_object,\n    metadata: \"xxxx\"\n  })\n  */\n\n\n  replaceText(info) {\n    if (!info) return;\n\n    const id = this.__getYDocId(info.collection, info.document_id, info.name);\n\n    if (!id) return;\n    if (info.updateCrud != false) info.updateCrud = true;\n\n    if (this.getType(id)) {\n      let oldData = this.getType(id).toString();\n      let textValue = info.value.toString();\n\n      if (oldData && oldData.length > 0) {\n        this.deleteData(id, 0, Math.max(oldData.length, textValue.length));\n      }\n\n      this.insertData(id, 0, textValue);\n    }\n\n    if (info.updateCrud) {\n      _cocreatejs.crud.updateDocument({\n        collection: info.collection,\n        document_id: info.document_id,\n        data: {\n          [info.name]: info.value\n        },\n        element: info.element,\n        metadata: info.metadata,\n        namespace: info.namespace,\n        room: info.room,\n        broadcast: info.broadcast,\n        upsert: info.upsert,\n        broadcast_sender: info.broadcast_sender\n      });\n    }\n  }\n  /*\n  crdt.insertText({\n  \tcollection: 'module_activities',\n  \tdocument_id: '5e4802ce3ed96d38e71fc7e5',\n  \tname: 'name',\n  \tvalue: 'T',\n  \tposition: '8',\n  \tattributes: {bold: true}\n  })\n  */\n\n\n  insertText(info) {\n    try {\n      this.__validateKeysJson(info, ['collection', 'document_id', 'name', 'value', 'position']);\n\n      let id = this.__getYDocId(info['collection'], info['document_id'], info['name']);\n\n      if (id) {\n        this.insertData(id, info['position'], info['value'].toString(), info['attributes']);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  /*\n  crdt.deleteText({\n  \tcollection: 'module_activities',\n  \tdocument_id: '5e4802ce3ed96d38e71fc7e5',\n  \tname: 'name',\n  \tposition: '8',\n  \tlength: 2,\n  })\n  */\n\n\n  deleteText(info) {\n    try {\n      this.__validateKeysJson(info, ['collection', 'document_id', 'name', 'position', 'length']);\n\n      let id = this.__getYDocId(info['collection'], info['document_id'], info['name']);\n\n      if (id) {\n        this.deleteData(id, info['position'], info['length']);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  /*\n  crdt.getText({\n  \tcollection: 'module_activities',\n  \tdocument_id: '5e4802ce3ed96d38e71fc7e5',\n  \tname: 'name'\n  })\n  */\n\n\n  getText(info) {\n    try {\n      this.__validateKeysJson(info, ['collection', 'document_id', 'name']);\n\n      let id = this.__getYDocId(info['collection'], info['document_id'], info['name']);\n\n      if (id) {\n        return this.getWholeString(id);\n      } else {\n        return \"\";\n      }\n    } catch (e) {\n      console.error(e);\n      return \"\";\n    }\n  }\n  /* \n  crdt.getPosition(function(data))\n  crdt.getPosition(function(data){console.log(\" EScuchando ahora  \",data)})\n  */\n\n\n  getPosition(callback) {\n    if (typeof miFuncion === 'function') this.changeListenAwereness(callback);else console.error('Callback should be a function');\n  }\n\n  __getYDocId(collection, document_id, name) {\n    if (!_cocreatejs.utils.checkValue(collection) || !_cocreatejs.utils.checkValue(document_id) || !_cocreatejs.utils.checkValue(name)) {\n      return null;\n    }\n\n    return this.generateID(config.organization_Id, collection, document_id, name);\n  }\n\n  __validateKeysJson(json, rules) {\n    let keys_json = Object.keys(json);\n    keys_json.forEach(key => {\n      const index = rules.indexOf(key);\n      if (index != -1) rules.splice(index, 1);\n    });\n    if (rules.length) throw \"Requires the following \" + rules.toString();\n  }\n\n}\n\nconst g_yDoc = new Y.Doc();\nlet CoCreateCrdt = new CoCreateCRDTClass(config.organization_Id, g_yDoc);\nwindow.Y = Y;\nvar _default = CoCreateCrdt;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5xdWlsbC8vaG9tZS91YnVudHUvZW52aXJvbm1lbnQvcHVibGljL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtY3JkdC9zcmMvaW5kZXguanM/ZmMzOCJdLCJuYW1lcyI6WyJDb0NyZWF0ZUNSRFRDbGFzcyIsIkNvQ3JlYXRlWVNvY2tldCIsImNvbnN0cnVjdG9yIiwib3JnIiwiZG9jIiwiaW5pdCIsImluZm8iLCJfX3ZhbGlkYXRlS2V5c0pzb24iLCJpZCIsIl9fZ2V0WURvY0lkIiwic3RhdHVzIiwiY3JlYXRlRG9jIiwiZWxlbWVudCIsImNvbnNvbGUiLCJsb2ciLCJlIiwicmVwbGFjZVRleHQiLCJjb2xsZWN0aW9uIiwiZG9jdW1lbnRfaWQiLCJuYW1lIiwidXBkYXRlQ3J1ZCIsImdldFR5cGUiLCJvbGREYXRhIiwidG9TdHJpbmciLCJ0ZXh0VmFsdWUiLCJ2YWx1ZSIsImxlbmd0aCIsImRlbGV0ZURhdGEiLCJNYXRoIiwibWF4IiwiaW5zZXJ0RGF0YSIsImNydWQiLCJ1cGRhdGVEb2N1bWVudCIsImRhdGEiLCJtZXRhZGF0YSIsIm5hbWVzcGFjZSIsInJvb20iLCJicm9hZGNhc3QiLCJ1cHNlcnQiLCJicm9hZGNhc3Rfc2VuZGVyIiwiaW5zZXJ0VGV4dCIsImVycm9yIiwiZGVsZXRlVGV4dCIsImdldFRleHQiLCJnZXRXaG9sZVN0cmluZyIsImdldFBvc2l0aW9uIiwiY2FsbGJhY2siLCJtaUZ1bmNpb24iLCJjaGFuZ2VMaXN0ZW5Bd2VyZW5lc3MiLCJ1dGlscyIsImNoZWNrVmFsdWUiLCJnZW5lcmF0ZUlEIiwiY29uZmlnIiwib3JnYW5pemF0aW9uX0lkIiwianNvbiIsInJ1bGVzIiwia2V5c19qc29uIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJnX3lEb2MiLCJZIiwiRG9jIiwiQ29DcmVhdGVDcmR0Iiwid2luZG93Il0sIm1hcHBpbmdzIjoi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QUFELElBQ0EsQ0FBQ2dDLGtCQUFNQyxVQUFOLENBQWlCaEMsV0FBakIsQ0FERCxJQUVBLENBQUMrQixrQkFBTUMsVUFBTixDQUFpQi9CLElBQWpCLENBRkwsRUFHQTtBQUNFLGFBQU8sSUFBUDtBQUNEOztBQUNELFdBQU8sS0FBS2dDLFVBQUwsQ0FBZ0JDLE1BQU0sQ0FBQ0MsZUFBdkIsRUFBd0NwQyxVQUF4QyxFQUFvREMsV0FBcEQsRUFBaUVDLElBQWpFLENBQVA7QUFDRDs7QUFFRFosb0JBQWtCLENBQUMrQyxJQUFELEVBQU1DLEtBQU4sRUFBWTtBQUM1QixRQUFJQyxTQUFTLEdBQUdDLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZSixJQUFaLENBQWhCO0FBQ0FFLGFBQVMsQ0FBQ0csT0FBVixDQUFrQkMsR0FBRyxJQUFFO0FBQ3JCLFlBQU1DLEtBQUssR0FBR04sS0FBSyxDQUFDTyxPQUFOLENBQWNGLEdBQWQsQ0FBZDtBQUNBLFVBQUdDLEtBQUssSUFBSSxDQUFDLENBQWIsRUFDRU4sS0FBSyxDQUFDUSxNQUFOLENBQWFGLEtBQWIsRUFBb0IsQ0FBcEI7QUFDSCxLQUpEO0FBS0EsUUFBSU4sS0FBSyxDQUFDN0IsTUFBVixFQUNFLE1BQU0sNEJBQTJCNkIsS0FBSyxDQUFDaEMsUUFBTixFQUFqQztBQUNIOztBQTdLSDs7QUFnTEEsTUFBTXlDLE1BQU0sR0FBRyxJQUFJQyxDQUFDLENBQUNDLEdBQU4sRUFBZjtBQUNBLElBQUlDLFlBQVksR0FBRyxJQUFJbkUsaUJBQUosQ0FBc0JvRCxNQUFNLENBQUNDLGVBQTdCLEVBQThDVyxNQUE5QyxDQUFuQjtBQUNBSSxNQUFNLENBQUNILENBQVAsR0FBV0EsQ0FBWDtlQUVlRSxZIiwiZmlsZSI6Ii4uLy4uL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtY3JkdC9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29DcmVhdGVZU29ja2V0IGZyb20gXCIuL2NvcmUuanNcIlxuaW1wb3J0ICogYXMgWSBmcm9tICd5anMnXG5pbXBvcnQge3V0aWxzLCBjcnVkfSBmcm9tICdAY29jcmVhdGUvY29jcmVhdGVqcyc7XG5cblxuY2xhc3MgQ29DcmVhdGVDUkRUQ2xhc3MgZXh0ZW5kcyBDb0NyZWF0ZVlTb2NrZXQgXG57XG4gIGNvbnN0cnVjdG9yKG9yZywgZG9jKSB7XG4gICAgc3VwZXIob3JnLCBkb2MpXG4gIH1cblxuICAvKlxuICBjcmR0LmluaXQoe1xuICAgIGNvbGxlY3Rpb246IFwibW9kdWxlXCIsXG4gICAgZG9jdW1lbnRfaWQ6IFwiXCIsXG4gICAgbmFtZTogXCJcIixcbiAgICBlbGVtZW50OiBkb21fb2JqZWN0LFxuICAgIG1ldGFkYXRhOiBcInh4eHhcIlxuICB9KVxuICAqL1xuICBpbml0KGluZm8pIHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5fX3ZhbGlkYXRlS2V5c0pzb24oaW5mbywgWydjb2xsZWN0aW9uJywgJ2RvY3VtZW50X2lkJywgJ25hbWUnXSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGlkID0gdGhpcy5fX2dldFlEb2NJZChpbmZvWydjb2xsZWN0aW9uJ10sIGluZm9bJ2RvY3VtZW50X2lkJ10sIGluZm9bJ25hbWUnXSlcblxuICAgICAgaWYgKCFpZCkgcmV0dXJuO1xuICAgICAgY29uc3Qgc3RhdHVzID0gdGhpcy5jcmVhdGVEb2MoaWQsIGluZm8uZWxlbWVudClcbiAgICAgIGNvbnNvbGUubG9nKFwiSW5pdENyZHRcIilcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdJbnZhbGlkIHBhcmFtJywgZSk7XG4gICAgfVxuICB9XG5cbiAgLyouIGluaXQgZGF0YSBmdW5jdGlvblxuICBjcmR0LnJlcGxhY2VUZXh0KHtcbiAgICBjb2xsZWN0aW9uOiBcIm1vZHVsZVwiLFxuICAgIGRvY3VtZW50X2lkOiBcIlwiLFxuICAgIG5hbWU6IFwiXCIsXG4gICAgdmFsdWU6IFwiXCIsXG4gICAgdXBkYXRlQ3J1ZDogdHJ1ZSB8IGZhbHNlLFxuICAgIGVsZW1lbnQ6IGRvbV9vYmplY3QsXG4gICAgbWV0YWRhdGE6IFwieHh4eFwiXG4gIH0pXG4gICovXG4gIFxuICByZXBsYWNlVGV4dChpbmZvKXtcbiAgICBpZiAoIWluZm8pIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBpZCA9IHRoaXMuX19nZXRZRG9jSWQoaW5mby5jb2xsZWN0aW9uLCBpbmZvLmRvY3VtZW50X2lkLCBpbmZvLm5hbWUpXG4gICAgaWYgKCFpZCkgcmV0dXJuO1xuXG4gICAgaWYgKGluZm8udXBkYXRlQ3J1ZCAhPSBmYWxzZSkgaW5mby51cGRhdGVDcnVkID0gdHJ1ZTtcbiAgICBcbiAgICBpZiAodGhpcy5nZXRUeXBlKGlkKSApIHtcbiAgICAgIGxldCBvbGREYXRhID0gdGhpcy5nZXRUeXBlKGlkKS50b1N0cmluZygpO1xuICAgICAgbGV0IHRleHRWYWx1ZSA9IGluZm8udmFsdWUudG9TdHJpbmcoKTtcbiAgICAgIGlmIChvbGREYXRhICYmIG9sZERhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLmRlbGV0ZURhdGEoaWQsIDAsIE1hdGgubWF4KG9sZERhdGEubGVuZ3RoLCB0ZXh0VmFsdWUubGVuZ3RoKSk7XG4gICAgICB9XG4gICAgICB0aGlzLmluc2VydERhdGEoaWQsIDAsIHRleHRWYWx1ZSk7XG4gICAgfVxuICAgIGlmIChpbmZvLnVwZGF0ZUNydWQpIHtcbiAgICAgIGNydWQudXBkYXRlRG9jdW1lbnQoe1xuICAgICAgICBjb2xsZWN0aW9uOiBpbmZvLmNvbGxlY3Rpb24sXG4gICAgICAgIGRvY3VtZW50X2lkOiBpbmZvLmRvY3VtZW50X2lkLFxuICAgICAgICBkYXRhOiB7W2luZm8ubmFtZV06IGluZm8udmFsdWV9LFxuICAgICAgICBlbGVtZW50OiBpbmZvLmVsZW1lbnQsXG4gICAgICAgIG1ldGFkYXRhOmluZm8ubWV0YWRhdGEsXG4gICAgICAgIG5hbWVzcGFjZTogaW5mby5uYW1lc3BhY2UsXG4gICAgICAgIHJvb206IGluZm8ucm9vbSxcbiAgICAgICAgYnJvYWRjYXN0OiBpbmZvLmJyb2FkY2FzdCxcbiAgICAgICAgdXBzZXJ0OiBpbmZvLnVwc2VydCxcbiAgICAgICAgYnJvYWRjYXN0X3NlbmRlcjogaW5mby5icm9hZGNhc3Rfc2VuZGVyXG4gICAgICB9KVxuICAgIH1cbiAgfVxuICBcbiAgLypcbiAgY3JkdC5pbnNlcnRUZXh0KHtcbiAgXHRjb2xsZWN0aW9uOiAnbW9kdWxlX2FjdGl2aXRpZXMnLFxuICBcdGRvY3VtZW50X2lkOiAnNWU0ODAyY2UzZWQ5NmQzOGU3MWZjN2U1JyxcbiAgXHRuYW1lOiAnbmFtZScsXG4gIFx0dmFsdWU6ICdUJyxcbiAgXHRwb3NpdGlvbjogJzgnLFxuICBcdGF0dHJpYnV0ZXM6IHtib2xkOiB0cnVlfVxuICB9KVxuICAqL1xuICBpbnNlcnRUZXh0KGluZm8pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuX192YWxpZGF0ZUtleXNKc29uKGluZm8sWydjb2xsZWN0aW9uJywnZG9jdW1lbnRfaWQnLCduYW1lJywndmFsdWUnLCdwb3NpdGlvbiddKTtcbiAgICAgICAgbGV0IGlkID0gdGhpcy5fX2dldFlEb2NJZChpbmZvWydjb2xsZWN0aW9uJ10sIGluZm9bJ2RvY3VtZW50X2lkJ10sIGluZm9bJ25hbWUnXSlcbiAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgdGhpcy5pbnNlcnREYXRhKGlkLCBpbmZvWydwb3NpdGlvbiddLCBpbmZvWyd2YWx1ZSddLnRvU3RyaW5nKCksIGluZm9bJ2F0dHJpYnV0ZXMnXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7IFxuICAgICAgfVxuICB9XG4gIFxuICBcbiAgLypcbiAgY3JkdC5kZWxldGVUZXh0KHtcbiAgXHRjb2xsZWN0aW9uOiAnbW9kdWxlX2FjdGl2aXRpZXMnLFxuICBcdGRvY3VtZW50X2lkOiAnNWU0ODAyY2UzZWQ5NmQzOGU3MWZjN2U1JyxcbiAgXHRuYW1lOiAnbmFtZScsXG4gIFx0cG9zaXRpb246ICc4JyxcbiAgXHRsZW5ndGg6IDIsXG4gIH0pXG4gICovXG4gIGRlbGV0ZVRleHQoaW5mbykge1xuICAgIHRyeXtcbiAgICAgIHRoaXMuX192YWxpZGF0ZUtleXNKc29uKGluZm8sWydjb2xsZWN0aW9uJywnZG9jdW1lbnRfaWQnLCduYW1lJywgJ3Bvc2l0aW9uJywnbGVuZ3RoJ10pO1xuICAgICAgbGV0IGlkID0gdGhpcy5fX2dldFlEb2NJZChpbmZvWydjb2xsZWN0aW9uJ10sIGluZm9bJ2RvY3VtZW50X2lkJ10sIGluZm9bJ25hbWUnXSlcbiAgICAgIGlmIChpZCkge1xuICAgICAgICB0aGlzLmRlbGV0ZURhdGEoaWQsIGluZm9bJ3Bvc2l0aW9uJ10sIGluZm9bJ2xlbmd0aCddKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZSk7IFxuICAgIH1cbiAgfVxuICBcbiAgXG4gIC8qXG4gIGNyZHQuZ2V0VGV4dCh7XG4gIFx0Y29sbGVjdGlvbjogJ21vZHVsZV9hY3Rpdml0aWVzJyxcbiAgXHRkb2N1bWVudF9pZDogJzVlNDgwMmNlM2VkOTZkMzhlNzFmYzdlNScsXG4gIFx0bmFtZTogJ25hbWUnXG4gIH0pXG4gICovXG4gIGdldFRleHQoaW5mbykge1xuICAgIHRyeXtcbiAgICAgIHRoaXMuX192YWxpZGF0ZUtleXNKc29uKGluZm8sWydjb2xsZWN0aW9uJywnZG9jdW1lbnRfaWQnLCduYW1lJ10pO1xuICAgICAgbGV0IGlkID0gdGhpcy5fX2dldFlEb2NJZChpbmZvWydjb2xsZWN0aW9uJ10sIGluZm9bJ2RvY3VtZW50X2lkJ10sIGluZm9bJ25hbWUnXSlcbiAgICAgIGlmIChpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRXaG9sZVN0cmluZyhpZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZSk7IFxuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICB9XG5cbiAgXG4gIC8qIFxuICBjcmR0LmdldFBvc2l0aW9uKGZ1bmN0aW9uKGRhdGEpKVxuICBjcmR0LmdldFBvc2l0aW9uKGZ1bmN0aW9uKGRhdGEpe2NvbnNvbGUubG9nKFwiIEVTY3VjaGFuZG8gYWhvcmEgIFwiLGRhdGEpfSlcbiAgKi9cbiAgZ2V0UG9zaXRpb24oY2FsbGJhY2spe1xuICBpZih0eXBlb2YgbWlGdW5jaW9uID09PSAnZnVuY3Rpb24nKVxuICAgIHRoaXMuY2hhbmdlTGlzdGVuQXdlcmVuZXNzKGNhbGxiYWNrKTtcbiAgZWxzZVxuICAgIGNvbnNvbGUuZXJyb3IoJ0NhbGxiYWNrIHNob3VsZCBiZSBhIGZ1bmN0aW9uJylcbiAgfVxuIFxuICBfX2dldFlEb2NJZChjb2xsZWN0aW9uLCBkb2N1bWVudF9pZCwgbmFtZSkge1xuICAgIGlmICghdXRpbHMuY2hlY2tWYWx1ZShjb2xsZWN0aW9uKSB8fCBcbiAgICAgICAgIXV0aWxzLmNoZWNrVmFsdWUoZG9jdW1lbnRfaWQpIHx8IFxuICAgICAgICAhdXRpbHMuY2hlY2tWYWx1ZShuYW1lKSkgXG4gICAge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmdlbmVyYXRlSUQoY29uZmlnLm9yZ2FuaXphdGlvbl9JZCwgY29sbGVjdGlvbiwgZG9jdW1lbnRfaWQsIG5hbWUpO1xuICB9XG4gIFxuICBfX3ZhbGlkYXRlS2V5c0pzb24oanNvbixydWxlcyl7XG4gICAgbGV0IGtleXNfanNvbiA9IE9iamVjdC5rZXlzKGpzb24pO1xuICAgIGtleXNfanNvbi5mb3JFYWNoKGtleT0+e1xuICAgICAgY29uc3QgaW5kZXggPSBydWxlcy5pbmRleE9mKGtleSk7XG4gICAgICBpZihpbmRleCAhPSAtMSlcbiAgICAgICAgcnVsZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9KTtcbiAgICBpZiggcnVsZXMubGVuZ3RoIClcbiAgICAgIHRocm93IFwiUmVxdWlyZXMgdGhlIGZvbGxvd2luZyBcIisgcnVsZXMudG9TdHJpbmcoKTtcbiAgfVxufVxuXG5jb25zdCBnX3lEb2MgPSBuZXcgWS5Eb2MoKTtcbmxldCBDb0NyZWF0ZUNyZHQgPSBuZXcgQ29DcmVhdGVDUkRUQ2xhc3MoY29uZmlnLm9yZ2FuaXphdGlvbl9JZCwgZ195RG9jKTtcbndpbmRvdy5ZID0gWTtcblxuZXhwb3J0IGRlZmF1bHQgQ29DcmVhdGVDcmR0O1xuXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../CoCreate-components/CoCreate-crdt/src/index.js\n")},"../../CoCreate-components/CoCreate-crdt/src/utils/cursor/userCursor_class.js":function(module,exports,__webpack_require__){"use strict";eval("\n/* eslint-env browser */\n// @ts-ignore\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UserCursor = void 0;\n\nvar _usercolor = __webpack_require__(/*! ./usercolor.js */ \"../../CoCreate-components/CoCreate-crdt/src/utils/cursor/usercolor.js\");\n\nclass UserCursor {\n  constructor(provider) {\n    this.awareness = provider.awareness;\n    this.debug = false; //console.log(\" awareness\",provider)\n\n    this.__init();\n  }\n\n  __init() {\n    var cursor_user = localStorage.getItem('cursor_user');\n    if (this.debug) console.log(\" INIT cursor_user = \", cursor_user);\n    var user_id = localStorage.getItem('user_id');\n\n    if (cursor_user == null) {\n      var uuid = this.generateUUID(4);\n      let cursor_user = 'User : ' + uuid;\n      localStorage.setItem('cursor_user', cursor_user);\n      if (this.debug) console.log(\"update name From __init__USERCURSORQUILL \" + cursor_user);\n      this.updateAwarenessFromLocalstorage();\n    }\n\n    addEventListener('storage', this.updateAwarenessFromLocalstorage);\n    this.awareness.setLocalStateField('user', {\n      name: localStorage.getItem('cursor_user') || 'Anonymous',\n      color: _usercolor.userColor.color,\n      colorLight: _usercolor.userColor.light\n    });\n  }\n\n  updateAwarenessFromLocalstorage() {\n    const localstorageUsername = localStorage.getItem('cursor_user');\n    if (this.debug) console.log(\" from localStorage \", localstorageUsername);\n    const awarenessState = this.awareness.getLocalState();\n    if (this.debug) console.log(awarenessState);\n\n    if (awarenessState != null && typeof awarenessState.user.name == 'undefined') {\n      this.awareness.setLocalStateField('user', {\n        name: 'Anonymous',\n        color: _usercolor.userColor.color,\n        colorLight: _usercolor.userColor.light\n      });\n    }\n\n    if (localstorageUsername != null && awarenessState !== null && localstorageUsername !== awarenessState.user.name) {\n      this.awareness.setLocalStateField('user', {\n        name: localstorageUsername || 'Anonymous',\n        color: _usercolor.userColor.color,\n        colorLight: _usercolor.userColor.light\n      });\n    }\n  }\n\n  generateUUID(length = null) {\n    var d = new Date().getTime();\n    var d2 = performance && performance.now && performance.now() * 1000 || 0; //Time in microseconds since page-load or 0 if unsupported\n\n    var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n      var r = Math.random() * 16;\n\n      if (d > 0) {\n        var r = (d + r) % 16 | 0;\n        d = Math.floor(d / 16);\n      } else {\n        var r = (d2 + r) % 16 | 0;\n        d2 = Math.floor(d2 / 16);\n      }\n\n      return (c == 'x' ? r : r & 0x7 | 0x8).toString(16);\n    });\n\n    if (length != null) {\n      uuid = uuid.substr(0, length);\n    }\n\n    return uuid;\n  }\n\n} //en class\n\n\nexports.UserCursor = UserCursor;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5xdWlsbC8vaG9tZS91YnVudHUvZW52aXJvbm1lbnQvcHVibGljL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtY3JkdC9zcmMvdXRpbHMvY3Vyc29yL3VzZXJDdXJzb3JfY2xhc3MuanM/MDJmYSJdLCJuYW1lcyI6WyJVc2VyQ3Vyc29yIiwiY29uc3RydWN0b3IiLCJwcm92aWRlciIsImF3YXJlbmVzcyIsImRlYnVnIiwiX19pbml0IiwiY3Vyc29yX3VzZXIiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiY29uc29sZSIsImxvZyIsInVzZXJfaWQiLCJ1dWlkIiwiZ2VuZXJhdGVVVUlEIiwic2V0SXRlbSIsInVwZGF0ZUF3YXJlbmVzc0Zyb21Mb2NhbHN0b3JhZ2UiLCJhZGRFdmVudExpc3RlbmVyIiwic2V0TG9jYWxTdGF0ZUZpZWxkIiwibmFtZSIsImNvbG9yIiwidXNlckNvbG9yIiwiY29sb3JMaWdodCIsImxpZ2h0IiwibG9jYWxzdG9yYWdlVXNlcm5hbWUiLCJhd2FyZW5lc3NTdGF0ZSIsImdldExvY2FsU3RhdGUiLCJ1c2VyIiwibGVuZ3RoIiwiZCIsIkRhdGUiLCJnZXRUaW1lIiwiZDIiLCJwZXJmb3JtYW5jZSIsIm5vdyIsInJlcGxhY2UiLCJjIiwiciIsIk1hdGgiLCJyYW5kb20iLCJmbG9vciIsInRvU3RyaW5nIiwic3Vic3RyIl0sIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7Ozs7Ozs7QUFFQTs7QUFFTyxNQUFNQSxVQUFOLENBQWlCO0FBRXBCQyxhQUFXLENBQUNDLFFBQUQsRUFBVztBQUNwQixTQUFLQyxTQUFMLEdBQWlCRCxRQUFRLENBQUNDLFNBQTFCO0FBQ0EsU0FBS0MsS0FBTCxHQUFhLEtBQWIsQ0FGb0IsQ0FHcEI7O0FBQ0QsU0FBS0MsTUFBTDtBQUNBOztBQUVEQSxRQUFNLEdBQUU7QUFFRixRQUFJQyxXQUFXLEdBQUdDLFlBQVksQ0FBQ0MsT0FBYixDQUFxQixhQUFyQixDQUFsQjtB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V1gsQ0FBQyxHQUFDLEVBQWIsQ0FBSjtBQUNILE9BSEQsTUFHTztBQUNILFlBQUlRLENBQUMsR0FBRyxDQUFDTCxFQUFFLEdBQUdLLENBQU4sSUFBUyxFQUFULEdBQWMsQ0FBdEI7QUFDQUwsVUFBRSxHQUFHTSxJQUFJLENBQUNFLEtBQUwsQ0FBV1IsRUFBRSxHQUFDLEVBQWQsQ0FBTDtBQUNIOztBQUNELGFBQU8sQ0FBQ0ksQ0FBQyxJQUFFLEdBQUgsR0FBU0MsQ0FBVCxHQUFjQSxDQUFDLEdBQUMsR0FBRixHQUFNLEdBQXJCLEVBQTJCSSxRQUEzQixDQUFvQyxFQUFwQyxDQUFQO0FBQ0gsS0FWVSxDQUFYOztBQVdBLFFBQUdiLE1BQU0sSUFBRSxJQUFYLEVBQWdCO0FBQ2RmLFVBQUksR0FBR0EsSUFBSSxDQUFDNkIsTUFBTCxDQUFZLENBQVosRUFBY2QsTUFBZCxDQUFQO0FBQ0Q7O0FBQ0QsV0FBT2YsSUFBUDtBQUNIOztBQTFFcUIsQyxDQTJFdkIiLCJmaWxlIjoiLi4vLi4vQ29DcmVhdGUtY29tcG9uZW50cy9Db0NyZWF0ZS1jcmR0L3NyYy91dGlscy9jdXJzb3IvdXNlckN1cnNvcl9jbGFzcy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyogZXNsaW50LWVudiBicm93c2VyICovXG4vLyBAdHMtaWdub3JlXG5cbmltcG9ydCB7IHVzZXJDb2xvciB9IGZyb20gJy4vdXNlcmNvbG9yLmpzJ1xuXG5leHBvcnQgY2xhc3MgVXNlckN1cnNvciB7XG4gICAgXG4gICAgY29uc3RydWN0b3IocHJvdmlkZXIpIHtcbiAgICAgIHRoaXMuYXdhcmVuZXNzID0gcHJvdmlkZXIuYXdhcmVuZXNzO1xuICAgICAgdGhpcy5kZWJ1ZyA9IGZhbHNlO1xuICAgICAgLy9jb25zb2xlLmxvZyhcIiBhd2FyZW5lc3NcIixwcm92aWRlcilcbiAgICAgdGhpcy5fX2luaXQoKTtcbiAgICB9XG4gICAgXG4gICAgX19pbml0KCl7XG4gICAgICAgICAgXG4gICAgICAgICAgdmFyIGN1cnNvcl91c2VyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N1cnNvcl91c2VyJylcbiAgICAgICAgICBpZih0aGlzLmRlYnVnKVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCIgSU5JVCBjdXJzb3JfdXNlciA9IFwiLGN1cnNvcl91c2VyKVxuICAgICAgICAgIHZhciB1c2VyX2lkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJfaWQnKVxuICAgICAgICAgIGlmIChjdXJzb3JfdXNlciA9PSBudWxsKXtcbiAgICAgICAgICAgIHZhciB1dWlkID0gdGhpcy5nZW5lcmF0ZVVVSUQoNClcbiAgICAgICAgICAgIGxldCBjdXJzb3JfdXNlciA9ICdVc2VyIDogJyArIHV1aWQ7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3Vyc29yX3VzZXInLGN1cnNvcl91c2VyKVxuICAgICAgICAgICAgaWYodGhpcy5kZWJ1ZylcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJ1cGRhdGUgbmFtZSBGcm9tIF9faW5pdF9fVVNFUkNVUlNPUlFVSUxMIFwiK2N1cnNvcl91c2VyKVxuICAgICAgICAgICAgdGhpcy51cGRhdGVBd2FyZW5lc3NGcm9tTG9jYWxzdG9yYWdlKClcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcignc3RvcmFnZScsIHRoaXMudXBkYXRlQXdhcmVuZXNzRnJvbUxvY2Fsc3RvcmFnZSlcbiAgICAgICAgICBcbiAgICAgICAgICB0aGlzLmF3YXJlbmVzcy5zZXRMb2NhbFN0YXRlRmllbGQoJ3VzZXInLCB7XG4gICAgICAgICAgICBuYW1lOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3Vyc29yX3VzZXInKSB8fCAnQW5vbnltb3VzJyxcbiAgICAgICAgICAgIGNvbG9yOiB1c2VyQ29sb3IuY29sb3IsXG4gICAgICAgICAgICBjb2xvckxpZ2h0OiB1c2VyQ29sb3IubGlnaHRcbiAgICAgICAgICB9KVxuICAgIH1cbiAgICBcbiAgICB1cGRhdGVBd2FyZW5lc3NGcm9tTG9jYWxzdG9yYWdlKCl7XG4gICAgICBjb25zdCBsb2NhbHN0b3JhZ2VVc2VybmFtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdXJzb3JfdXNlcicpXG4gICAgICBpZih0aGlzLmRlYnVnKVxuICAgICAgICBjb25zb2xlLmxvZyhcIiBmcm9tIGxvY2FsU3RvcmFnZSBcIixsb2NhbHN0b3JhZ2VVc2VybmFtZSlcbiAgICAgIGNvbnN0IGF3YXJlbmVzc1N0YXRlID0gdGhpcy5hd2FyZW5lc3MuZ2V0TG9jYWxTdGF0ZSgpXG4gICAgICBpZih0aGlzLmRlYnVnKVxuICAgICAgICBjb25zb2xlLmxvZyhhd2FyZW5lc3NTdGF0ZSlcbiAgICAgIGlmKGF3YXJlbmVzc1N0YXRlICE9IG51bGwgJiYgdHlwZW9mKGF3YXJlbmVzc1N0YXRlLnVzZXIubmFtZSk9PSd1bmRlZmluZWQnICl7XG4gICAgICAgIHRoaXMuYXdhcmVuZXNzLnNldExvY2FsU3RhdGVGaWVsZCgndXNlcicsIHtcbiAgICAgICAgICBuYW1lOiAgJ0Fub255bW91cycsXG4gICAgICAgICAgY29sb3I6IHVzZXJDb2xvci5jb2xvcixcbiAgICAgICAgICBjb2xvckxpZ2h0OiB1c2VyQ29sb3IubGlnaHRcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIGlmIChsb2NhbHN0b3JhZ2VVc2VybmFtZSAhPSBudWxsICYmIGF3YXJlbmVzc1N0YXRlICE9PSBudWxsICYmIGxvY2Fsc3RvcmFnZVVzZXJuYW1lICE9PSBhd2FyZW5lc3NTdGF0ZS51c2VyLm5hbWUpIHtcbiAgICAgICAgdGhpcy5hd2FyZW5lc3Muc2V0TG9jYWxTdGF0ZUZpZWxkKCd1c2VyJywge1xuICAgICAgICAgIG5hbWU6IGxvY2Fsc3RvcmFnZVVzZXJuYW1lIHx8ICdBbm9ueW1vdXMnLFxuICAgICAgICAgIGNvbG9yOiB1c2VyQ29sb3IuY29sb3IsXG4gICAgICAgICAgY29sb3JMaWdodDogdXNlckNvbG9yLmxpZ2h0XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGdlbmVyYXRlVVVJRChsZW5ndGg9bnVsbCkge1xuICAgICAgdmFyIGQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgIHZhciBkMiA9IChwZXJmb3JtYW5jZSAmJiBwZXJmb3JtYW5jZS5ub3cgJiYgKHBlcmZvcm1hbmNlLm5vdygpKjEwMDApKSB8fCAwOy8vVGltZSBpbiBtaWNyb3NlY29uZHMgc2luY2UgcGFnZS1sb2FkIG9yIDAgaWYgdW5zdXBwb3J0ZWRcbiAgICAgIHZhciB1dWlkID0gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbihjKSB7XG4gICAgICAgICAgdmFyIHIgPSBNYXRoLnJhbmRvbSgpICogMTY7XG4gICAgICAgICAgaWYoZCA+IDApe1xuICAgICAgICAgICAgICB2YXIgciA9IChkICsgciklMTYgfCAwO1xuICAgICAgICAgICAgICBkID0gTWF0aC5mbG9vcihkLzE2KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB2YXIgciA9IChkMiArIHIpJTE2IHwgMDtcbiAgICAgICAgICAgICAgZDIgPSBNYXRoLmZsb29yKGQyLzE2KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIChjPT0neCcgPyByIDogKHImMHg3fDB4OCkpLnRvU3RyaW5nKDE2KTtcbiAgICAgIH0pO1xuICAgICAgaWYobGVuZ3RoIT1udWxsKXtcbiAgICAgICAgdXVpZCA9IHV1aWQuc3Vic3RyKDAsbGVuZ3RoKVxuICAgICAgfVxuICAgICAgcmV0dXJuIHV1aWQ7XG4gIH1cbn0vL2VuIGNsYXNzXG5cblxuXG5cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../CoCreate-components/CoCreate-crdt/src/utils/cursor/userCursor_class.js\n")},"../../CoCreate-components/CoCreate-crdt/src/utils/cursor/usercolor.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.userColor = exports.usercolors = void 0;\n\nvar random = _interopRequireWildcard(__webpack_require__(/*! lib0/random.js */ \"../../CoCreate-components/CoCreate-crdt/node_modules/lib0/random.js\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst usercolors = [{\n  color: '#30bced',\n  light: '#30bced33'\n}, {\n  color: '#6eeb83',\n  light: '#6eeb8333'\n}, {\n  color: '#ffbc42',\n  light: '#ffbc4233'\n}, {\n  color: '#ecd444',\n  light: '#ecd44433'\n}, {\n  color: '#ee6352',\n  light: '#ee635233'\n}, {\n  color: '#9ac2c9',\n  light: '#9ac2c933'\n}, {\n  color: '#8acb88',\n  light: '#8acb8833'\n}, {\n  color: '#1be7ff',\n  light: '#1be7ff33'\n}];\nexports.usercolors = usercolors;\nconst userColor = usercolors[random.uint32() % usercolors.length]; //export const userColor = usercolors[2]\n\nexports.userColor = userColor;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5xdWlsbC8vaG9tZS91YnVudHUvZW52aXJvbm1lbnQvcHVibGljL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtY3JkdC9zcmMvdXRpbHMvY3Vyc29yL3VzZXJjb2xvci5qcz80ZDFlIl0sIm5hbWVzIjpbInVzZXJjb2xvcnMiLCJjb2xvciIsImxpZ2h0IiwidXNlckNvbG9yIiwicmFuZG9tIiwidWludDMyIiwibGVuZ3RoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7OztBQUVPLE1BQU1BLFVBQVUsR0FBRyxDQUN4QjtBQUFFQyxPQUFLLEVBQUUsU0FBVDtBQUFvQkMsT0FBSyxFQUFFO0FBQTNCLENBRHdCLEVBRXhCO0FBQUVELE9BQUssRUFBRSxTQUFUO0FBQW9CQyxPQUFLLEVBQUU7QUFBM0IsQ0FGd0IsRUFHeEI7QUFBRUQsT0FBSyxFQUFFLFNBQVQ7QUFBb0JDLE9BQUssRUFBRTtBQUEzQixDQUh3QixFQUl4QjtBQUFFRCxPQUFLLEVBQUUsU0FBVDtBQUFvQkMsT0FBSyxFQUFFO0FBQTNCLENBSndCLEVBS3hCO0FBQUVELE9BQUssRUFBRSxTQUFUO0FBQW9CQyxPQUFLLEVBQUU7QUFBM0IsQ0FMd0IsRUFNeEI7QUFBRUQsT0FBSyxFQUFFLFNBQVQ7QUFBb0JDLE9BQUssRUFBRTtBQUEzQixDQU53QixFQU94QjtBQUFFRCxPQUFLLEVBQUUsU0FBVDtBQUFvQkMsT0FBSyxFQUFFO0FBQTNCLENBUHdCLEVBUXhCO0FBQUVELE9BQUssRUFBRSxTQUFUO0FBQW9CQyxPQUFLLEVBQUU7QUFBM0IsQ0FSd0IsQ0FBbkI7O0FBV0EsTUFBTUMsU0FBUyxHQUFHSCxVQUFVLENBQUNJLE1BQU0sQ0FBQ0MsTUFBUCxLQUFrQkwsVUFBVSxDQUFDTSxNQUE5QixDQUE1QixDLENBQ1AiLCJmaWxlIjoiLi4vLi4vQ29DcmVhdGUtY29tcG9uZW50cy9Db0NyZWF0ZS1jcmR0L3NyYy91dGlscy9jdXJzb3IvdXNlcmNvbG9yLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgcmFuZG9tIGZyb20gJ2xpYjAvcmFuZG9tLmpzJ1xuXG5leHBvcnQgY29uc3QgdXNlcmNvbG9ycyA9IFtcbiAgeyBjb2xvcjogJyMzMGJjZWQnLCBsaWdodDogJyMzMGJjZWQzMycgfSxcbiAgeyBjb2xvcjogJyM2ZWViODMnLCBsaWdodDogJyM2ZWViODMzMycgfSxcbiAgeyBjb2xvcjogJyNmZmJjNDInLCBsaWdodDogJyNmZmJjNDIzMycgfSxcbiAgeyBjb2xvcjogJyNlY2Q0NDQnLCBsaWdodDogJyNlY2Q0NDQzMycgfSxcbiAgeyBjb2xvcjogJyNlZTYzNTInLCBsaWdodDogJyNlZTYzNTIzMycgfSxcbiAgeyBjb2xvcjogJyM5YWMyYzknLCBsaWdodDogJyM5YWMyYzkzMycgfSxcbiAgeyBjb2xvcjogJyM4YWNiODgnLCBsaWdodDogJyM4YWNiODgzMycgfSxcbiAgeyBjb2xvcjogJyMxYmU3ZmYnLCBsaWdodDogJyMxYmU3ZmYzMycgfVxuXVxuXG5leHBvcnQgY29uc3QgdXNlckNvbG9yID0gdXNlcmNvbG9yc1tyYW5kb20udWludDMyKCkgJSB1c2VyY29sb3JzLmxlbmd0aF1cbi8vZXhwb3J0IGNvbnN0IHVzZXJDb2xvciA9IHVzZXJjb2xvcnNbMl0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../CoCreate-components/CoCreate-crdt/src/utils/cursor/usercolor.js\n")},"../../CoCreate-components/CoCreate-cursors/src/index.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _observer = _interopRequireDefault(__webpack_require__(/*! @cocreate/observer */ \"../../CoCreate-components/CoCreate-observer/src/index.js\"));\n\nvar _utils = _interopRequireDefault(__webpack_require__(/*! @cocreate/utils */ \"../../CoCreate-components/CoCreate-utils/src/index.js\"));\n\nvar _cocreatejs = __webpack_require__(/*! @cocreate/cocreatejs */ \"../../CoCreateJS/src/index.js\");\n\nvar _crdt = _interopRequireDefault(__webpack_require__(/*! @cocreate/crdt */ \"../../CoCreate-components/CoCreate-crdt/src/index.js\"));\n\nvar _input = _interopRequireDefault(__webpack_require__(/*! @cocreate/input */ \"../../CoCreate-components/CoCreate-input/src/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*global Element*/\n\n/**Uso esta variable para mostrar errores en caso que no este en prod*/\nvar element_multicursors = document.querySelectorAll('input,textarea,[contenteditable]'); //console.log(element_multicursors)\n\nvar debug = false;\nvar enviroment_prod = true;\nvar properties = ['boxSizing', 'borderTopWidth', 'borderRightWidth', 'borderBottomWidth', 'borderLeftWidth', 'paddingTop', 'paddingRight', 'paddingBottom', 'paddingLeft', 'marginTop', 'marginRight', 'marginBottom', 'marginLeft', 'fontStyle', 'fontVariant', 'fontWeight', 'fontStretch', 'fontSize', 'lineHeight', 'fontFamily', 'textAlign', 'textTransform', 'textIndent', 'textDecoration', 'letterSpacing', 'wordSpacing', 'textRendering', 'webkitWritingMode', 'textTransform', 'textIndent', 'overflowWrap'];\nvar length_uuid = 30;\n\nclass CocreateUtilsCursor {\n  static print(message, debug) {\n    debug = debug || false;\n    if (debug) console.log(message);\n  }\n\n  static generateUUID(length = null) {\n    var d = new Date().getTime();\n    var d2 = performance && performance.now && performance.now() * 1000 || 0; //Time in microseconds since page-load or 0 if unsupported\n\n    var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n      var r = Math.random() * 16;\n\n      if (d > 0) {\n        var r = (d + r) % 16 | 0;\n        d = Math.floor(d / 16);\n      } else {\n        var r = (d2 + r) % 16 | 0;\n        d2 = Math.floor(d2 / 16);\n      }\n\n      return (c == 'x' ? r : r & 0x7 | 0x8).toString(16);\n    });\n\n    if (length != null) {\n      uuid = uuid.substr(0, length);\n    }\n\n    return uuid;\n  }\n\n}\n\nvar getParents = function (elem, selector) {// \tif (!Element.prototype.matches) {\n  // \t\tElement.prototype.matches =\n  // \t\t\tElement.prototype.matchesSelector ||\n  // \t\t\tElement.prototype.mozMatchesSelector ||\n  // \t\t\tElement.prototype.msMatchesSelector ||\n  // \t\t\tElement.prototype.oMatchesSelector ||\n  // \t\t\tElement.prototype.webkitMatchesSelector ||\n  // \t\t\tfunction(s) {\n  // \t\t\t\tvar matches = (this.document || this.ownerDocument).querySelectorAll(s),\n  // \t\t\t\t\ti = matches.length;\n  // \t\t\t\twhile (--i >= 0 && matches.item(i) !== this) {}\n  // \t\t\t\treturn i > -1;\n  // \t\t\t};\n  // \t}\n};\n\nvar mirrorDiv, computed, style, computedParentElement;\n\nvar getCaretCoordinates = function (element, position_start, position_end) {\n  // mirrored div\n  let name = element.getAttribute('name');\n  let document_id = element.getAttribute('data-document_id') || '';\n\n  if (document_id == '') {\n    return false;\n  }\n\n  var ID_MIRROR = element.dataset['mirror_id']; //document_id + name +  '--mirror-div';\n\n  mirrorDiv = document.getElementById(ID_MIRROR);\n  var add_class_scroll = element.className.indexOf('floating-label') == -1 ? false : true;\n\n  if (!mirrorDiv) {\n    mirrorDiv = document.createElement('div');\n    mirrorDiv.id = ID_MIRROR; //document_id +name+ '--mirror-div';\n\n    mirrorDiv.className = enviroment_prod ? 'mirror_color mirror_scroll mirror-width-scroll' : 'mirror-width-scroll'; //document.body.appendChild(mirrorDiv);\n\n    element.insertAdjacentElement('afterend', mirrorDiv);\n  }\n\n  var scrollwidth = element.offsetWidth - element.scrollWidth;\n  style = mirrorDiv.style;\n  computed = getComputedStyle(element);\n  computedParentElement = getComputedStyle(element.parentElement);\n  let margin_top = parseInt(computed['marginTop']);\n  let margin_left = parseInt(computed['marginLeft']);\n\n  if (element.nodeName !== 'INPUT') {\n    style.wordWrap = 'break-word'; // only for textarea-s\n\n    style.whiteSpace = 'pre-wrap';\n  } else {\n    style.whiteSpace = 'pre';\n  } // position off-screen\n\n\n  style.position = 'absolute'; // required to return coordinates properly\n\n  var rect = element.getBoundingClientRect(); // get Position from element\n\n  let scrrollTop_browser = document.documentElement.scrollTop; //style.top = ((rect.top+scrrollTop_browser)-1) - (parseInt(computed['marginTop']) - parseInt(computed['borderTopWidth']) ) + 'px'//parseInt(computed.borderTopWidth) + 'px'; //  element.offsetTop + parseInt(computed.borderTopWidth) + 'px';\n  //style.top = computedParentElement['top'];\n\n  style.top = element.offsetTop + 'px'; //style.left = rect.left - (parseInt(computed['marginLeft']) -  parseInt(computed['borderLeftWidth']) ) + 'px'//parseInt(computed.borderLeftWidth) + 'px'   // margin_left+\"px\";//\"400px\";\n  //style.left =  computedParentElement['left'];\n\n  style.left = element.offsetLeft + 'px';\n  style.width = rect.width + 'px'; // - (parseInt(computed.borderLeftWidth) + parseInt(computed.borderRightWidth)) + 'px'   // margin_left+\"px\";//\"400px\";\n\n  style.height = rect.height + 'px'; // - (parseInt(computed.borderTopWidth) + parseInt(computed.borderBottomWidth)) + 'px'   // margin_left+\"px\";//\"400px\";\n\n  style.visibility = 'visible';\n  properties.forEach(function (prop) {\n    if (['left', 'top'].indexOf(prop.toLowerCase()) === -1) style[prop] = computed[prop];\n  });\n  style.overflowX = 'auto';\n  style.overflowY = 'hidden';\n  style.margin = '0px'; //style.padding = '0px'\n\n  style.border = computed['border'];\n  style.borderColor = 'transparent';\n  /* \n  if(element.nodeName.toLowerCase()=='input'){\n    style.overflowX ='auto';\n    style.overflowY ='hidden';\n  }else{\n    style.overflow=\"visible\"\n  }*/\n  // style.paddingRight = (parseInt(style.paddingRight) + scrollwidth - parseInt(computed.borderRightWidth)) +'px';\n\n  let cursor_container = mirrorDiv.querySelectorAll('.cursor-container');\n  let selectors_by_users = mirrorDiv.querySelectorAll('.selectors_by_users');\n  let value_element = ['TEXTAREA', 'INPUT'].indexOf(element.nodeName) == -1 ? element.innerHTML : element.value;\n  mirrorDiv.textContent = value_element.substring(0, position_start);\n  if (element.nodeName === 'INPUT') mirrorDiv.textContent = mirrorDiv.textContent.replace(/\\s/g, \"\\u00a0\");\n  var span = document.createElement('span');\n  span.id = element.nodeName + 'span_selections';\n  let value_span = value_element.substring(position_start, position_end) || '';\n  span.textContent = value_span; // || because a completely empty faux span doesn't render at all\n  //span.style.backgroundColor = \"lightgrey\";\n\n  mirrorDiv.appendChild(span);\n\n  if (cursor_container) {\n    cursor_container.forEach(function (child_cursor, index, array) {\n      mirrorDiv.appendChild(child_cursor);\n    });\n  }\n\n  if (selectors_by_users) {\n    selectors_by_users.forEach(function (child_selection, index, array) {\n      mirrorDiv.appendChild(child_selection);\n    });\n  }\n\n  let value_end = value_element.substring(position_end) || '';\n  var span_end = document.createElement('span');\n  mirrorDiv.appendChild(span_end);\n  span_end.textContent = value_end;\n  var rect = element.getBoundingClientRect(); // get Position from element\n\n  var coordinates = {\n    start: {\n      top: span.offsetTop,\n      left: span.offsetLeft\n    },\n    end: {\n      top: span_end.offsetTop,\n      //+ parseInt(computed['borderTopWidth']),\n      left: span_end.offsetLeft // + parseInt(computed['borderLeftWidth'])\n\n    }\n  };\n  return coordinates;\n};\n\nfunction getStyle(el, styleProp) {\n  if (window.getComputedStyle) var y = document.defaultView.getComputedStyle(el, null).getPropertyValue(styleProp);\n  return y;\n}\n\nfunction getDocument(collection, module_id) {\n  _cocreatejs.crud.readDocument({\n    'collection': collection,\n    'document_id': module_id\n  });\n}\n\n_cocreatejs.socket.listen('readDocument', function (data) {\n  let cursor = document.querySelector('.cursor-flag[data-document_id=\"' + data['document_id'] + '\"]');\n  if (cursor) cursor.innerHTML = data.result[cursor.getAttribute('name')];\n});\n\nfunction draw_cursor(json) {\n  CocreateUtilsCursor.print([\"draw Cursor \", json], debug);\n  let element = json['element'];\n  let activate_cursor = element.dataset['cursors'] ? element.dataset['mirror_id'] : true;\n\n  if (activate_cursor) {\n    let start = json['startPosition'];\n    let end = json['endPositon'];\n    let socket_id = json['clientId'];\n    let document_id = element.getAttribute('data-document_id') || '';\n\n    if (document_id != '') {\n      CocreateUtilsCursor.print(\"action document_id \" + document_id, debug);\n      if (typeof element.dataset['mirror_id'] == 'undefined' || element.dataset['mirror_id'] == '') element.dataset['mirror_id'] = CocreateUtilsCursor.generateUUID(length_uuid);\n      let coordinates = getCaretCoordinates(element, start, end);\n      if (!coordinates) return false;\n      let name = element.getAttribute('name');\n      let id_mirror = element.dataset['mirror_id']; //document_id+name+'--mirror-div'\n\n      let mi_mirror = document.getElementById(id_mirror);\n      let cursor = false;\n      let selection_user = false;\n      let identify = '_' + id_mirror;\n      let user = typeof json != 'undefined' && json.hasOwnProperty('user') ? json.user : false;\n      let user_id = typeof json != 'undefined' && json.hasOwnProperty('user_id') ? user.user_id : false;\n\n      if (socket_id) {\n        //if(data && data.hasOwnProperty('id_mirror')){\n        var cursores_other_elements = document.querySelectorAll('#socket_' + socket_id + identify);\n        cursores_other_elements.forEach(function (child_cursor, index, array) {\n          if (child_cursor.parentElement.getAttribute('id') != id_mirror) {\n            CocreateUtilsCursor.print(\"remove old cursor others elements\", debug);\n            child_cursor.remove();\n          }\n        }); //}\n\n        cursor = mi_mirror.querySelector('.cursor-container#socket_' + socket_id + identify);\n\n        if (!cursor && json.hasOwnProperty('user')) {\n          if (user) {\n            CocreateUtilsCursor.print(\"Create Cursor\", debug);\n            let cursor_template = '<div style=\"color:blue;\" class=\"cursor-container\" \\\n                                                  id=\"socket_' + socket_id + identify + '\" \\\n                                                  ><div class=\"cursor\" \\\n                                                  style=\"background-color:' + user.color + '\"></div>\\\n                                                  <div class=\"cursor-flag\" data-collection=\"users\" \\\n                                                  name=\"name\" \\\n                                                  data-user_name=\"' + user.name + '\" \\\n                                                  data-user_color=\"' + user.color + '\" \\\n                                                  data-socket_id=\"' + socket_id + '\" \\\n                                                  data-id_mirror=\"' + id_mirror + '\" \\\n                                                  data-document_id=\"' + user_id + '\" \\\n                                                  style=\"background-color:' + user.color + '\" \\\n                                                  flag>' + user.name + '</div></div>';\n            mi_mirror.innerHTML = cursor_template + mi_mirror.innerHTML;\n          }\n\n          if (user_id) {\n            // si tiene user_id actualiza el nombre del cursor usando crud\n            _cocreatejs.crud.readDocument({\n              'collection': 'users',\n              'document_id': user_id\n            });\n          }\n        }\n\n        cursor = mi_mirror.querySelector('.cursor-container#socket_' + socket_id + identify);\n      }\n\n      if (cursor) {\n        CocreateUtilsCursor.print([\"Update Cursor\", cursor, coordinates], debug);\n        let font_size = getStyle(element, 'font-size');\n        font_size = parseFloat(font_size.substring(0, font_size.length - 2));\n        let cursor_height = font_size * 112.5 / 100;\n        let my_cursor = cursor.querySelector('.cursor');\n        cursor.dataset.start = start;\n        cursor.dataset.end = end;\n        cursor.dataset.socket_id = socket_id;\n        /*cursor.dataset.user_name = user.name\n        cursor.dataset.user_color = user.color*/\n\n        cursor.style[\"top\"] = coordinates.end.top + \"px\";\n        cursor.style[\"width\"] = \"2px\"; //2px\n\n        my_cursor.style[\"height\"] = cursor_height + \"px\";\n        cursor.style[\"left\"] = coordinates.end.left + \"px\"; //add selections\n\n        selection_user = document.getElementById('sel-' + socket_id + identify);\n\n        if (start != end && user) {\n          selection_user = document.getElementById('sel-' + socket_id + identify);\n\n          if (selection_user) {\n            selection_user.remove();\n          }\n\n          var scrollwidth = element.offsetWidth - element.scrollWidth;\n          var padding_right = parseInt(getComputedStyle(element)[\"paddingRight\"]);\n          selection_user = document.createElement('span');\n          selection_user.id = 'sel-' + socket_id + identify;\n          selection_user.className = 'selectors_by_users';\n          let style_mirror = getComputedStyle(mi_mirror);\n          selection_user.style[\"position\"] = \"absolute\";\n          selection_user.style[\"top\"] = style_mirror.paddingTop;\n          selection_user.style[\"left\"] = style_mirror.paddingLeft;\n          selection_user.style[\"padding-right\"] = scrollwidth + padding_right + \"px\";\n          mi_mirror.insertBefore(selection_user, mi_mirror.firstChild);\n          let selection_span_by_user = document.createElement('span');\n          selection_span_by_user.id = 'selection-' + socket_id + identify;\n          selection_span_by_user.style.backgroundColor = user.color;\n          let value_element = ['TEXTAREA', 'INPUT'].indexOf(element.nodeName) == -1 ? element.innerHTML : element.value;\n          selection_user.textContent = value_element.substring(0, start);\n          let value_span_selection = value_element.substring(start, end) || '';\n          console.log(\"Selection \", value_span_selection, start, end); //selection_span_by_user.style.opacity = 0.5;\n\n          selection_span_by_user.textContent = value_span_selection;\n          selection_user.appendChild(selection_span_by_user);\n        } //end Selections\n        else {\n            if (selection_user) {\n              selection_user.remove();\n            }\n          }\n      }\n    } //end if document_id\n\n  } //end activate_cursors\n\n} //draw_cursor\n\n\nfunction refresh_mirror(element) {\n  var id_mirror = '';\n  let document_id = element.getAttribute('data-document_id') || '';\n\n  if (document_id != '') {\n    name = element.getAttribute('name');\n    if (element.dataset['mirror_id']) id_mirror = element.dataset['mirror_id'];else return; //console.log(\"Refresh \",id_mirror)\n\n    var mi_mirror = document.getElementById(id_mirror);\n    CocreateUtilsCursor.print([\"refresh_mirror \", mi_mirror], debug);\n    var selector_element = element.nodeName + \"[name='\" + name + \"'][data-document_id='\" + document_id + \"']\";\n    CocreateUtilsCursor.print([\"selector -> \" + selector_element], debug);\n\n    if (mi_mirror) {\n      computed = getComputedStyle(element);\n      style = mi_mirror.style;\n      style.width = element.offsetWidth - (parseInt(computed.borderLeftWidth) + parseInt(computed.borderRightWidth)) + 'px';\n      style.height = element.offsetHeight - (parseInt(computed.borderTopWidth) + parseInt(computed.borderBottomWidth)) + 'px';\n      var cursor_container = mi_mirror.querySelectorAll('.cursor-container');\n      cursor_container.forEach(function (child_cursor, index, array) {\n        //console.log(\"REdraw cursor\")\n        let child = child_cursor.querySelector('.cursor-flag');\n        let dataset_child = child.dataset;\n        let dataset = child_cursor.dataset;\n        draw_cursor({\n          element: element,\n          startPosition: dataset.start,\n          endPositon: dataset.end,\n          clientId: dataset.socket_id,\n          user: {\n            'color': dataset_child.user_color,\n            'name': dataset.user_name\n          }\n        });\n      });\n    }\n  } //end document\n\n} //end verify \n\n\nElement.prototype.remove = function () {\n  if (this.parentElement) {\n    this.parentElement.removeChild(this);\n  }\n};\n\nfunction recalculate_local_cursors(element, count) {\n  CocreateUtilsCursor.print(\"count \" + count, debug);\n  let my_start = !element.hasAttribute('contenteditable') ? element.selectionStart : parseInt(element.getAttribute(\"selection_start\")); //let my_start   = element.selectionStart\n\n  let name = element.getAttribute('name') || '';\n  let document_id = element.getAttribute('data-document_id') || '';\n  let collection = element.getAttribute('data-collection') || '';\n  let selector = '[data-collection=\"' + collection + '\"][data-document_id=\"' + document_id + '\"][name=\"' + name + '\"]';\n  let id_mirror = element.dataset['mirror_id']; //let id_mirror = document_id+name+'--mirror-div';\n\n  let mirrorDiv = document.getElementById(id_mirror);\n  let cursor_container = mirrorDiv ? mirrorDiv.querySelectorAll('.cursor-container') : null;\n\n  if (cursor_container) {\n    let containers_cursors = [];\n    cursor_container.forEach(function (child_cursor, index, array) {\n      let start = parseInt(child_cursor.getAttribute('data-start'));\n      let user_name = child_cursor.getAttribute('data-user_name');\n      CocreateUtilsCursor.print([\"my_start local\", my_start, 'start cursor ' + user_name + \" = \", start], debug);\n\n      if (start > my_start && containers_cursors.indexOf(user_name) == -1) {\n        CocreateUtilsCursor.print(\"Es mayor\", debug);\n        let end = parseInt(child_cursor.getAttribute('data-end'));\n        let pos_start = start + count;\n        let pos_end = end + count;\n        CocreateUtilsCursor.print(['pos_start', pos_start, 'pos_end', pos_end], debug);\n        let dataset = child_cursor.querySelector('.cursor-flag').dataset;\n        let clientId = dataset.socket_id;\n        let json = {\n          element: element,\n          startPosition: pos_start,\n          endPositon: pos_end,\n          clientId: clientId,\n          'user': {\n            'color': dataset.user_color,\n            'name': dataset.user_name\n          }\n        };\n        CocreateUtilsCursor.print([\"sent Draw Cursor \", json], debug);\n        draw_cursor(json);\n        containers_cursors.push(user_name);\n      } //mirrorDiv.appendChild(child_cursor);\n\n    });\n  }\n}\n\nfunction initCursorEl(element) {\n  let formulario = getParents(element, 'form');\n  let realtime = element.hasAttribute('data-realtime') ? element.getAttribute('data-realtime') : 'true';\n\n  if (realtime == 'true' || formulario && formulario.getAttribute('data-realtime') == 'true') {\n    if (realtime == 'false') return false;\n    CocreateUtilsCursor.print([\"Init Events \", element], debug);\n    /*\n    element.addEventListener('input',function(event){\n        let start = element.selectionStart;\n        let end = element.selectionEnd;\n        let coordinates = getCaretCoordinates(element,start,end);\n        let count = 0;\n        switch(event.inputType){\n          case 'insertText':\n            count = 1;\n          break;\n          case 'insertFromPaste':\n           // count = event.clipboardData.getData('Text').length\n          break;\n          case 'deleteContentBackward':\n          //case 'insertFromPaste':\n            count = -1;\n          break;\n        }\n        if(count)\n          recalculate_local_cursors(this,count)\n    },false)\n    */\n\n    element.addEventListener('scroll', function () {\n      CocreateUtilsCursor.print([\"Move Scroll \", element], true);\n      let name = element.getAttribute('name');\n      let document_id = element.getAttribute('data-document_id') || '';\n      let id_mirror = element.dataset['mirror_id'];\n      let mi_mirror = document.getElementById(id_mirror);\n\n      if (mi_mirror) {\n        mi_mirror.scrollTo(element.scrollLeft, element.scrollTop);\n      }\n    }, false); //resize\n\n    function outputsize() {\n      element_multicursors.forEach(function (element_for, index, array) {\n        let name = element_for.getAttribute('name');\n        let id_mirror = element.dataset['mirror_id'];\n        CocreateUtilsCursor.print([\"Resize id_mirror -> \" + id_mirror], debug);\n        let mi_mirror = document.getElementById(id_mirror);\n\n        if (mi_mirror) {\n          mi_mirror.style[\"width\"] = element_for.offsetWidth + \"px\";\n          mi_mirror.style[\"height\"] = element_for.offsetHeight + \"px\"; //var isFocused = (document.activeElement === element_for);\n          //verify_cursor(element_for,isFocused)\n\n          var isFocused = document.activeElement === element;\n          if (isFocused) getCaretCoordinates(element, element.selectionStart, element.selectionEnd);\n          refresh_mirror(element);\n        }\n      });\n    }\n\n    new ResizeObserver(outputsize).observe(element); //if (element.nodeName == 'INPUT'){\n\n    element.addEventListener('mousemove', function (event) {\n      let name = element.getAttribute('name');\n      let document_id = element.getAttribute('data-document_id');\n      let id_mirror = element.dataset['mirror_id'];\n      let mi_mirror = document.getElementById(id_mirror);\n      if (mi_mirror) mi_mirror.scrollTo(element.scrollLeft, element.scrollTop);\n    });\n    element.addEventListener('focusout', function (event) {\n      let name = element.getAttribute('name');\n      let document_id = element.getAttribute('data-document_id') || '';\n      let id_mirror = element.dataset['mirror_id'];\n      let mi_mirror = document.getElementById(id_mirror);\n      if (mi_mirror) mi_mirror.scrollTo(element.scrollLeft, element.scrollTop);\n    });\n    element.addEventListener('keydown', function (event) {\n      //console.log(\"keydown L,T => \",element.scrollLeft,element.scrollTop)\n      let name = element.getAttribute('name');\n      let id_mirror = element.dataset['mirror_id'];\n      let mi_mirror = document.getElementById(id_mirror);\n\n      if (mi_mirror) {\n        mi_mirror.scrollTo(element.scrollLeft, element.scrollTop);\n        refresh_mirror(element);\n      }\n    });\n    element.addEventListener('keyup', function (event) {\n      //console.log(\"keyup L,T => \",element.scrollLeft,element.scrollTop)\n      let name = element.getAttribute('name');\n      let id_mirror = element.dataset['mirror_id'];\n      let mi_mirror = document.getElementById(id_mirror);\n      if (mi_mirror) mi_mirror.scrollTo(element.scrollLeft, element.scrollTop);\n    }); //}\n  } //end if realtime TRUE\n\n}\n\nvar initialize_multicursor = function (element_multicursors) {\n  element_multicursors.forEach(function (element, index, array) {\n    initCursorEl(element);\n  }); // element_multicursors.forEach\n}; //end initialize_multicursor \n\n\nwindow.addEventListener('resize', function (e) {\n  //console.log(\"resize windows\")\n  document.querySelectorAll('[data-mirror_id]').forEach(function (element, index, array) {\n    refresh_mirror(element);\n  }); // element_multicursors.forEach\n}, true);\ndocument.addEventListener('scroll', function (e) {\n  //console.log(\"Scroll \")\n  //console.log(\"scroll windows\",document.body.scrollLeft,document.body.scrollTop)\n  //element_multicursors.forEach(function (element, index, array) {\n  document.querySelectorAll('[data-mirror_id]').forEach(function (element, index, array) {\n    refresh_mirror(element);\n  }); // element_multicursors.forEach\n}, true);\n\nfunction initCursorElements(container) {\n  let mainContainer = container || window;\n\n  if (!mainContainer.querySelectorAll) {\n    return;\n  }\n\n  let elements = mainContainer.querySelectorAll('[data-realtime=true]');\n  elements.forEach(el => {\n    initCursorEl(el);\n  });\n}\n\nif (debug) console.log(\"elements to INIT -> \", element_multicursors);\ninitialize_multicursor(element_multicursors); // CoCreateInit.register_old('[data-realtime=true]',initCursorEl);\n// CoCreateInit.register('CoCreateCursor', window, initCursorElements);\n\n_observer.default.init({\n  name: 'CoCreateCursor',\n  observe: ['subtree', 'childList'],\n  include: '[data-collection][data-document_id][name][data-realtime=true]',\n  callback: function (mutation) {\n    initCursorElements(mutation.target);\n  }\n});\n\nconst CoCreateCursors = {\n  draw_cursor,\n  refresh_mirror,\n  recalculate_local_cursors\n};\nvar _default = CoCreateCursors;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5xdWlsbC8vaG9tZS91YnVudHUvZW52aXJvbm1lbnQvcHVibGljL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtY3Vyc29ycy9zcmMvaW5kZXguanM/ZDY4OSJdLCJuYW1lcyI6WyJlbGVtZW50X211bHRpY3Vyc29ycyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImRlYnVnIiwiZW52aXJvbWVudF9wcm9kIiwicHJvcGVydGllcyIsImxlbmd0aF91dWlkIiwiQ29jcmVhdGVVdGlsc0N1cnNvciIsInByaW50IiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJnZW5lcmF0ZVVVSUQiLCJsZW5ndGgiLCJkIiwiRGF0ZSIsImdldFRpbWUiLCJkMiIsInBlcmZvcm1hbmNlIiwibm93IiwidXVpZCIsInJlcGxhY2UiLCJjIiwiciIsIk1hdGgiLCJyYW5kb20iLCJmbG9vciIsInRvU3RyaW5nIiwic3Vic3RyIiwiZ2V0UGFyZW50cyIsImVsZW0iLCJzZWxlY3RvciIsIm1pcnJvckRpdiIsImNvbXB1dGVkIiwic3R5bGUiLCJjb21wdXRlZFBhcmVudEVsZW1lbnQiLCJnZXRDYXJldENvb3JkaW5hdGVzIiwiZWxlbWVudCIsInBvc2l0aW9uX3N0YXJ0IiwicG9zaXRpb25fZW5kIiwibmFtZSIsImdldEF0dHJpYnV0ZSIsImRvY3VtZW50X2lkIiwiSURfTUlSUk9SIiwiZGF0YXNldCIsImdldEVsZW1lbnRCeUlkIiwiYWRkX2NsYXNzX3Njcm9sbCIsImNsYXNzTmFtZSIsImluZGV4T2YiLCJjcmVhdGVFbGVtZW50IiwiaWQiLCJpbnNlcnRBZGphY2VudEVsZW1lbnQiLCJzY3JvbGx3aWR0aCIsIm9mZnNldFdpZHRoIiwic2Nyb2xsV2lkdGgiLCJnZXRDb21wdXRlZFN0eWxlIiwicGFyZW50RWxlbWVudCIsIm1hcmdpbl90b3AiLCJwYXJzZUludCIsIm1hcmdpbl9sZWZ0Iiwibm9kZU5hbWUiLCJ3b3JkV3JhcCIsIndoaXRlU3BhY2UiLCJwb3NpdGlvbiIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJzY3Jyb2xsVG9wX2Jyb3dzZXIiLCJkb2N1bWVudEVsZW1lbnQiLCJzY3JvbGxUb3AiLCJ0b3AiLCJvZmZzZXRUb3AiLCJsZWZ0Iiwib2Zmc2V0TGVmdCIsIndpZHRoIiwiaGVpZ2h0IiwidmlzaWJpbGl0eSIsImZvckVhY2giLCJwcm9wIiwidG9Mb3dlckNhc2UiLCJvdmVyZmxvd1giLCJvdmVyZmxvd1kiLCJtYXJnaW4iLCJib3JkZXIiLCJib3JkZXJDb2xvciIsImN1cnNvcl9jb250YWluZXIiLCJzZWxlY3RvcnNfYnlfdXNlcnMiLCJ2YWx1ZV9lbGVtZW50IiwiaW5uZXJIVE1MIiwidmFsdWUiLCJ0ZXh0Q29udGVudCIsInN1YnN0cmluZyIsInNwYW4iLCJ2YWx1ZV9zcGFuIiwiYXBwZW5kQ2hpbGQiLCJjaGlsZF9jdXJzb3IiLCJpbmRleCIsImFycmF5IiwiY2hpbGRfc2VsZWN0aW9uIiwidmFsdWVfZW5kIiwic3Bhbl9lbmQiLCJjb29yZGluYXRlcyIsInN0YXJ0IiwiZW5kIiwiZ2V0U3R5bGUiLCJlbCIsInN0eWxlUHJvcCIsIndpbmRvdyIsInkiLCJkZWZhdWx0VmlldyIsImdldFByb3BlcnR5VmFsdWUiLCJnZXREb2N1bWVudCIsImNvbGxlY3Rpb24iLCJtb2R1bGVfaWQiLCJjcnVkIiwicmVhZERvY3VtZW50Iiwic29ja2V0IiwibGlzdGVuIiwiZGF0YSIsImN1cnNvciIsInF1ZXJ5U2VsZWN0b3IiLCJyZXN1bHQiLCJkcmF3X2N1cnNvciIsImpzb24iLCJhY3RpdmF0ZV9jdXJzb3IiLCJzb2NrZXRfaWQiLCJpZF9taXJyb3IiLCJtaV9taXJyb3IiLCJzZWxlY3Rpb25fdXNlciIsImlkZW50aWZ5IiwidXNlciIsImhhc093blByb3BlcnR5IiwidXNlcl9pZCIsImN1cnNvcmVzX290aGVyX2VsZW1lbnRzIiwicmVtb3ZlIiwiY3Vyc29yX3RlbXBsYXRlIiwiY29sb3IiLCJmb250X3NpemUiLCJwYXJzZUZsb2F0IiwiY3Vyc29yX2hlaWdodCIsIm15X2N1cnNvciIsInBhZGRpbmdfcmlnaHQiLCJzdHlsZV9taXJyb3IiLCJwYWRkaW5nVG9wIiwicGFkZGluZ0xlZnQiLCJpbnNlcnRCZWZvcmUiLCJmaXJzdENoaWxkIiwic2VsZWN0aW9uX3NwYW5fYnlfdXNlciIsImJhY2tncm91bmRDb2xvciIsInZhbHVlX3NwYW5fc2VsZWN0aW9uIiwicmVmcmVzaF9taXJyb3IiLCJzZWxlY3Rvcl9lbGVtZW50IiwiYm9yZGVyTGVmdFdpZHRoIiwiYm9yZGVyUmlnaHRXaWR0aCIsIm9mZnNldEhlaWdodCIsImJvcmRlclRvcFdpZHRoIiwiYm9yZGVyQm90dG9tV2lkdGgiLCJjaGlsZCIsImRhdGFzZXRfY2hpbGQiLCJzdGFydFBvc2l0aW9uIiwiZW5kUG9zaXRvbiIsImNsaWVudElkIiwidXNlcl9jb2xvciIsInVzZXJfbmFtZSIsIkVsZW1lbnQiLCJwcm90b3R5cGUiLCJyZW1vdmVDaGlsZCIsInJlY2FsY3VsYXRlX2xvY2FsX2N1cnNvcnMiLCJjb3VudCIsIm15X3N0YXJ0IiwiaGFzQXR0cmlidXRlIiwic2VsZWN0aW9uU3RhcnQiLCJjb250YWluZXJzX2N1cnNvcnMiLCJwb3Nfc3RhcnQiLCJwb3NfZW5kIiwicHVzaCIsImluaXRDdXJzb3JFbCIsImZvcm11bGFyaW8iLCJyZWFsdGltZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJzY3JvbGxUbyIsInNjcm9sbExlZnQiLCJvdXRwdXRzaXplIiwiZWxlbWVudF9mb3IiLCJpc0ZvY3VzZWQiLCJhY3RpdmVFbGVtZW50Iiwic2VsZWN0aW9uRW5kIiwiUmVzaXplT2JzZXJ2ZXIiLCJvYnNlcnZlIiwiZXZlbnQiLCJpbml0aWFsaXplX211bHRpY3Vyc29yIiwiZSIsImluaXRDdXJzb3JFbGVtZW50cyIsImNvbnRhaW5lciIsIm1haW5Db250YWluZXIiLCJlbGVtZW50cyIsIm9ic2VydmVyIiwiaW5pdCIsImluY2x1ZGUiLCJjYWxsYmFjayIsIm11dGF0aW9uIiwidGFy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bUosU0FBTyxFQUFFLENBQUMsU0FBRCxFQUFZLFdBQVosQ0FGSTtBQUdiVSxTQUFPLEVBQUUsK0RBSEk7QUFJYkMsVUFBUSxFQUFFLFVBQVNDLFFBQVQsRUFBbUI7QUFDNUJSLHNCQUFrQixDQUFDUSxRQUFRLENBQUNDLE1BQVYsQ0FBbEI7QUFDQTtBQU5ZLENBQWQ7O0FBU0EsTUFBTUMsZUFBZSxHQUFHO0FBQUVoRixhQUFGO0FBQWU0QixnQkFBZjtBQUErQmlCO0FBQS9CLENBQXhCO2VBQ2VtQyxlIiwiZmlsZSI6Ii4uLy4uL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtY3Vyc29ycy9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKmdsb2JhbCBFbGVtZW50Ki9cbmltcG9ydCBvYnNlcnZlciBmcm9tICdAY29jcmVhdGUvb2JzZXJ2ZXInXG5pbXBvcnQgdXRpbHMgZnJvbSAnQGNvY3JlYXRlL3V0aWxzJztcbmltcG9ydCB7c29ja2V0LCBjcnVkfSBmcm9tICdAY29jcmVhdGUvY29jcmVhdGVqcyc7XG5pbXBvcnQgY3JkdCBmcm9tICdAY29jcmVhdGUvY3JkdCdcbmltcG9ydCBpbnB1dCBmcm9tICdAY29jcmVhdGUvaW5wdXQnXG5cblxuLyoqVXNvIGVzdGEgdmFyaWFibGUgcGFyYSBtb3N0cmFyIGVycm9yZXMgZW4gY2FzbyBxdWUgbm8gZXN0ZSBlbiBwcm9kKi9cblxudmFyIGVsZW1lbnRfbXVsdGljdXJzb3JzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQsdGV4dGFyZWEsW2NvbnRlbnRlZGl0YWJsZV0nKVxuXG4vL2NvbnNvbGUubG9nKGVsZW1lbnRfbXVsdGljdXJzb3JzKVxudmFyIGRlYnVnID0gZmFsc2VcbnZhciBlbnZpcm9tZW50X3Byb2QgPSB0cnVlXG52YXIgcHJvcGVydGllcyA9IFsnYm94U2l6aW5nJywnYm9yZGVyVG9wV2lkdGgnLCdib3JkZXJSaWdodFdpZHRoJywnYm9yZGVyQm90dG9tV2lkdGgnLCdib3JkZXJMZWZ0V2lkdGgnLCdwYWRkaW5nVG9wJywncGFkZGluZ1JpZ2h0JywncGFkZGluZ0JvdHRvbScsJ3BhZGRpbmdMZWZ0JywnbWFyZ2luVG9wJywnbWFyZ2luUmlnaHQnLCdtYXJnaW5Cb3R0b20nLCdtYXJnaW5MZWZ0JywnZm9udFN0eWxlJywnZm9udFZhcmlhbnQnLCdmb250V2VpZ2h0JywnZm9udFN0cmV0Y2gnLCdmb250U2l6ZScsJ2xpbmVIZWlnaHQnLCdmb250RmFtaWx5JywndGV4dEFsaWduJywndGV4dFRyYW5zZm9ybScsJ3RleHRJbmRlbnQnLCd0ZXh0RGVjb3JhdGlvbicsJ2xldHRlclNwYWNpbmcnLCd3b3JkU3BhY2luZycsJ3RleHRSZW5kZXJpbmcnLCd3ZWJraXRXcml0aW5nTW9kZScsJ3RleHRUcmFuc2Zvcm0nLCd0ZXh0SW5kZW50Jywnb3ZlcmZsb3dXcmFwJ107XG52YXIgbGVuZ3RoX3V1aWQgPSAzMDtcblxuXG5jbGFzcyBDb2NyZWF0ZVV0aWxzQ3Vyc29ye1xuICBcbiAgc3RhdGljIHByaW50KG1lc3NhZ2UsZGVidWcpIHtcbiAgICBkZWJ1ZyA9IGRlYnVnIHx8IGZhbHNlO1xuICAgIGlmKGRlYnVnKVxuICAgICAgY29uc29sZS5sb2cobWVzc2FnZSlcbiAgfVxuICBcbiAgc3RhdGljIGdlbmVyYXRlVVVJRChsZW5ndGg9bnVsbCkge1xuICAgIHZhciBkID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgdmFyIGQyID0gKHBlcmZvcm1hbmNlICYmIHBlcmZvcm1hbmNlLm5vdyAmJiAocGVyZm9ybWFuY2Uubm93KCkqMTAwMCkpIHx8IDA7Ly9UaW1lIGluIG1pY3Jvc2Vjb25kcyBzaW5jZSBwYWdlLWxvYWQgb3IgMCBpZiB1bnN1cHBvcnRlZFxuICAgIHZhciB1dWlkID0gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbihjKSB7XG4gICAgICAgIHZhciByID0gTWF0aC5yYW5kb20oKSAqIDE2O1xuICAgICAgICBpZihkID4gMCl7XG4gICAgICAgICAgICB2YXIgciA9IChkICsgciklMTYgfCAwO1xuICAgICAgICAgICAgZCA9IE1hdGguZmxvb3IoZC8xNik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgciA9IChkMiArIHIpJTE2IHwgMDtcbiAgICAgICAgICAgIGQyID0gTWF0aC5mbG9vcihkMi8xNik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChjPT0neCcgPyByIDogKHImMHg3fDB4OCkpLnRvU3RyaW5nKDE2KTtcbiAgICB9KTtcbiAgICBpZihsZW5ndGghPW51bGwpe1xuICAgICAgdXVpZCA9IHV1aWQuc3Vic3RyKDAsbGVuZ3RoKVxuICAgIH1cbiAgICByZXR1cm4gdXVpZDtcbiAgfVxuICBcbn1cblxudmFyIGdldFBhcmVudHMgPSBmdW5jdGlvbiAoZWxlbSwgc2VsZWN0b3IpIHtcblxuLy8gXHRpZiAoIUVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMpIHtcbi8vIFx0XHRFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzID1cbi8vIFx0XHRcdEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXNTZWxlY3RvciB8fFxuLy8gXHRcdFx0RWxlbWVudC5wcm90b3R5cGUubW96TWF0Y2hlc1NlbGVjdG9yIHx8XG4vLyBcdFx0XHRFbGVtZW50LnByb3RvdHlwZS5tc01hdGNoZXNTZWxlY3RvciB8fFxuLy8gXHRcdFx0RWxlbWVudC5wcm90b3R5cGUub01hdGNoZXNTZWxlY3RvciB8fFxuLy8gXHRcdFx0RWxlbWVudC5wcm90b3R5cGUud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8XG4vLyBcdFx0XHRmdW5jdGlvbihzKSB7XG4vLyBcdFx0XHRcdHZhciBtYXRjaGVzID0gKHRoaXMuZG9jdW1lbnQgfHwgdGhpcy5vd25lckRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKHMpLFxuLy8gXHRcdFx0XHRcdGkgPSBtYXRjaGVzLmxlbmd0aDtcbi8vIFx0XHRcdFx0d2hpbGUgKC0taSA+PSAwICYmIG1hdGNoZXMuaXRlbShpKSAhPT0gdGhpcykge31cbi8vIFx0XHRcdFx0cmV0dXJuIGkgPiAtMTtcbi8vIFx0XHRcdH07XG4vLyBcdH1cbn1cblxudmFyIG1pcnJvckRpdiwgY29tcHV0ZWQsIHN0eWxlLCBjb21wdXRlZFBhcmVudEVsZW1lbnQ7XG5cbnZhciBnZXRDYXJldENvb3JkaW5hdGVzID0gZnVuY3Rpb24gKGVsZW1lbnQsIHBvc2l0aW9uX3N0YXJ0LCBwb3NpdGlvbl9lbmQpIHtcbiAgLy8gbWlycm9yZWQgZGl2XG4gIGxldCBuYW1lID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ25hbWUnKVxuICBsZXQgZG9jdW1lbnRfaWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcpIHx8ICcnO1xuICBpZihkb2N1bWVudF9pZCA9PSAnJyl7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBJRF9NSVJST1IgPSBlbGVtZW50LmRhdGFzZXRbJ21pcnJvcl9pZCddOyAvL2RvY3VtZW50X2lkICsgbmFtZSArICAnLS1taXJyb3ItZGl2JztcbiAgbWlycm9yRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoSURfTUlSUk9SKTtcbiAgdmFyIGFkZF9jbGFzc19zY3JvbGwgPSAoZWxlbWVudC5jbGFzc05hbWUuaW5kZXhPZignZmxvYXRpbmctbGFiZWwnKSA9PSAtMSkgPyBmYWxzZSA6IHRydWU7XG5cbiAgaWYgKCFtaXJyb3JEaXYpIHtcbiAgICBtaXJyb3JEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBtaXJyb3JEaXYuaWQgPSBJRF9NSVJST1I7Ly9kb2N1bWVudF9pZCArbmFtZSsgJy0tbWlycm9yLWRpdic7XG4gICAgICBtaXJyb3JEaXYuY2xhc3NOYW1lID0gKGVudmlyb21lbnRfcHJvZCkgPyAnbWlycm9yX2NvbG9yIG1pcnJvcl9zY3JvbGwgbWlycm9yLXdpZHRoLXNjcm9sbCcgOiAnbWlycm9yLXdpZHRoLXNjcm9sbCc7XG4gICAgLy9kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1pcnJvckRpdik7XG4gICAgZWxlbWVudC5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyZW5kJyxtaXJyb3JEaXYpO1xuICB9XG5cbiAgdmFyIHNjcm9sbHdpZHRoID0gZWxlbWVudC5vZmZzZXRXaWR0aCAtIGVsZW1lbnQuc2Nyb2xsV2lkdGg7XG5cbiAgc3R5bGUgPSBtaXJyb3JEaXYuc3R5bGU7XG4gIGNvbXB1dGVkID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgY29tcHV0ZWRQYXJlbnRFbGVtZW50ID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LnBhcmVudEVsZW1lbnQpO1xuICBsZXQgbWFyZ2luX3RvcCA9IHBhcnNlSW50KGNvbXB1dGVkWydtYXJnaW5Ub3AnXSlcbiAgbGV0IG1hcmdpbl9sZWZ0ID0gcGFyc2VJbnQoY29tcHV0ZWRbJ21hcmdpbkxlZnQnXSlcblxuICBpZiAoZWxlbWVudC5ub2RlTmFtZSAhPT0gJ0lOUFVUJyl7XG4gICAgc3R5bGUud29yZFdyYXAgPSAnYnJlYWstd29yZCc7ICAvLyBvbmx5IGZvciB0ZXh0YXJlYS1zXG4gICAgc3R5bGUud2hpdGVTcGFjZSA9ICdwcmUtd3JhcCc7XG4gIH1lbHNle1xuICAgIHN0eWxlLndoaXRlU3BhY2UgPSAncHJlJztcbiAgfVxuICAvLyBwb3NpdGlvbiBvZmYtc2NyZWVuXG4gIHN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJzsgIC8vIHJlcXVpcmVkIHRvIHJldHVybiBjb29yZGluYXRlcyBwcm9wZXJseVxuICBcbiAgdmFyIHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOyAvLyBnZXQgUG9zaXRpb24gZnJvbSBlbGVtZW50XG4gIFxuICBcbiAgbGV0IHNjcnJvbGxUb3BfYnJvd3NlciA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3BcbiAgXG4gIC8vc3R5bGUudG9wID0gKChyZWN0LnRvcCtzY3Jyb2xsVG9wX2Jyb3dzZXIpLTEpIC0gKHBhcnNlSW50KGNvbXB1dGVkWydtYXJnaW5Ub3AnXSkgLSBwYXJzZUludChjb21wdXRlZFsnYm9yZGVyVG9wV2lkdGgnXSkgKSArICdweCcvL3BhcnNlSW50KGNvbXB1dGVkLmJvcmRlclRvcFdpZHRoKSArICdweCc7IC8vICBlbGVtZW50Lm9mZnNldFRvcCArIHBhcnNlSW50KGNvbXB1dGVkLmJvcmRlclRvcFdpZHRoKSArICdweCc7XG4gIC8vc3R5bGUudG9wID0gY29tcHV0ZWRQYXJlbnRFbGVtZW50Wyd0b3AnXTtcbiAgc3R5bGUudG9wID0gZWxlbWVudC5vZmZzZXRUb3ArJ3B4JztcbiAgLy9zdHlsZS5sZWZ0ID0gcmVjdC5sZWZ0IC0gKHBhcnNlSW50KGNvbXB1dGVkWydtYXJnaW5MZWZ0J10pIC0gIHBhcnNlSW50KGNvbXB1dGVkWydib3JkZXJMZWZ0V2lkdGgnXSkgKSArICdweCcvL3BhcnNlSW50KGNvbXB1dGVkLmJvcmRlckxlZnRXaWR0aCkgKyAncHgnICAgLy8gbWFyZ2luX2xlZnQrXCJweFwiOy8vXCI0MDBweFwiO1xuICAvL3N0eWxlLmxlZnQgPSAgY29tcHV0ZWRQYXJlbnRFbGVtZW50WydsZWZ0J107XG4gIHN0eWxlLmxlZnQgPSBlbGVtZW50Lm9mZnNldExlZnQrJ3B4JztcbiAgc3R5bGUud2lkdGggPSByZWN0LndpZHRoKydweCc7Ly8gLSAocGFyc2VJbnQoY29tcHV0ZWQuYm9yZGVyTGVmdFdpZHRoKSArIHBhcnNlSW50KGNvbXB1dGVkLmJvcmRlclJpZ2h0V2lkdGgpKSArICdweCcgICAvLyBtYXJnaW5fbGVmdCtcInB4XCI7Ly9cIjQwMHB4XCI7XG4gIHN0eWxlLmhlaWdodCA9IHJlY3QuaGVpZ2h0KydweCc7Ly8gLSAocGFyc2VJbnQoY29tcHV0ZWQuYm9yZGVyVG9wV2lkdGgpICsgcGFyc2VJbnQoY29tcHV0ZWQuYm9yZGVyQm90dG9tV2lkdGgpKSArICdweCcgICAvLyBtYXJnaW5fbGVmdCtcInB4XCI7Ly9cIjQwMHB4XCI7XG4gIHN0eWxlLnZpc2liaWxpdHkgPSd2aXNpYmxlJ1xuICBwcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICBpZihbJ2xlZnQnLCd0b3AnXS5pbmRleE9mKHByb3AudG9Mb3dlckNhc2UoKSkgPT09IC0xKVxuICAgIHN0eWxlW3Byb3BdID0gY29tcHV0ZWRbcHJvcF07XG4gIH0pO1xuICBcbiAgc3R5bGUub3ZlcmZsb3dYID0nYXV0byc7XG4gIHN0eWxlLm92ZXJmbG93WSA9J2hpZGRlbic7XG4gIHN0eWxlLm1hcmdpbiA9ICcwcHgnXG4gIC8vc3R5bGUucGFkZGluZyA9ICcwcHgnXG4gIHN0eWxlLmJvcmRlciA9IGNvbXB1dGVkWydib3JkZXInXTtcbiAgc3R5bGUuYm9yZGVyQ29sb3IgPSAndHJhbnNwYXJlbnQnO1xuICAvKiBcbiAgaWYoZWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT0naW5wdXQnKXtcbiAgICBzdHlsZS5vdmVyZmxvd1ggPSdhdXRvJztcbiAgICBzdHlsZS5vdmVyZmxvd1kgPSdoaWRkZW4nO1xuICB9ZWxzZXtcbiAgICBzdHlsZS5vdmVyZmxvdz1cInZpc2libGVcIlxuICB9Ki9cbiAgXG4gIC8vIHN0eWxlLnBhZGRpbmdSaWdodCA9IChwYXJzZUludChzdHlsZS5wYWRkaW5nUmlnaHQpICsgc2Nyb2xsd2lkdGggLSBwYXJzZUludChjb21wdXRlZC5ib3JkZXJSaWdodFdpZHRoKSkgKydweCc7XG4gIGxldCBjdXJzb3JfY29udGFpbmVyID0gbWlycm9yRGl2LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jdXJzb3ItY29udGFpbmVyJyk7XG4gIGxldCBzZWxlY3RvcnNfYnlfdXNlcnMgPSBtaXJyb3JEaXYucXVlcnlTZWxlY3RvckFsbCgnLnNlbGVjdG9yc19ieV91c2VycycpO1xuICBsZXQgdmFsdWVfZWxlbWVudCA9IChbJ1RFWFRBUkVBJywnSU5QVVQnXS5pbmRleE9mKGVsZW1lbnQubm9kZU5hbWUpPT0tMSkgP2VsZW1lbnQuaW5uZXJIVE1MIDplbGVtZW50LnZhbHVlO1xuXG4gIG1pcnJvckRpdi50ZXh0Q29udGVudCA9IHZhbHVlX2VsZW1lbnQuc3Vic3RyaW5nKDAsIHBvc2l0aW9uX3N0YXJ0KTtcbiAgaWYgKGVsZW1lbnQubm9kZU5hbWUgPT09ICdJTlBVVCcpXG4gICAgbWlycm9yRGl2LnRleHRDb250ZW50ID0gbWlycm9yRGl2LnRleHRDb250ZW50LnJlcGxhY2UoL1xccy9nLCBcIlxcdTAwYTBcIik7XG4gIHZhciBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICBzcGFuLmlkID0gZWxlbWVudC5ub2RlTmFtZSArICdzcGFuX3NlbGVjdGlvbnMnO1xuICBsZXQgdmFsdWVfc3BhbiA9IHZhbHVlX2VsZW1lbnQuc3Vic3RyaW5nKHBvc2l0aW9uX3N0YXJ0LHBvc2l0aW9uX2VuZCkgfHwgJydcbiAgc3Bhbi50ZXh0Q29udGVudCA9IHZhbHVlX3NwYW47ICAvLyB8fCBiZWNhdXNlIGEgY29tcGxldGVseSBlbXB0eSBmYXV4IHNwYW4gZG9lc24ndCByZW5kZXIgYXQgYWxsXG4gIC8vc3Bhbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImxpZ2h0Z3JleVwiO1xuICBtaXJyb3JEaXYuYXBwZW5kQ2hpbGQoc3Bhbik7XG4gIFxuICBpZihjdXJzb3JfY29udGFpbmVyKXtcbiAgICAgIGN1cnNvcl9jb250YWluZXIuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGRfY3Vyc29yLCBpbmRleCwgYXJyYXkpIHtcbiAgICAgICAgbWlycm9yRGl2LmFwcGVuZENoaWxkKGNoaWxkX2N1cnNvcik7XG4gICAgfSlcbiAgfVxuICBcbiAgaWYoc2VsZWN0b3JzX2J5X3VzZXJzKXtcbiAgICBzZWxlY3RvcnNfYnlfdXNlcnMuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGRfc2VsZWN0aW9uLCBpbmRleCwgYXJyYXkpIHtcbiAgICAgICAgbWlycm9yRGl2LmFwcGVuZENoaWxkKGNoaWxkX3NlbGVjdGlvbik7XG4gICAgfSlcbiAgfVxuICBcbiAgbGV0IHZhbHVlX2VuZCA9IHZhbHVlX2VsZW1lbnQuc3Vic3RyaW5nKHBvc2l0aW9uX2VuZCkgIHx8ICcnO1xuICB2YXIgc3Bhbl9lbmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gIG1pcnJvckRpdi5hcHBlbmRDaGlsZChzcGFuX2VuZCk7XG4gIHNwYW5fZW5kLnRleHRDb250ZW50ID0gdmFsdWVfZW5kO1xuICB2YXIgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7IC8vIGdldCBQb3NpdGlvbiBmcm9tIGVsZW1lbnRcbiAgdmFyIGNvb3JkaW5hdGVzID0ge1xuICAgIHN0YXJ0IDoge1xuICAgICAgICB0b3A6IHNwYW4ub2Zmc2V0VG9wLFxuICAgICAgICBsZWZ0OiAgc3Bhbi5vZmZzZXRMZWZ0XG4gICAgfSxcbiAgICBlbmQgOiB7XG4gICAgICAgIHRvcDogc3Bhbl9lbmQub2Zmc2V0VG9wLCAvLysgcGFyc2VJbnQoY29tcHV0ZWRbJ2JvcmRlclRvcFdpZHRoJ10pLFxuICAgICAgICBsZWZ0OiAgc3Bhbl9lbmQub2Zmc2V0TGVmdCAvLyArIHBhcnNlSW50KGNvbXB1dGVkWydib3JkZXJMZWZ0V2lkdGgnXSlcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGNvb3JkaW5hdGVzO1xufVxuXG5mdW5jdGlvbiBnZXRTdHlsZShlbCxzdHlsZVByb3ApXG57XG4gICAgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKVxuICAgICAgICB2YXIgeSA9IGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZWwsbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShzdHlsZVByb3ApO1xuICAgIHJldHVybiB5O1xufVxuXG5cbmZ1bmN0aW9uIGdldERvY3VtZW50KGNvbGxlY3Rpb24sbW9kdWxlX2lkKXtcbiAgY3J1ZC5yZWFkRG9jdW1lbnQoe1xuICAgICdjb2xsZWN0aW9uJzogY29sbGVjdGlvbixcbiAgICAnZG9jdW1lbnRfaWQnOiBtb2R1bGVfaWRcbiAgfSlcbn1cblxuc29ja2V0Lmxpc3RlbigncmVhZERvY3VtZW50JywgZnVuY3Rpb24oZGF0YSkge1xuICAgIGxldCBjdXJzb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY3Vyc29yLWZsYWdbZGF0YS1kb2N1bWVudF9pZD1cIicrZGF0YVsnZG9jdW1lbnRfaWQnXSsnXCJdJylcbiAgICBpZiAoY3Vyc29yKVxuICAgICAgY3Vyc29yLmlubmVySFRNTCA9IGRhdGEucmVzdWx0W2N1cnNvci5nZXRBdHRyaWJ1dGUoJ25hbWUnKV1cbn0pXG5cblxuZnVuY3Rpb24gZHJhd19jdXJzb3IoanNvbil7XG4gICAgICAgIENvY3JlYXRlVXRpbHNDdXJzb3IucHJpbnQoW1wiZHJhdyBDdXJzb3IgXCIsanNvbl0sZGVidWcpXG4gICAgICAgIGxldCBlbGVtZW50ID0ganNvblsnZWxlbWVudCddO1xuICAgICAgICBsZXQgYWN0aXZhdGVfY3Vyc29yID0gKGVsZW1lbnQuZGF0YXNldFsnY3Vyc29ycyddKT9lbGVtZW50LmRhdGFzZXRbJ21pcnJvcl9pZCddOnRydWU7XG4gICAgICAgIGlmKGFjdGl2YXRlX2N1cnNvcil7XG4gICAgICAgICAgbGV0IHN0YXJ0ID0ganNvblsnc3RhcnRQb3NpdGlvbiddXG4gICAgICAgICAgbGV0IGVuZCA9IGpzb25bJ2VuZFBvc2l0b24nXVxuICAgICAgICAgIGxldCBzb2NrZXRfaWQgPSBqc29uWydjbGllbnRJZCddXG4gICAgICAgICAgbGV0IGRvY3VtZW50X2lkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKSB8fCAnJztcbiAgICAgICAgICBpZihkb2N1bWVudF9pZCE9Jycpe1xuICAgICAgICAgICAgQ29jcmVhdGVVdGlsc0N1cnNvci5wcmludChcImFjdGlvbiBkb2N1bWVudF9pZCBcIiArIGRvY3VtZW50X2lkLGRlYnVnKVxuICAgICAgICAgICAgaWYoIHR5cGVvZiBlbGVtZW50LmRhdGFzZXRbJ21pcnJvcl9pZCddID09ICd1bmRlZmluZWQnIHx8IGVsZW1lbnQuZGF0YXNldFsnbWlycm9yX2lkJ10gPT0gJycpXG4gICAgICAgICAgICAgICAgZWxlbWVudC5kYXRhc2V0WydtaXJyb3JfaWQnXSA9IENvY3JlYXRlVXRpbHNDdXJzb3IuZ2VuZXJhdGVVVUlEKGxlbmd0aF91dWlkKVxuICAgICAgICAgICAgbGV0IGNvb3JkaW5hdGVzID0gZ2V0Q2FyZXRDb29yZGluYXRlcyhlbGVtZW50LHN0YXJ0LGVuZCk7XG4gICAgICAgICAgICBpZighY29vcmRpbmF0ZXMpXG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGxldCBuYW1lID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ25hbWUnKVxuICAgICAgICAgICAgbGV0IGlkX21pcnJvciA9IGVsZW1lbnQuZGF0YXNldFsnbWlycm9yX2lkJ107IC8vZG9jdW1lbnRfaWQrbmFtZSsnLS1taXJyb3ItZGl2J1xuICAgICAgICAgICAgbGV0IG1pX21pcnJvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkX21pcnJvcilcbiAgICAgICAgICAgIGxldCBjdXJzb3IgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBzZWxlY3Rpb25fdXNlciA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IGlkZW50aWZ5ID0gJ18nK2lkX21pcnJvcjtcbiAgICAgICAgICAgIGxldCB1c2VyID0gKHR5cGVvZihqc29uKSAhPSAndW5kZWZpbmVkJyAmJiBqc29uLmhhc093blByb3BlcnR5KCd1c2VyJykpID8ganNvbi51c2VyIDogZmFsc2VcbiAgICAgICAgICAgIGxldCB1c2VyX2lkID0gKHR5cGVvZihqc29uKSAhPSAndW5kZWZpbmVkJyAmJiBqc29uLmhhc093blByb3BlcnR5KCd1c2VyX2lkJykgKSA/ICB1c2VyLnVzZXJfaWQgOiBmYWxzZVxuICAgICAgICAgICAgaWYgKHNvY2tldF9pZCl7XG4gICAgICAgICAgICAgICAvL2lmKGRhdGEgJiYgZGF0YS5oYXNPd25Qcm9wZXJ0eSgnaWRfbWlycm9yJykpe1xuICAgICAgICAgICAgICAgICB2YXIgY3Vyc29yZXNfb3RoZXJfZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjc29ja2V0Xycrc29ja2V0X2lkK2lkZW50aWZ5KVxuICAgICAgICAgICAgICAgICBjdXJzb3Jlc19vdGhlcl9lbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGNoaWxkX2N1cnNvciwgaW5kZXgsIGFycmF5KXtcbiAgICAgICAgICAgICAgICAgICBpZihjaGlsZF9jdXJzb3IucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2lkJykgIT0gaWRfbWlycm9yKXtcbiAgICAgICAgICAgICAgICAgICAgIENvY3JlYXRlVXRpbHNDdXJzb3IucHJpbnQoXCJyZW1vdmUgb2xkIGN1cnNvciBvdGhlcnMgZWxlbWVudHNcIixkZWJ1ZylcbiAgICAgICAgICAgICAgICAgICAgICBjaGlsZF9jdXJzb3IucmVtb3ZlKClcbiAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAvL31cbiAgICAgICAgICAgICAgICAgY3Vyc29yID0gbWlfbWlycm9yLnF1ZXJ5U2VsZWN0b3IoJy5jdXJzb3ItY29udGFpbmVyI3NvY2tldF8nK3NvY2tldF9pZCtpZGVudGlmeSk7XG4gICAgICAgICAgICAgICAgIGlmKCFjdXJzb3IgICYmIGpzb24uaGFzT3duUHJvcGVydHkoJ3VzZXInKSl7XG4gICAgICAgICAgICAgICAgICAgIGlmKHVzZXIpe1xuICAgICAgICAgICAgICAgICAgICAgIENvY3JlYXRlVXRpbHNDdXJzb3IucHJpbnQoXCJDcmVhdGUgQ3Vyc29yXCIsZGVidWcpXG4gICAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnNvcl90ZW1wbGF0ZSA9ICc8ZGl2IHN0eWxlPVwiY29sb3I6Ymx1ZTtcIiBjbGFzcz1cImN1cnNvci1jb250YWluZXJcIiBcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD1cInNvY2tldF8nK3NvY2tldF9pZCtpZGVudGlmeSsnXCIgXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjxkaXYgY2xhc3M9XCJjdXJzb3JcIiBcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6Jyt1c2VyLmNvbG9yKydcIj48L2Rpdj5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3Vyc29yLWZsYWdcIiBkYXRhLWNvbGxlY3Rpb249XCJ1c2Vyc1wiIFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCIgXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS11c2VyX25hbWU9XCInK3VzZXIubmFtZSsnXCIgXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS11c2VyX2NvbG9yPVwiJyt1c2VyLmNvbG9yKydcIiBcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXNvY2tldF9pZD1cIicrc29ja2V0X2lkKydcIiBcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWlkX21pcnJvcj1cIicraWRfbWlycm9yKydcIiBcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWRvY3VtZW50X2lkPVwiJyt1c2VyX2lkKydcIiBcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6Jyt1c2VyLmNvbG9yKydcIiBcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGFnPicrdXNlci5uYW1lKyc8L2Rpdj48L2Rpdj4nO1xuICAgICAgICAgICAgICAgICAgICAgIG1pX21pcnJvci5pbm5lckhUTUwgPSBjdXJzb3JfdGVtcGxhdGUgKyBtaV9taXJyb3IuaW5uZXJIVE1MO1xuICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmKHVzZXJfaWQpe1xuICAgICAgICAgICAgICAgICAgICAgLy8gc2kgdGllbmUgdXNlcl9pZCBhY3R1YWxpemEgZWwgbm9tYnJlIGRlbCBjdXJzb3IgdXNhbmRvIGNydWRcbiAgICAgICAgICAgICAgICAgICAgICBjcnVkLnJlYWREb2N1bWVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAnY29sbGVjdGlvbicgOiAndXNlcnMnLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICdkb2N1bWVudF9pZCc6IHVzZXJfaWRcbiAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjdXJzb3IgPSBtaV9taXJyb3IucXVlcnlTZWxlY3RvcignLmN1cnNvci1jb250YWluZXIjc29ja2V0Xycrc29ja2V0X2lkK2lkZW50aWZ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGN1cnNvcil7XG4gICAgICAgICAgICAgIENvY3JlYXRlVXRpbHNDdXJzb3IucHJpbnQoW1wiVXBkYXRlIEN1cnNvclwiLGN1cnNvcixjb29yZGluYXRlc10sZGVidWcpXG4gICAgICAgICAgICAgIGxldCBmb250X3NpemUgPSBnZXRTdHlsZShlbGVtZW50LCdmb250LXNpemUnKVxuICAgICAgICAgICAgICBmb250X3NpemUgPSBwYXJzZUZsb2F0KGZvbnRfc2l6ZS5zdWJzdHJpbmcoMCxmb250X3NpemUubGVuZ3RoLTIpKTtcbiAgICAgICAgICAgICAgbGV0IGN1cnNvcl9oZWlnaHQgPSAoIChmb250X3NpemUgKiAxMTIuNSkgLyAxMDApXG4gICAgICAgICAgICAgIGxldCBteV9jdXJzb3IgPSBjdXJzb3IucXVlcnlTZWxlY3RvcignLmN1cnNvcicpXG4gICAgICAgICAgICAgIGN1cnNvci5kYXRhc2V0LnN0YXJ0ID0gc3RhcnRcbiAgICAgICAgICAgICAgY3Vyc29yLmRhdGFzZXQuZW5kID0gZW5kXG4gICAgICAgICAgICAgIGN1cnNvci5kYXRhc2V0LnNvY2tldF9pZCA9IHNvY2tldF9pZFxuICAgICAgICAgICAgICAvKmN1cnNvci5kYXRhc2V0LnVzZXJfbmFtZSA9IHVzZXIubmFtZVxuICAgICAgICAgICAgICBjdXJzb3IuZGF0YXNldC51c2VyX2NvbG9yID0gdXNlci5jb2xvciovXG4gIFxuICAgICAgICAgICAgICBjdXJzb3Iuc3R5bGVbXCJ0b3BcIl0gPSBjb29yZGluYXRlcy5lbmQudG9wK1wicHhcIjsgXG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBjdXJzb3Iuc3R5bGVbXCJ3aWR0aFwiXSA9IFwiMnB4XCI7ICAvLzJweFxuICAgICAgICAgICAgICBteV9jdXJzb3Iuc3R5bGVbXCJoZWlnaHRcIl0gPSBjdXJzb3JfaGVpZ2h0K1wicHhcIjsgXG4gICAgICAgICAgICAgIGN1cnNvci5zdHlsZVtcImxlZnRcIl0gPSBjb29yZGluYXRlcy5lbmQubGVmdCtcInB4XCI7IFxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy9hZGQgc2VsZWN0aW9uc1xuICAgICAgICAgICAgICAgIHNlbGVjdGlvbl91c2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbC0nK3NvY2tldF9pZCtpZGVudGlmeSk7XG4gICAgICAgICAgICAgICAgaWYoKHN0YXJ0ICE9IGVuZCkgJiYgdXNlciApe1xuICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbl91c2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbC0nK3NvY2tldF9pZCtpZGVudGlmeSlcbiAgICAgICAgICAgICAgICAgICAgICBpZihzZWxlY3Rpb25fdXNlcil7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25fdXNlci5yZW1vdmUoKVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzY3JvbGx3aWR0aCA9IGVsZW1lbnQub2Zmc2V0V2lkdGggLSBlbGVtZW50LnNjcm9sbFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhZGRpbmdfcmlnaHQgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpW1wicGFkZGluZ1JpZ2h0XCJdKVxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uX3VzZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25fdXNlci5pZCA9ICdzZWwtJytzb2NrZXRfaWQraWRlbnRpZnk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25fdXNlci5jbGFzc05hbWU9J3NlbGVjdG9yc19ieV91c2VycydcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdHlsZV9taXJyb3IgPSBnZXRDb21wdXRlZFN0eWxlKG1pX21pcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbl91c2VyLnN0eWxlW1wicG9zaXRpb25cIl0gPSBcImFic29sdXRlXCI7IFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uX3VzZXIuc3R5bGVbXCJ0b3BcIl0gPSBzdHlsZV9taXJyb3IucGFkZGluZ1RvcDsgXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25fdXNlci5zdHlsZVtcImxlZnRcIl0gPSBzdHlsZV9taXJyb3IucGFkZGluZ0xlZnQ7IFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uX3VzZXIuc3R5bGVbXCJwYWRkaW5nLXJpZ2h0XCJdID0gc2Nyb2xsd2lkdGgrcGFkZGluZ19yaWdodCtcInB4XCI7IFxuICAgICAgICAgICAgICAgICAgICAgICAgbWlfbWlycm9yLmluc2VydEJlZm9yZShzZWxlY3Rpb25fdXNlciwgbWlfbWlycm9yLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgIGxldCBzZWxlY3Rpb25fc3Bhbl9ieV91c2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbl9zcGFuX2J5X3VzZXIuaWQgPSAnc2VsZWN0aW9uLScrc29ja2V0X2lkK2lkZW50aWZ5O1xuICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbl9zcGFuX2J5X3VzZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdXNlci5jb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgICBsZXQgdmFsdWVfZWxlbWVudCA9IChbJ1RFWFRBUkVBJywnSU5QVVQnXS5pbmRleE9mKGVsZW1lbnQubm9kZU5hbWUpPT0tMSkgP2VsZW1lbnQuaW5uZXJIVE1MIDplbGVtZW50LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbl91c2VyLnRleHRDb250ZW50ID0gdmFsdWVfZWxlbWVudC5zdWJzdHJpbmcoMCwgc3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZV9zcGFuX3NlbGVjdGlvbiA9IHZhbHVlX2VsZW1lbnQuc3Vic3RyaW5nKHN0YXJ0LGVuZCkgfHwgJydcbiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlNlbGVjdGlvbiBcIix2YWx1ZV9zcGFuX3NlbGVjdGlvbixzdGFydCxlbmQpXG4gICAgICAgICAgICAgICAgICAgICAgLy9zZWxlY3Rpb25fc3Bhbl9ieV91c2VyLnN0eWxlLm9wYWNpdHkgPSAwLjU7XG4gICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uX3NwYW5fYnlfdXNlci50ZXh0Q29udGVudCA9IHZhbHVlX3NwYW5fc2VsZWN0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbl91c2VyLmFwcGVuZENoaWxkKHNlbGVjdGlvbl9zcGFuX2J5X3VzZXIpXG4gICAgICAgICAgICAgICAgfS8vZW5kIFNlbGVjdGlvbnNcbiAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgaWYoc2VsZWN0aW9uX3VzZXIpe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25fdXNlci5yZW1vdmUoKVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9Ly9lbmQgaWYgZG9jdW1lbnRfaWRcbiAgICAgICAgfS8vZW5kIGFjdGl2YXRlX2N1cnNvcnNcbn0vL2RyYXdfY3Vyc29yXG5cbmZ1bmN0aW9uIHJlZnJlc2hfbWlycm9yKGVsZW1lbnQpe1xuICB2YXIgaWRfbWlycm9yID0gJydcbiAgbGV0IGRvY3VtZW50X2lkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKSB8fCAnJztcbiAgaWYoZG9jdW1lbnRfaWQhPScnKXtcbiAgICBuYW1lID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ25hbWUnKVxuICAgIGlmKGVsZW1lbnQuZGF0YXNldFsnbWlycm9yX2lkJ10pXG4gICAgICBpZF9taXJyb3IgPSBlbGVtZW50LmRhdGFzZXRbJ21pcnJvcl9pZCddXG4gICAgICBlbHNlIFxuICAgICAgcmV0dXJuO1xuICAgIC8vY29uc29sZS5sb2coXCJSZWZyZXNoIFwiLGlkX21pcnJvcilcbiAgICB2YXIgbWlfbWlycm9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWRfbWlycm9yKVxuICAgIENvY3JlYXRlVXRpbHNDdXJzb3IucHJpbnQoW1wicmVmcmVzaF9taXJyb3IgXCIsbWlfbWlycm9yXSxkZWJ1ZylcbiAgICB2YXIgc2VsZWN0b3JfZWxlbWVudCA9IGVsZW1lbnQubm9kZU5hbWUrXCJbbmFtZT0nXCIrbmFtZStcIiddW2RhdGEtZG9jdW1lbnRfaWQ9J1wiK2RvY3VtZW50X2lkK1wiJ11cIlxuICAgIENvY3JlYXRlVXRpbHNDdXJzb3IucHJpbnQoW1wic2VsZWN0b3IgLT4gXCIrc2VsZWN0b3JfZWxlbWVudF0sZGVidWcpXG4gICAgXG4gICAgICBpZihtaV9taXJyb3Ipe1xuICAgICAgICBjb21wdXRlZCA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gICAgICAgIHN0eWxlID0gbWlfbWlycm9yLnN0eWxlXG4gICAgICAgIHN0eWxlLndpZHRoID0gZWxlbWVudC5vZmZzZXRXaWR0aCAtIChwYXJzZUludChjb21wdXRlZC5ib3JkZXJMZWZ0V2lkdGgpICsgcGFyc2VJbnQoY29tcHV0ZWQuYm9yZGVyUmlnaHRXaWR0aCkpICsgJ3B4J1xuICAgICAgICBzdHlsZS5oZWlnaHQgPSBlbGVtZW50Lm9mZnNldEhlaWdodCAtIChwYXJzZUludChjb21wdXRlZC5ib3JkZXJUb3BXaWR0aCkgKyBwYXJzZUludChjb21wdXRlZC5ib3JkZXJCb3R0b21XaWR0aCkpICsgJ3B4J1xuICAgICAgICB2YXIgY3Vyc29yX2NvbnRhaW5lciA9IG1pX21pcnJvci5xdWVyeVNlbGVjdG9yQWxsKCcuY3Vyc29yLWNvbnRhaW5lcicpO1xuICAgICAgICBjdXJzb3JfY29udGFpbmVyLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkX2N1cnNvciwgaW5kZXgsIGFycmF5KSB7XG4gICAgICAgICAgLy9jb25zb2xlLmxvZyhcIlJFZHJhdyBjdXJzb3JcIilcbiAgICAgICAgbGV0IGNoaWxkID0gY2hpbGRfY3Vyc29yLnF1ZXJ5U2VsZWN0b3IoJy5jdXJzb3ItZmxhZycpO1xuICAgICAgICBsZXQgZGF0YXNldF9jaGlsZCA9IGNoaWxkLmRhdGFzZXQ7XG4gICAgICAgIGxldCBkYXRhc2V0ID0gY2hpbGRfY3Vyc29yLmRhdGFzZXQ7XG4gICAgICAgICAgZHJhd19jdXJzb3Ioe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6ZWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydFBvc2l0aW9uOmRhdGFzZXQuc3RhcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kUG9zaXRvbjpkYXRhc2V0LmVuZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRJZCA6IGRhdGFzZXQuc29ja2V0X2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI6e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY29sb3InOmRhdGFzZXRfY2hpbGQudXNlcl9jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ25hbWUnOmRhdGFzZXQudXNlcl9uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgfS8vZW5kIGRvY3VtZW50XG59Ly9lbmQgdmVyaWZ5IFxuXG5FbGVtZW50LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMucGFyZW50RWxlbWVudCkge1xuICAgIHRoaXMucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZWNhbGN1bGF0ZV9sb2NhbF9jdXJzb3JzKGVsZW1lbnQsY291bnQpe1xuICAgICAgICAgIENvY3JlYXRlVXRpbHNDdXJzb3IucHJpbnQoXCJjb3VudCBcIitjb3VudCxkZWJ1ZylcbiAgICAgICAgICBsZXQgbXlfc3RhcnQgPSAoICEgZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScpKSAgPyBlbGVtZW50LnNlbGVjdGlvblN0YXJ0IDogcGFyc2VJbnQoZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJzZWxlY3Rpb25fc3RhcnRcIikpO1xuICAgICAgICAgIC8vbGV0IG15X3N0YXJ0ICAgPSBlbGVtZW50LnNlbGVjdGlvblN0YXJ0XG4gICAgICAgICAgbGV0IG5hbWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnbmFtZScpIHx8ICcnO1xuICAgICAgICAgIGxldCBkb2N1bWVudF9pZCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJykgfHwgJyc7XG4gICAgICAgICAgbGV0IGNvbGxlY3Rpb24gPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2xsZWN0aW9uJykgfHwgJyc7XG4gICAgICAgICAgbGV0IHNlbGVjdG9yID0gJ1tkYXRhLWNvbGxlY3Rpb249XCInK2NvbGxlY3Rpb24rJ1wiXVtkYXRhLWRvY3VtZW50X2lkPVwiJytkb2N1bWVudF9pZCsnXCJdW25hbWU9XCInK25hbWUrJ1wiXSdcbiAgICAgICAgICBsZXQgaWRfbWlycm9yID0gZWxlbWVudC5kYXRhc2V0WydtaXJyb3JfaWQnXTsgLy9sZXQgaWRfbWlycm9yID0gZG9jdW1lbnRfaWQrbmFtZSsnLS1taXJyb3ItZGl2JztcbiAgICAgICAgICBsZXQgbWlycm9yRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWRfbWlycm9yKTtcbiAgICAgICAgICBsZXQgY3Vyc29yX2NvbnRhaW5lciA9IChtaXJyb3JEaXYpID8gbWlycm9yRGl2LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jdXJzb3ItY29udGFpbmVyJykgOiBudWxsO1xuICAgICAgICAgIGlmKGN1cnNvcl9jb250YWluZXIpe1xuICAgICAgICAgICAgICBsZXQgY29udGFpbmVyc19jdXJzb3JzID0gW107XG4gICAgICAgICAgICAgIGN1cnNvcl9jb250YWluZXIuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGRfY3Vyc29yLCBpbmRleCwgYXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgIGxldCBzdGFydCA9IHBhcnNlSW50KGNoaWxkX2N1cnNvci5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3RhcnQnKSk7XG4gICAgICAgICAgICAgICAgICBsZXQgdXNlcl9uYW1lID0gY2hpbGRfY3Vyc29yLmdldEF0dHJpYnV0ZSgnZGF0YS11c2VyX25hbWUnKTtcbiAgICAgICAgICAgICAgICAgICAgQ29jcmVhdGVVdGlsc0N1cnNvci5wcmludChbXCJteV9zdGFydCBsb2NhbFwiLG15X3N0YXJ0LCdzdGFydCBjdXJzb3IgJyt1c2VyX25hbWUrXCIgPSBcIixzdGFydF0sZGVidWcpXG4gICAgICAgICAgICAgICAgICBpZihzdGFydCA+IG15X3N0YXJ0ICYmIGNvbnRhaW5lcnNfY3Vyc29ycy5pbmRleE9mKHVzZXJfbmFtZSkgPT0gLTEgKXtcbiAgICAgICAgICAgICAgICAgICAgQ29jcmVhdGVVdGlsc0N1cnNvci5wcmludChcIkVzIG1heW9yXCIsZGVidWcpXG4gICAgICAgICAgICAgICAgICAgIGxldCBlbmQgPSBwYXJzZUludChjaGlsZF9jdXJzb3IuZ2V0QXR0cmlidXRlKCdkYXRhLWVuZCcpKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBvc19zdGFydCA9IHN0YXJ0K2NvdW50O1xuICAgICAgICAgICAgICAgICAgICBsZXQgcG9zX2VuZCA9IGVuZCtjb3VudDtcbiAgICAgICAgICAgICAgICAgICAgQ29jcmVhdGVVdGlsc0N1cnNvci5wcmludChbJ3Bvc19zdGFydCcscG9zX3N0YXJ0LCdwb3NfZW5kJyxwb3NfZW5kXSxkZWJ1ZylcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGFzZXQgPSBjaGlsZF9jdXJzb3IucXVlcnlTZWxlY3RvcignLmN1cnNvci1mbGFnJykuZGF0YXNldFxuICAgICAgICAgICAgICAgICAgICBsZXQgY2xpZW50SWQgPSBkYXRhc2V0LnNvY2tldF9pZDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGpzb24gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6ZWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRQb3NpdGlvbjpwb3Nfc3RhcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZFBvc2l0b246cG9zX2VuZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50SWQ6Y2xpZW50SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd1c2VyJzp7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY29sb3InOmRhdGFzZXQudXNlcl9jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICduYW1lJzpkYXRhc2V0LnVzZXJfbmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIENvY3JlYXRlVXRpbHNDdXJzb3IucHJpbnQoW1wic2VudCBEcmF3IEN1cnNvciBcIixqc29uXSxkZWJ1ZylcbiAgICAgICAgICAgICAgICAgICAgZHJhd19jdXJzb3IoanNvbik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcnNfY3Vyc29ycy5wdXNoKHVzZXJfbmFtZSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvL21pcnJvckRpdi5hcHBlbmRDaGlsZChjaGlsZF9jdXJzb3IpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG59XG5cbmZ1bmN0aW9uIGluaXRDdXJzb3JFbChlbGVtZW50KXtcbiAgbGV0IGZvcm11bGFyaW8gPSBnZXRQYXJlbnRzKGVsZW1lbnQsJ2Zvcm0nKVxuICAgICAgICAgIGxldCByZWFsdGltZSA9IGVsZW1lbnQuaGFzQXR0cmlidXRlKCdkYXRhLXJlYWx0aW1lJykgPyBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1yZWFsdGltZScpIDogJ3RydWUnO1xuICAgICAgICAgIGlmKCByZWFsdGltZSA9PSd0cnVlJyB8fCAgKGZvcm11bGFyaW8gJiYgZm9ybXVsYXJpby5nZXRBdHRyaWJ1dGUoJ2RhdGEtcmVhbHRpbWUnKSA9PSd0cnVlJyApICl7XG4gICAgICAgICAgICBpZihyZWFsdGltZSA9PSdmYWxzZScpXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgQ29jcmVhdGVVdGlsc0N1cnNvci5wcmludChbXCJJbml0IEV2ZW50cyBcIixlbGVtZW50XSxkZWJ1ZylcbiAgICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JyxmdW5jdGlvbihldmVudCl7XG4gICAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXJ0ID0gZWxlbWVudC5zZWxlY3Rpb25TdGFydDtcbiAgICAgICAgICAgICAgICAgICAgICBsZXQgZW5kID0gZWxlbWVudC5zZWxlY3Rpb25FbmQ7XG4gICAgICAgICAgICAgICAgICAgICAgbGV0IGNvb3JkaW5hdGVzID0gZ2V0Q2FyZXRDb29yZGluYXRlcyhlbGVtZW50LHN0YXJ0LGVuZCk7XG4gICAgICAgICAgICAgICAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2goZXZlbnQuaW5wdXRUeXBlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2luc2VydFRleHQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudCA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2luc2VydEZyb21QYXN0ZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgLy8gY291bnQgPSBldmVudC5jbGlwYm9hcmREYXRhLmdldERhdGEoJ1RleHQnKS5sZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGVsZXRlQ29udGVudEJhY2t3YXJkJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY2FzZSAnaW5zZXJ0RnJvbVBhc3RlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQgPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZihjb3VudClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY2FsY3VsYXRlX2xvY2FsX2N1cnNvcnModGhpcyxjb3VudClcbiAgICAgICAgICAgICAgICAgIH0sZmFsc2UpXG4gICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICBDb2NyZWF0ZVV0aWxzQ3Vyc29yLnByaW50KFtcIk1vdmUgU2Nyb2xsIFwiLGVsZW1lbnRdLHRydWUpXG4gICAgICAgICAgICAgICAgICAgICAgbGV0IG5hbWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnbmFtZScpXG4gICAgICAgICAgICAgICAgICAgICAgbGV0IGRvY3VtZW50X2lkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKSB8fCAnJztcbiAgICAgICAgICAgICAgICAgICAgICBsZXQgaWRfbWlycm9yID0gZWxlbWVudC5kYXRhc2V0WydtaXJyb3JfaWQnXTtcbiAgICAgICAgICAgICAgICAgICAgICBsZXQgbWlfbWlycm9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWRfbWlycm9yKVxuICAgICAgICAgICAgICAgICAgICAgIGlmKG1pX21pcnJvcil7XG4gICAgICAgICAgICAgICAgICAgICAgICBtaV9taXJyb3Iuc2Nyb2xsVG8oZWxlbWVudC5zY3JvbGxMZWZ0LGVsZW1lbnQuc2Nyb2xsVG9wKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvL3Jlc2l6ZVxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBvdXRwdXRzaXplKCkge1xuICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRfbXVsdGljdXJzb3JzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnRfZm9yLCBpbmRleCwgYXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuYW1lID0gZWxlbWVudF9mb3IuZ2V0QXR0cmlidXRlKCduYW1lJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpZF9taXJyb3IgPSBlbGVtZW50LmRhdGFzZXRbJ21pcnJvcl9pZCddOyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvY3JlYXRlVXRpbHNDdXJzb3IucHJpbnQoW1wiUmVzaXplIGlkX21pcnJvciAtPiBcIitpZF9taXJyb3JdLGRlYnVnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1pX21pcnJvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkX21pcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKG1pX21pcnJvcil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pX21pcnJvci5zdHlsZVtcIndpZHRoXCJdID0gZWxlbWVudF9mb3Iub2Zmc2V0V2lkdGgrXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaV9taXJyb3Iuc3R5bGVbXCJoZWlnaHRcIl0gPSBlbGVtZW50X2Zvci5vZmZzZXRIZWlnaHQrXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3ZhciBpc0ZvY3VzZWQgPSAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZWxlbWVudF9mb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3ZlcmlmeV9jdXJzb3IoZWxlbWVudF9mb3IsaXNGb2N1c2VkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNGb2N1c2VkID0gKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihpc0ZvY3VzZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0Q2FyZXRDb29yZGluYXRlcyhlbGVtZW50LGVsZW1lbnQuc2VsZWN0aW9uU3RhcnQsZWxlbWVudC5zZWxlY3Rpb25FbmQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hfbWlycm9yKGVsZW1lbnQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG5ldyBSZXNpemVPYnNlcnZlcihvdXRwdXRzaXplKS5vYnNlcnZlKGVsZW1lbnQpXG4gICAgICAgICAgICAgICAgICAvL2lmIChlbGVtZW50Lm5vZGVOYW1lID09ICdJTlBVVCcpe1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5hbWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnbmFtZScpXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZG9jdW1lbnRfaWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcpXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaWRfbWlycm9yID0gZWxlbWVudC5kYXRhc2V0WydtaXJyb3JfaWQnXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtaV9taXJyb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZF9taXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihtaV9taXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1pX21pcnJvci5zY3JvbGxUbyhlbGVtZW50LnNjcm9sbExlZnQsZWxlbWVudC5zY3JvbGxUb3ApO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNvdXQnLGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuYW1lID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ25hbWUnKVxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRvY3VtZW50X2lkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKSB8fCAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpZF9taXJyb3IgPSBlbGVtZW50LmRhdGFzZXRbJ21pcnJvcl9pZCddO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1pX21pcnJvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkX21pcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKG1pX21pcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWlfbWlycm9yLnNjcm9sbFRvKGVsZW1lbnQuc2Nyb2xsTGVmdCxlbGVtZW50LnNjcm9sbFRvcCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwia2V5ZG93biBMLFQgPT4gXCIsZWxlbWVudC5zY3JvbGxMZWZ0LGVsZW1lbnQuc2Nyb2xsVG9wKVxuICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuYW1lID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ25hbWUnKVxuICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpZF9taXJyb3IgPSBlbGVtZW50LmRhdGFzZXRbJ21pcnJvcl9pZCddO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWlfbWlycm9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWRfbWlycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZihtaV9taXJyb3Ipe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pX21pcnJvci5zY3JvbGxUbyhlbGVtZW50LnNjcm9sbExlZnQsZWxlbWVudC5zY3JvbGxUb3ApOyAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaF9taXJyb3IoZWxlbWVudClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJyxmdW5jdGlvbihldmVudCl7XG4gICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcImtleXVwIEwsVCA9PiBcIixlbGVtZW50LnNjcm9sbExlZnQsZWxlbWVudC5zY3JvbGxUb3ApXG4gICAgICAgICAgICAgICAgICAgICAgIGxldCBuYW1lID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ25hbWUnKVxuICAgICAgICAgICAgICAgICAgICAgICBsZXQgaWRfbWlycm9yID0gZWxlbWVudC5kYXRhc2V0WydtaXJyb3JfaWQnXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtaV9taXJyb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZF9taXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihtaV9taXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1pX21pcnJvci5zY3JvbGxUbyhlbGVtZW50LnNjcm9sbExlZnQsZWxlbWVudC5zY3JvbGxUb3ApO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIC8vfVxuICAgICAgICAgIH0vL2VuZCBpZiByZWFsdGltZSBUUlVFXG59XG5cbnZhciBpbml0aWFsaXplX211bHRpY3Vyc29yID0gZnVuY3Rpb24oZWxlbWVudF9tdWx0aWN1cnNvcnMpe1xuICAgICAgZWxlbWVudF9tdWx0aWN1cnNvcnMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCwgaW5kZXgsIGFycmF5KSB7XG4gICAgICAgICAgaW5pdEN1cnNvckVsKGVsZW1lbnQpO1xuICAgICAgfSk7IC8vIGVsZW1lbnRfbXVsdGljdXJzb3JzLmZvckVhY2hcbn0vL2VuZCBpbml0aWFsaXplX211bHRpY3Vyc29yIFxuXG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbihlKXsgXG4gIC8vY29uc29sZS5sb2coXCJyZXNpemUgd2luZG93c1wiKVxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1taXJyb3JfaWRdJykuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCwgaW5kZXgsIGFycmF5KSB7XG4gICAgICAgICAgcmVmcmVzaF9taXJyb3IoZWxlbWVudClcbiAgfSk7IC8vIGVsZW1lbnRfbXVsdGljdXJzb3JzLmZvckVhY2hcbn0sIHRydWUpO1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZnVuY3Rpb24oZSl7IFxuICAvL2NvbnNvbGUubG9nKFwiU2Nyb2xsIFwiKVxuICAvL2NvbnNvbGUubG9nKFwic2Nyb2xsIHdpbmRvd3NcIixkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQsZG9jdW1lbnQuYm9keS5zY3JvbGxUb3ApXG4gIC8vZWxlbWVudF9tdWx0aWN1cnNvcnMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCwgaW5kZXgsIGFycmF5KSB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLW1pcnJvcl9pZF0nKS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50LCBpbmRleCwgYXJyYXkpIHtcbiAgICAgICAgICByZWZyZXNoX21pcnJvcihlbGVtZW50KVxuICB9KTsgLy8gZWxlbWVudF9tdWx0aWN1cnNvcnMuZm9yRWFjaFxuICBcbiAgXG59LCB0cnVlKTtcblxuZnVuY3Rpb24gaW5pdEN1cnNvckVsZW1lbnRzKGNvbnRhaW5lcikge1xuICBsZXQgbWFpbkNvbnRhaW5lciA9IGNvbnRhaW5lciB8fCB3aW5kb3c7XG4gIFxuICBpZiAoIW1haW5Db250YWluZXIucXVlcnlTZWxlY3RvckFsbCkge1xuICAgIHJldHVybjtcbiAgfVxuICBcbiAgbGV0IGVsZW1lbnRzID0gbWFpbkNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1yZWFsdGltZT10cnVlXScpO1xuICBcbiAgZWxlbWVudHMuZm9yRWFjaChlbCA9PiB7XG4gICAgaW5pdEN1cnNvckVsKGVsKTtcbiAgfSlcbn1cblxuaWYoZGVidWcpXG4gIGNvbnNvbGUubG9nKFwiZWxlbWVudHMgdG8gSU5JVCAtPiBcIixlbGVtZW50X211bHRpY3Vyc29ycylcbmluaXRpYWxpemVfbXVsdGljdXJzb3IoZWxlbWVudF9tdWx0aWN1cnNvcnMpO1xuXG4vLyBDb0NyZWF0ZUluaXQucmVnaXN0ZXJfb2xkKCdbZGF0YS1yZWFsdGltZT10cnVlXScsaW5pdEN1cnNvckVsKTtcbi8vIENvQ3JlYXRlSW5pdC5yZWdpc3RlcignQ29DcmVhdGVDdXJzb3InLCB3aW5kb3csIGluaXRDdXJzb3JFbGVtZW50cyk7XG5cbm9ic2VydmVyLmluaXQoeyBcblx0bmFtZTogJ0NvQ3JlYXRlQ3Vyc29yJywgXG5cdG9ic2VydmU6IFsnc3VidHJlZScsICdjaGlsZExpc3QnXSxcblx0aW5jbHVkZTogJ1tkYXRhLWNvbGxlY3Rpb25dW2RhdGEtZG9jdW1lbnRfaWRdW25hbWVdW2RhdGEtcmVhbHRpbWU9dHJ1ZV0nLCBcblx0Y2FsbGJhY2s6IGZ1bmN0aW9uKG11dGF0aW9uKSB7XG5cdFx0aW5pdEN1cnNvckVsZW1lbnRzKG11dGF0aW9uLnRhcmdldClcblx0fVxufSk7XG5cbmNvbnN0IENvQ3JlYXRlQ3Vyc29ycyA9IHsgZHJhd19jdXJzb3IsIHJlZnJlc2hfbWlycm9yLCByZWNhbGN1bGF0ZV9sb2NhbF9jdXJzb3JzIH07XG5leHBvcnQgZGVmYXVsdCBDb0NyZWF0ZUN1cnNvcnM7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../CoCreate-components/CoCreate-cursors/src/index.js\n")},"../../CoCreate-components/CoCreate-form/src/index.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _observer = _interopRequireDefault(__webpack_require__(/*! @cocreate/observer */ \"../../CoCreate-components/CoCreate-observer/src/index.js\"));\n\nvar _utils = _interopRequireDefault(__webpack_require__(/*! @cocreate/utils */ \"../../CoCreate-components/CoCreate-utils/src/index.js\"));\n\nvar _cocreatejs = __webpack_require__(/*! @cocreate/cocreatejs */ \"../../CoCreateJS/src/index.js\");\n\nvar _action = _interopRequireDefault(__webpack_require__(/*! @cocreate/action */ \"../../CoCreate-components/CoCreate-action/src/index.js\"));\n\nvar _utils2 = _interopRequireDefault(__webpack_require__(/*! ./utils */ \"../../CoCreate-components/CoCreate-form/src/utils.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// import crdt from '@cocreate/crdt'\n// import text from '@cocreate/text'\nconst CoCreateForm = {\n  requestAttr: \"data-document_request\",\n  selectors: [],\n  modules: [],\n  init: function ({\n    name,\n    selector,\n    callback\n  }) {\n    this.modules.push({\n      name,\n      selector,\n      callback\n    });\n\n    if (selector) {\n      this.selectors.push(selector);\n    }\n  },\n  get: function () {\n    return {\n      selectors: this.selectors\n    };\n  },\n  checkID: function (element, attr = \"data-document_id\") {\n    let document_id = element.getAttribute(attr) || \"\";\n\n    if (document_id === \"\" || document_id === \"pending\" || !_utils.default.checkValue(document_id)) {\n      return false;\n    }\n\n    return true;\n  },\n  request: function ({\n    form,\n    element,\n    nameAttr,\n    value\n  }) {\n    if (!form && element) {\n      form = element.closest('form');\n    }\n\n    if (form) {\n      this.__requestDocumentIdOfForm(form);\n    } else if (element) {\n      nameAttr = nameAttr || \"name\";\n\n      this.__requestDocumentId(element, nameAttr, value);\n    }\n  },\n  initElement: function (container) {\n    const __container = container || document;\n\n    if (!__container.querySelectorAll) {\n      return;\n    }\n\n    let forms = __container.querySelectorAll('form');\n\n    if (forms.length === 0 && __container != document && __container.tagName === \"FORM\") {\n      forms = [__container];\n    }\n\n    forms.forEach(form => {\n      _utils2.default.setAttribute(form);\n\n      _utils2.default.disableAutoFill(form);\n    });\n  },\n  __init: function () {\n    const forms = document.querySelectorAll('form');\n\n    this.__initEvent();\n\n    forms.forEach(form => {\n      _utils2.default.setAttribute(form);\n    });\n  },\n  __initEvent: function () {\n    const self = this;\n\n    _cocreatejs.socket.listen('createDocument', function (data) {\n      const {\n        metadata\n      } = data;\n\n      self.__receivedDocumentId(data);\n\n      if (metadata == \"createDocument-action\") {//. dispatch EndAction\n      }\n    });\n\n    _cocreatejs.socket.listen('deleteDocument', function (data) {\n      const {\n        metadata\n      } = data;\n\n      if (metadata === \"deleteDocument-action\") {//.dispatch End Action\n      }\n    });\n\n    document.addEventListener('clicked-submitBtn', function (event) {\n      const {\n        element\n      } = event.detail;\n      self.modules.forEach(({\n        selector,\n        callback\n      }) => {\n        if (callback && element.matches(selector)) {\n          callback.call(null, element);\n        }\n      });\n    });\n  },\n  __deleteDocumentAction: function (btn) {\n    const collection = btn.getAttribute('data-collection');\n    const document_id = btn.getAttribute('data-document_id');\n\n    if (_utils.default.checkValue(collection) && _utils.default.checkValue(document_id)) {\n      _cocreatejs.crud.deleteDocument({\n        'collection': collection,\n        'document_id': document_id,\n        'metadata': 'deleteDocument-action'\n      });\n\n      document.dispatchEvent(new CustomEvent('deletedDocument', {\n        detail: {}\n      }));\n    }\n  },\n  __deleteDocumentsAction: function (btn) {\n    const collection = btn.getAttribute('data-collection');\n    const selector = btn.getAttribute('data-document_target');\n    if (!selector) return;\n    const selectedEls = document.querySelectorAll(selector);\n\n    if (_utils2.default.checkValue(collection)) {\n      selectedEls.forEach(el => {\n        const document_id = el.getAttribute('data-document_id');\n\n        if (_utils.default.checkValue(document_id)) {\n          _cocreatejs.crud.deleteDocument({\n            'collection': collection,\n            'document_id': document_id,\n            'metadata': ''\n          });\n        }\n      });\n      document.dispatchEvent(new CustomEvent('deletedDocuments', {\n        detail: {}\n      }));\n    }\n  },\n  __createDocumentAction: function (btn) {\n    const form = btn.closest(\"form\");\n    const self = this;\n\n    let collections = _utils2.default.getCOllections(form);\n\n    collections.forEach(collection => {\n      let data = _utils2.default.getFormData(form, \"\", collection);\n\n      if (Object.keys(data).length == 0 && data.constructor === Object) {\n        return;\n      }\n\n      if (_utils.default.checkValue(collection)) {\n        _cocreatejs.crud.createDocument({\n          'collection': collection,\n          'data': data,\n          'metadata': 'createDocument-action',\n          'element': 'empty'\n        });\n\n        document.dispatchEvent(new CustomEvent('createdDocument', {\n          detail: {}\n        }));\n      }\n    });\n  },\n  __saveDocumentAction: function (btn) {\n    const form = btn.closest(\"form\");\n\n    if (!_utils2.default.checkFormValidate(form)) {\n      alert('Values are not unique');\n      return;\n    }\n\n    const selectors = this.selectors || [];\n    const elements = form.querySelectorAll(selectors.join(','));\n    let request_document_id = false;\n\n    for (var i = 0; i < elements.length; i++) {\n      let el = elements[i];\n      const data_document_id = el.getAttribute('data-document_id');\n\n      if (el.getAttribute('data-save_value') == 'false') {\n        continue;\n      }\n\n      if (!data_document_id) {\n        if (el.getAttribute('name')) {\n          request_document_id = true;\n        }\n\n        continue;\n      }\n\n      if (input.isUsageY(el)) {\n        continue;\n      }\n\n      if (_utils2.default.isTemplateInput(el)) return;\n      var new_event = new CustomEvent(\"clicked-submitBtn\", {\n        bubbles: true,\n        detail: {\n          type: \"submitBtn\",\n          element: el\n        }\n      });\n      el.dispatchEvent(new_event);\n    }\n\n    if (request_document_id) {\n      this.requestDocumentIdOfForm(form);\n    }\n\n    document.dispatchEvent(new CustomEvent('savedDocument', {\n      detail: {}\n    }));\n  },\n  __requestDocumentId: function (element, nameAttr = \"name\", value = null) {\n    const collection = element.getAttribute('data-collection');\n    const name = element.getAttribute(nameAttr);\n    if (!collection || !name) return;\n\n    const request_id = _utils.default.generateUUID();\n\n    element.setAttribute(this.requestAttr, request_id);\n\n    _cocreatejs.crud.createDocument({\n      \"collection\": collection,\n      \"element\": request_id,\n      \"metadata\": \"\"\n    });\n  },\n  __requestDocumentIdOfForm: function (form) {\n    let self = this;\n    let elemens = form.querySelectorAll('[name], [data-pass_to]');\n    let collections = [];\n\n    for (var i = 0; i < elemens.length; i++) {\n      let el = elemens[i];\n\n      if (el.parentNode.classList.contains('template')) {\n        continue;\n      }\n\n      const collection = el.getAttribute(\"data-collection\") || el.getAttribute(\"data-pass_collection\") || \"\";\n\n      if (collection !== \"\" && !collections.includes(collection) && !self.checkID(el, 'data-document_id') && !self.checkID(el, 'data-pass_document_id')) {\n        const request_id = _utils.default.generateUUID();\n\n        collections.push(collection);\n        el.setAttribute(this.requestAttr, request_id); //. get Data\n\n        let data = _utils2.default.getFormData(form, \"\", collection);\n        /* FixME Create Document request */\n\n\n        _cocreatejs.crud.createDocument({\n          \"collection\": collection,\n          \"element\": request_id,\n          'data': data,\n          \"metadata\": \"\"\n        });\n      }\n    }\n  },\n  __setNewIdProcess: function (element, document_id, pass) {\n    if (!element) return;\n    element.removeAttribute(this.requestAttr);\n    const event_data = {\n      document_id: document_id\n    };\n\n    if (!pass && !this.checkID(element) && element.hasAttribute('name')) {\n      element.setAttribute('data-document_id', document_id);\n    }\n\n    if (pass && !this.checkID(element, 'data-pass_document_id') && element.hasAttribute('data-pass_to')) {\n      element.setAttribute('data-pass_document_id', document_id); // CoCreateLogic.storePassData(element)\n\n      if (element.parentNode.classList.contains('submitBtn')) {\n        element.click();\n      }\n    }\n\n    var event = new CustomEvent('set-document_id', {\n      detail: event_data\n    });\n    element.dispatchEvent(event);\n  },\n  __receivedDocumentId: function (data) {\n    if (!data['document_id']) {\n      return;\n    }\n\n    let element = document.querySelector(`[${this.requestAttr}=\"${data['element']}\"]`);\n    if (!element) return;\n    let self = this;\n    const form = element.tagName === \"FORM\" ? element : _utils2.default.getParents(element, 'form');\n    const collection = data['collection'];\n    const id = data['document_id'];\n\n    if (form && id) {\n      form.setAttribute('data-form_id', data['element']);\n      const elements = form.querySelectorAll(`[data-collection=${collection}], [data-pass_collection=${collection}]`);\n      elements.forEach(function (el) {\n        el.removeAttribute(self.requestAttr);\n        if (el.hasAttribute('name')) self.__setNewIdProcess(el, id);\n        if (el.hasAttribute('data-pass_to')) self.__setNewIdProcess(el, id, true);\n      });\n    } else if (element) {\n      this.__setNewIdProcess(element, id);\n    }\n  }\n};\n\nCoCreateForm.__init();\n\n_cocreatejs.core.registerInit(CoCreateForm.initElement, CoCreateForm);\n\n_observer.default.init({\n  name: 'CoCreateForm',\n  observe: ['subtree', 'childList'],\n  include: 'form',\n  callback: function (mutation) {\n    CoCreateForm.initElement(mutation.target);\n  }\n});\n\n_action.default.init({\n  action: \"createDocument\",\n  endEvent: \"createdDocument\",\n  callback: (btn, data) => {\n    CoCreateForm.__createDocumentAction(btn);\n  }\n});\n\n_action.default.init({\n  action: \"deleteDocument\",\n  endEvent: \"deletedDocument\",\n  callback: (btn, data) => {\n    CoCreateForm.__deleteDocumentAction(btn);\n  }\n});\n\n_action.default.init({\n  action: \"deleteDocuments\",\n  endEvent: \"deletedDocuments\",\n  callback: (btn, data) => {\n    CoCreateDocument.__deleteDocumentsAction(btn);\n  }\n});\n\n_action.default.init({\n  action: \"saveDocument\",\n  endEvent: \"savedDocument\",\n  callback: (btn, data) => {\n    CoCreateForm.__saveDocumentAction(btn);\n  }\n});\n\nvar _default = CoCreateForm;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5xdWlsbC8vaG9tZS91YnVudHUvZW52aXJvbm1lbnQvcHVibGljL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtZm9ybS9zcmMvaW5kZXguanM/ZGMxNSJdLCJuYW1lcyI6WyJDb0NyZWF0ZUZvcm0iLCJyZXF1ZXN0QXR0ciIsInNlbGVjdG9ycyIsIm1vZHVsZXMiLCJpbml0IiwibmFtZSIsInNlbGVjdG9yIiwiY2FsbGJhY2siLCJwdXNoIiwiZ2V0IiwiY2hlY2tJRCIsImVsZW1lbnQiLCJhdHRyIiwiZG9jdW1lbnRfaWQiLCJnZXRBdHRyaWJ1dGUiLCJjY3V0aWxzIiwiY2hlY2tWYWx1ZSIsInJlcXVlc3QiLCJmb3JtIiwibmFtZUF0dHIiLCJ2YWx1ZSIsImNsb3Nlc3QiLCJfX3JlcXVlc3REb2N1bWVudElkT2ZGb3JtIiwiX19yZXF1ZXN0RG9jdW1lbnRJZCIsImluaXRFbGVtZW50IiwiY29udGFpbmVyIiwiX19jb250YWluZXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JtcyIsImxlbmd0aCIsInRhZ05hbWUiLCJmb3JFYWNoIiwidXRpbHMiLCJzZXRBdHRyaWJ1dGUiLCJkaXNhYmxlQXV0b0ZpbGwiLCJfX2luaXQiLCJfX2luaXRFdmVudCIsInNlbGYiLCJzb2NrZXQiLCJsaXN0ZW4iLCJkYXRhIiwibWV0YWRhdGEiLCJfX3JlY2VpdmVkRG9jdW1lbnRJZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsImRldGFpbCIsIm1hdGNoZXMiLCJjYWxsIiwiX19kZWxldGVEb2N1bWVudEFjdGlvbiIsImJ0biIsImNvbGxlY3Rpb24iLCJjcnVkIiwiZGVsZXRlRG9jdW1lbnQiLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJfX2RlbGV0ZURvY3VtZW50c0FjdGlvbiIsInNlbGVjdGVkRWxzIiwiZWwiLCJfX2NyZWF0ZURvY3VtZW50QWN0aW9uIiwiY29sbGVjdGlvbnMiLCJnZXRDT2xsZWN0aW9ucyIsImdldEZvcm1EYXRhIiwiT2JqZWN0Iiwia2V5cyIsImNvbnN0cnVjdG9yIiwiY3JlYXRlRG9jdW1lbnQiLCJfX3NhdmVEb2N1bWVudEFjdGlvbiIsImNoZWNrRm9ybVZhbGlkYXRlIiwiYWxlcnQiLCJlbGVtZW50cyIsImpvaW4iLCJyZXF1ZXN0X2RvY3VtZW50X2lkIiwiaSIsImRhdGFfZG9jdW1lbnRfaWQiLCJpbnB1dCIsImlzVXNhZ2VZIiwiaXNUZW1wbGF0ZUlucHV0IiwibmV3X2V2ZW50IiwiYnViYmxlcyIsInR5cGUiLCJyZXF1ZXN0RG9jdW1lbnRJZE9mRm9ybSIsInJlcXVlc3RfaWQiLCJnZW5lcmF0ZVVVSUQiLCJlbGVtZW5zIiwicGFyZW50Tm9kZSIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiaW5jbHVkZXMiLCJfX3NldE5ld0lkUHJvY2VzcyIsInBhc3MiLCJyZW1vdmVBdHRyaWJ1dGUiLCJldmVudF9kYXRhIiwiaGFzQXR0cmlidXRlIiwiY2xpY2siLCJxdWVyeVNlbGVjdG9yIiwiZ2V0UGFyZW50cyIsImlkIiwiY29yZSIsInJlZ2lzdGVySW5pdCIsIm9ic2VydmVyIiwib2JzZXJ2ZSIsImluY2x1ZGUiLCJtdXRhdGlvbiIsInRhcmdldCIsImFjdGlvbiIsImVuZEV2ZW50IiwiQ29DcmVhdGVEb2N1bWVudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBSUE7QUFDQTtBQUlBLE1BQU1BLFlBQVksR0FBRztBQUVwQkMsYUFBVyxFQUFFLHVCQUZPO0FBR3BCQyxXQUFTLEVBQUUsRUFIUztBQUlwQkMsU0FBTyxFQUFFLEVBSlc7QUFNcEJDLE1BQUksRUFBRSxVQUFTO0FBQUNDLFFBQUQ7QUFBT0MsWUFBUDtBQUFpQkM7QUFBakIsR0FBVCxFQUFxQztBQUUxQyxTQUFLSixPQUFMLENBQWFLLElBQWIsQ0FBa0I7QUFDakJILFVBRGlCO0FBRWpCQyxjQUZpQjtBQUdqQkM7QUFIaUIsS0FBbEI7O0FBTUEsUUFBSUQsUUFB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RyxRQUFNLEVBQUUsZ0JBREc7QUFFWEMsVUFBUSxFQUFFLGlCQUZDO0FBR1huRyxVQUFRLEVBQUUsQ0FBQzJDLEdBQUQsRUFBTVQsSUFBTixLQUFlO0FBQ3hCekMsZ0JBQVksQ0FBQ2lELHNCQUFiLENBQW9DQyxHQUFwQztBQUNBO0FBTFUsQ0FBWjs7QUFRQXVELGdCQUFPckcsSUFBUCxDQUFZO0FBQ1hxRyxRQUFNLEVBQUUsaUJBREc7QUFFWEMsVUFBUSxFQUFFLGtCQUZDO0FBR1huRyxVQUFRLEVBQUUsQ0FBQzJDLEdBQUQsRUFBTVQsSUFBTixLQUFlO0FBQ3hCa0Usb0JBQWdCLENBQUNuRCx1QkFBakIsQ0FBeUNOLEdBQXpDO0FBQ0E7QUFMVSxDQUFaOztBQVFBdUQsZ0JBQU9yRyxJQUFQLENBQVk7QUFDWHFHLFFBQU0sRUFBRSxjQURHO0FBRVhDLFVBQVEsRUFBRSxlQUZDO0FBR1huRyxVQUFRLEVBQUUsQ0FBQzJDLEdBQUQsRUFBTVQsSUFBTixLQUFlO0FBQ3hCekMsZ0JBQVksQ0FBQ21FLG9CQUFiLENBQWtDakIsR0FBbEM7QUFDQTtBQUxVLENBQVo7O2VBUWVsRCxZIiwiZmlsZSI6Ii4uLy4uL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtZm9ybS9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgb2JzZXJ2ZXIgZnJvbSAnQGNvY3JlYXRlL29ic2VydmVyJ1xuaW1wb3J0IGNjdXRpbHMgZnJvbSAnQGNvY3JlYXRlL3V0aWxzJztcbmltcG9ydCB7c29ja2V0LCBjcnVkLCBjb3JlfSBmcm9tICdAY29jcmVhdGUvY29jcmVhdGVqcydcbmltcG9ydCBhY3Rpb24gZnJvbSAnQGNvY3JlYXRlL2FjdGlvbidcbmltcG9ydCB1dGlscyBmcm9tIFwiLi91dGlsc1wiIFxuXG5cblxuLy8gaW1wb3J0IGNyZHQgZnJvbSAnQGNvY3JlYXRlL2NyZHQnXG4vLyBpbXBvcnQgdGV4dCBmcm9tICdAY29jcmVhdGUvdGV4dCdcblxuXG5cbmNvbnN0IENvQ3JlYXRlRm9ybSA9IHtcblx0XG5cdHJlcXVlc3RBdHRyOiBcImRhdGEtZG9jdW1lbnRfcmVxdWVzdFwiLFxuXHRzZWxlY3RvcnM6IFtdLFxuXHRtb2R1bGVzOiBbXSxcblxuXHRpbml0OiBmdW5jdGlvbih7bmFtZSwgc2VsZWN0b3IsIGNhbGxiYWNrfSkge1xuXHRcdFxuXHRcdHRoaXMubW9kdWxlcy5wdXNoKHtcblx0XHRcdG5hbWUsXG5cdFx0XHRzZWxlY3Rvcixcblx0XHRcdGNhbGxiYWNrXG5cdFx0fSk7XG5cdFx0XG5cdFx0aWYgKHNlbGVjdG9yKSB7XG5cdFx0XHR0aGlzLnNlbGVjdG9ycy5wdXNoKHNlbGVjdG9yKTtcblx0XHR9XG5cdH0sXG5cdFxuXHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzZWxlY3RvcnM6IHRoaXMuc2VsZWN0b3JzXG5cdFx0fVxuXHR9LFxuXHRcblx0Y2hlY2tJRDogZnVuY3Rpb24oZWxlbWVudCwgYXR0ciA9IFwiZGF0YS1kb2N1bWVudF9pZFwiKSB7XG5cdFx0bGV0IGRvY3VtZW50X2lkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cikgfHwgXCJcIjtcblx0XHRpZiAoZG9jdW1lbnRfaWQgPT09IFwiXCIgfHwgZG9jdW1lbnRfaWQgPT09IFwicGVuZGluZ1wiIHx8ICFjY3V0aWxzLmNoZWNrVmFsdWUoZG9jdW1lbnRfaWQpKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXHRcblx0cmVxdWVzdDogZnVuY3Rpb24oe2Zvcm0sIGVsZW1lbnQsIG5hbWVBdHRyLCB2YWx1ZX0pIHtcblx0XHRcblx0XHRpZiAoIWZvcm0gJiYgZWxlbWVudCkge1xuXHRcdFx0Zm9ybSA9IGVsZW1lbnQuY2xvc2VzdCgnZm9ybScpO1xuXHRcdH1cblx0XHRcblx0XHRpZiAoZm9ybSkge1xuXHRcdFx0dGhpcy5fX3JlcXVlc3REb2N1bWVudElkT2ZGb3JtKGZvcm0pXG5cdFx0fSBlbHNlIGlmIChlbGVtZW50KSB7XG5cdFx0XHRuYW1lQXR0ciA9IG5hbWVBdHRyIHx8IFwibmFtZVwiXG5cdFx0XHR0aGlzLl9fcmVxdWVzdERvY3VtZW50SWQoZWxlbWVudCwgbmFtZUF0dHIsIHZhbHVlKTtcblx0XHR9XG5cdFx0XG5cdH0sXG5cdFxuXHRpbml0RWxlbWVudDogZnVuY3Rpb24oY29udGFpbmVyKSB7XG5cdFx0Y29uc3QgX19jb250YWluZXIgPSBjb250YWluZXIgfHwgZG9jdW1lbnRcblx0XHRcblx0XHRpZiAoIV9fY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0bGV0ICBmb3JtcyA9IF9fY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ2Zvcm0nKTtcblxuXHRcdGlmIChmb3Jtcy5sZW5ndGggPT09IDAgJiYgX19jb250YWluZXIgIT0gZG9jdW1lbnQgJiYgX19jb250YWluZXIudGFnTmFtZSA9PT0gXCJGT1JNXCIpIHtcblx0XHRcdGZvcm1zID0gW19fY29udGFpbmVyXTtcblx0XHR9XG5cdFx0XG5cdFx0Zm9ybXMuZm9yRWFjaCgoZm9ybSkgPT4ge1xuXHRcdFx0dXRpbHMuc2V0QXR0cmlidXRlKGZvcm0pXG5cdFx0XHR1dGlscy5kaXNhYmxlQXV0b0ZpbGwoZm9ybSk7XG5cdFx0fSlcblx0fSxcblx0XG5cdF9faW5pdDogZnVuY3Rpb24oKSB7XG5cdFx0Y29uc3QgZm9ybXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdmb3JtJyk7XG5cdFx0dGhpcy5fX2luaXRFdmVudCgpO1xuXG5cdFx0Zm9ybXMuZm9yRWFjaCgoZm9ybSkgPT4ge1xuXHRcdFx0dXRpbHMuc2V0QXR0cmlidXRlKGZvcm0pXG5cdFx0fSlcblx0XHRcblx0fSxcblx0XG5cdF9faW5pdEV2ZW50OiBmdW5jdGlvbigpIHtcblx0XHRjb25zdCBzZWxmID0gdGhpcztcblx0XHRzb2NrZXQubGlzdGVuKCdjcmVhdGVEb2N1bWVudCcsIGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdGNvbnN0IHttZXRhZGF0YX0gPSBkYXRhO1xuXHRcdFx0c2VsZi5fX3JlY2VpdmVkRG9jdW1lbnRJZChkYXRhKTtcblx0XHRcdGlmIChtZXRhZGF0YSA9PSBcImNyZWF0ZURvY3VtZW50LWFjdGlvblwiKSB7XG5cdFx0XHRcdC8vLiBkaXNwYXRjaCBFbmRBY3Rpb25cblx0XHRcdH1cblx0XHR9KVxuXHRcdFxuXHRcdHNvY2tldC5saXN0ZW4oJ2RlbGV0ZURvY3VtZW50JywgZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0Y29uc3Qge21ldGFkYXRhfSA9IGRhdGFcblx0XHRcdGlmIChtZXRhZGF0YSA9PT0gXCJkZWxldGVEb2N1bWVudC1hY3Rpb25cIikge1xuXHRcdFx0XHQvLy5kaXNwYXRjaCBFbmQgQWN0aW9uXG5cdFx0XHR9XG5cdFx0fSlcdFxuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrZWQtc3VibWl0QnRuJywgZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRcdGNvbnN0IHtlbGVtZW50fSA9IGV2ZW50LmRldGFpbDtcblxuXHRcdFx0c2VsZi5tb2R1bGVzLmZvckVhY2goKHtzZWxlY3RvciwgY2FsbGJhY2t9KSA9PiB7XG5cdFx0XHRcdGlmIChjYWxsYmFjayAmJiBlbGVtZW50Lm1hdGNoZXMoc2VsZWN0b3IpKSB7XG5cdFx0XHRcdFx0Y2FsbGJhY2suY2FsbChudWxsLCBlbGVtZW50KTtcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHR9KVxuXHR9LFxuXG5cdF9fZGVsZXRlRG9jdW1lbnRBY3Rpb246IGZ1bmN0aW9uKGJ0bikge1xuXHRcdGNvbnN0IGNvbGxlY3Rpb24gPSBidG4uZ2V0QXR0cmlidXRlKCdkYXRhLWNvbGxlY3Rpb24nKTtcblx0XHRjb25zdCBkb2N1bWVudF9pZCA9IGJ0bi5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKVxuXHRcdGlmIChjY3V0aWxzLmNoZWNrVmFsdWUoY29sbGVjdGlvbikgJiYgY2N1dGlscy5jaGVja1ZhbHVlKGRvY3VtZW50X2lkKSkge1xuXHRcdFx0Y3J1ZC5kZWxldGVEb2N1bWVudCh7XG5cdFx0XHRcdCdjb2xsZWN0aW9uJzogY29sbGVjdGlvbiwgXG5cdFx0XHRcdCdkb2N1bWVudF9pZCc6IGRvY3VtZW50X2lkLFxuXHRcdFx0XHQnbWV0YWRhdGEnOiAnZGVsZXRlRG9jdW1lbnQtYWN0aW9uJyBcblx0XHRcdH0pO1xuXHRcdFx0XG5cdFx0XHRkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnZGVsZXRlZERvY3VtZW50Jywge1xuXHRcdFx0XHRkZXRhaWw6IHt9XG5cdFx0XHR9KSlcblx0XHR9XG5cdH0sXG5cdFxuXHRfX2RlbGV0ZURvY3VtZW50c0FjdGlvbjogZnVuY3Rpb24oYnRuKSB7XG5cdFx0Y29uc3QgY29sbGVjdGlvbiA9IGJ0bi5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjdGlvbicpO1xuXHRcdGNvbnN0IHNlbGVjdG9yID0gYnRuLmdldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF90YXJnZXQnKTtcblx0XHRpZiAoIXNlbGVjdG9yKSByZXR1cm47XG5cdFx0XG5cdFx0Y29uc3Qgc2VsZWN0ZWRFbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKVxuXHRcdFxuXHRcdGlmICh1dGlscy5jaGVja1ZhbHVlKGNvbGxlY3Rpb24pKSB7XG5cdFx0XHRzZWxlY3RlZEVscy5mb3JFYWNoKChlbCkgPT4ge1xuXHRcdFx0XHRjb25zdCBkb2N1bWVudF9pZCA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcpO1xuXHRcdFx0XHRpZiAoY2N1dGlscy5jaGVja1ZhbHVlKGRvY3VtZW50X2lkKSkge1xuXHRcdFx0XHRcdGNydWQuZGVsZXRlRG9jdW1lbnQoe1xuXHRcdFx0XHRcdFx0J2NvbGxlY3Rpb24nOiBjb2xsZWN0aW9uLFxuXHRcdFx0XHRcdFx0J2RvY3VtZW50X2lkJzogZG9jdW1lbnRfaWQsXG5cdFx0XHRcdFx0XHQnbWV0YWRhdGEnOiAnJ1xuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0XHRcblx0XHRcdGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdkZWxldGVkRG9jdW1lbnRzJywge1xuXHRcdFx0XHRkZXRhaWw6IHt9XG5cdFx0XHR9KSlcblx0XHR9XG5cdH0sXG5cdFxuXHRfX2NyZWF0ZURvY3VtZW50QWN0aW9uOiBmdW5jdGlvbihidG4pIHtcblx0XHRjb25zdCBmb3JtID0gYnRuLmNsb3Nlc3QoXCJmb3JtXCIpXG5cdFx0Y29uc3Qgc2VsZiA9IHRoaXM7XG5cdFx0bGV0IGNvbGxlY3Rpb25zID0gdXRpbHMuZ2V0Q09sbGVjdGlvbnMoZm9ybSlcblx0XHRcblx0XHRjb2xsZWN0aW9ucy5mb3JFYWNoKChjb2xsZWN0aW9uKSA9PiB7XG5cdFx0XHRsZXQgZGF0YSA9IHV0aWxzLmdldEZvcm1EYXRhKGZvcm0sIFwiXCIsIGNvbGxlY3Rpb24pO1xuXHRcdFx0XG5cdFx0XHRpZiAoT2JqZWN0LmtleXMoZGF0YSkubGVuZ3RoID09IDAgJiYgZGF0YS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGlmIChjY3V0aWxzLmNoZWNrVmFsdWUoY29sbGVjdGlvbikpIHtcblx0XHRcdFx0Y3J1ZC5jcmVhdGVEb2N1bWVudCh7XG5cdFx0XHRcdFx0J2NvbGxlY3Rpb24nOiBjb2xsZWN0aW9uLFxuXHRcdFx0XHRcdCdkYXRhJzogZGF0YSxcblx0XHRcdFx0XHQnbWV0YWRhdGEnOiAnY3JlYXRlRG9jdW1lbnQtYWN0aW9uJyAsXG5cdFx0XHRcdFx0J2VsZW1lbnQnOidlbXB0eSdcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdjcmVhdGVkRG9jdW1lbnQnLCB7XG5cdFx0XHRcdFx0ZGV0YWlsOiB7fVxuXHRcdFx0XHR9KSlcblx0XHRcdH1cblx0XHR9KVxuXHR9LFxuXHRcblx0X19zYXZlRG9jdW1lbnRBY3Rpb246IGZ1bmN0aW9uKGJ0bikge1xuXHRcdGNvbnN0IGZvcm0gPSBidG4uY2xvc2VzdChcImZvcm1cIilcblxuXHRcdGlmICghdXRpbHMuY2hlY2tGb3JtVmFsaWRhdGUoZm9ybSkpIHtcblx0XHRcdGFsZXJ0KCdWYWx1ZXMgYXJlIG5vdCB1bmlxdWUnKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0XG5cdFx0Y29uc3Qgc2VsZWN0b3JzID0gdGhpcy5zZWxlY3RvcnMgfHwgW107XG5cdFx0Y29uc3QgZWxlbWVudHMgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3JzLmpvaW4oJywnKSk7XG5cdFx0XG5cdFx0bGV0IHJlcXVlc3RfZG9jdW1lbnRfaWQgPSBmYWxzZTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRsZXQgZWwgPSBlbGVtZW50c1tpXTtcblx0XHRcdGNvbnN0IGRhdGFfZG9jdW1lbnRfaWQgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKTtcblxuXHRcdFx0aWYgKGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zYXZlX3ZhbHVlJykgPT0gJ2ZhbHNlJykge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCFkYXRhX2RvY3VtZW50X2lkKSB7XG5cdFx0XHRcdGlmIChlbC5nZXRBdHRyaWJ1dGUoJ25hbWUnKSkge1xuXHRcdFx0XHRcdHJlcXVlc3RfZG9jdW1lbnRfaWQgPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRpZiAoaW5wdXQuaXNVc2FnZVkoZWwpKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodXRpbHMuaXNUZW1wbGF0ZUlucHV0KGVsKSkgcmV0dXJuO1xuXG5cdFx0XHR2YXIgbmV3X2V2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFwiY2xpY2tlZC1zdWJtaXRCdG5cIiwge1xuXHRcdFx0XHRidWJibGVzOiB0cnVlLFxuXHRcdFx0XHRkZXRhaWw6IHsgXG5cdFx0XHRcdFx0dHlwZTogXCJzdWJtaXRCdG5cIiwgXG5cdFx0XHRcdFx0ZWxlbWVudDogZWwgXG5cdFx0XHRcdH19KTtcblx0XHRcdGVsLmRpc3BhdGNoRXZlbnQobmV3X2V2ZW50KTsgIFxuXHRcdH1cblx0XHRpZiAocmVxdWVzdF9kb2N1bWVudF9pZCkge1xuXHRcdFx0dGhpcy5yZXF1ZXN0RG9jdW1lbnRJZE9mRm9ybShmb3JtKVxuXHRcdH1cblx0XHRcblx0XHRkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnc2F2ZWREb2N1bWVudCcsIHtcblx0XHRcdGRldGFpbDoge31cblx0XHR9KSlcblx0fSxcblx0XG5cdF9fcmVxdWVzdERvY3VtZW50SWQ6IGZ1bmN0aW9uKGVsZW1lbnQsIG5hbWVBdHRyID0gXCJuYW1lXCIsIHZhbHVlID0gbnVsbCkge1xuXHRcdGNvbnN0IGNvbGxlY3Rpb24gPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2xsZWN0aW9uJylcblx0XHRjb25zdCBuYW1lID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUobmFtZUF0dHIpXG5cdFx0XG5cdFx0aWYgKCFjb2xsZWN0aW9uIHx8ICFuYW1lKSByZXR1cm4gXG5cblx0XHRjb25zdCByZXF1ZXN0X2lkID0gY2N1dGlscy5nZW5lcmF0ZVVVSUQoKTtcblxuXHRcdGVsZW1lbnQuc2V0QXR0cmlidXRlKHRoaXMucmVxdWVzdEF0dHIsIHJlcXVlc3RfaWQpO1xuXHRcdFxuXHRcdGNydWQuY3JlYXRlRG9jdW1lbnQoe1xuXHRcdFx0XCJjb2xsZWN0aW9uXCI6IGNvbGxlY3Rpb24sXG5cdFx0XHRcImVsZW1lbnRcIjogcmVxdWVzdF9pZCxcblx0XHRcdFwibWV0YWRhdGFcIjogXCJcIixcblx0XHR9KVxuXHR9LFxuXHRcdFxuXHRfX3JlcXVlc3REb2N1bWVudElkT2ZGb3JtOiBmdW5jdGlvbiAoZm9ybSkge1xuXHRcdFxuXHRcdGxldCBzZWxmID0gdGhpcztcblx0XHRsZXQgZWxlbWVucyA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnW25hbWVdLCBbZGF0YS1wYXNzX3RvXScpXG5cdFx0XG5cdFx0bGV0IGNvbGxlY3Rpb25zID0gW107XG5cblx0XHRmb3IgKHZhciAgaSA9IDA7IGkgPCBlbGVtZW5zLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRsZXQgZWwgPSBlbGVtZW5zW2ldO1xuXHRcdFx0aWYgKGVsLnBhcmVudE5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCd0ZW1wbGF0ZScpKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3QgY29sbGVjdGlvbiA9IGVsLmdldEF0dHJpYnV0ZShcImRhdGEtY29sbGVjdGlvblwiKSB8fCBlbC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBhc3NfY29sbGVjdGlvblwiKSB8fCBcIlwiO1x0XG5cdFx0XHRcblx0XHRcdGlmIChcblx0XHRcdFx0Y29sbGVjdGlvbiAhPT0gXCJcIiAmJiBcblx0XHRcdFx0IWNvbGxlY3Rpb25zLmluY2x1ZGVzKGNvbGxlY3Rpb24pICYmIFxuXHRcdFx0XHQoIXNlbGYuY2hlY2tJRChlbCwgJ2RhdGEtZG9jdW1lbnRfaWQnKSAmJiAhc2VsZi5jaGVja0lEKGVsLCAnZGF0YS1wYXNzX2RvY3VtZW50X2lkJykpXG5cdFx0XHQpIHtcblx0XHRcdFx0Y29uc3QgcmVxdWVzdF9pZCA9IGNjdXRpbHMuZ2VuZXJhdGVVVUlEKCk7XG5cdFx0XHRcdGNvbGxlY3Rpb25zLnB1c2goY29sbGVjdGlvbik7XG5cblx0XHRcdFx0ZWwuc2V0QXR0cmlidXRlKHRoaXMucmVxdWVzdEF0dHIsIHJlcXVlc3RfaWQpO1xuXHRcdFx0XHQvLy4gZ2V0IERhdGFcblx0XHRcdFx0XG5cdFx0XHRcdGxldCBkYXRhID0gdXRpbHMuZ2V0Rm9ybURhdGEoZm9ybSwgXCJcIiwgY29sbGVjdGlvbik7XG5cdFx0XHRcdFxuXHRcdFx0XHQvKiBGaXhNRSBDcmVhdGUgRG9jdW1lbnQgcmVxdWVzdCAqL1x0XG5cdFx0XHRcdGNydWQuY3JlYXRlRG9jdW1lbnQoe1xuXHRcdFx0XHRcdFwiY29sbGVjdGlvblwiOiBjb2xsZWN0aW9uLFxuXHRcdFx0XHRcdFwiZWxlbWVudFwiOiByZXF1ZXN0X2lkLFxuXHRcdFx0XHRcdCdkYXRhJzogZGF0YSxcblx0XHRcdFx0XHRcIm1ldGFkYXRhXCI6IFwiXCIsXG5cdFx0XHRcdH0pXG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdF9fc2V0TmV3SWRQcm9jZXNzOiBmdW5jdGlvbihlbGVtZW50LCBkb2N1bWVudF9pZCwgcGFzcykge1xuXHRcdGlmICghZWxlbWVudCkgcmV0dXJuO1xuXHRcdFxuICBcdFx0ZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUodGhpcy5yZXF1ZXN0QXR0cik7XG5cdFx0Y29uc3QgZXZlbnRfZGF0YSA9IHtcblx0XHRcdGRvY3VtZW50X2lkOiBkb2N1bWVudF9pZCxcblx0XHR9XG5cblx0XHRpZiAoIXBhc3MgJiYgIXRoaXMuY2hlY2tJRChlbGVtZW50KSAmJiBlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnbmFtZScpKSB7XG5cdFx0XHRlbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcsIGRvY3VtZW50X2lkKTtcblx0ICBcdH1cblxuXHQgIFx0aWYgKHBhc3MgJiYgIXRoaXMuY2hlY2tJRChlbGVtZW50LCAnZGF0YS1wYXNzX2RvY3VtZW50X2lkJykgJiYgZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2RhdGEtcGFzc190bycpKSB7XG5cdFx0XHRlbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1wYXNzX2RvY3VtZW50X2lkJywgZG9jdW1lbnRfaWQpO1xuXHRcdFx0Ly8gQ29DcmVhdGVMb2dpYy5zdG9yZVBhc3NEYXRhKGVsZW1lbnQpXG5cdFx0XHRcblx0XHRcdGlmIChlbGVtZW50LnBhcmVudE5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdWJtaXRCdG4nKSkge1xuXHRcdFx0XHRlbGVtZW50LmNsaWNrKCk7XG5cdFx0XHR9XG5cdCAgXHR9XG4gIFx0XG5cdFx0dmFyIGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdzZXQtZG9jdW1lbnRfaWQnLCB7ZGV0YWlsOiBldmVudF9kYXRhfSlcblx0XHRlbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXG5cdH0sXG5cdFxuXHRfX3JlY2VpdmVkRG9jdW1lbnRJZDogZnVuY3Rpb24oZGF0YSkge1xuXHRcdGlmICghZGF0YVsnZG9jdW1lbnRfaWQnXSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGxldCBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgWyR7dGhpcy5yZXF1ZXN0QXR0cn09XCIke2RhdGFbJ2VsZW1lbnQnXX1cIl1gKTtcblx0XHRpZiAoIWVsZW1lbnQpIHJldHVybjtcblx0XHRsZXQgc2VsZiA9IHRoaXM7XG5cdFx0Y29uc3QgZm9ybSA9IChlbGVtZW50LnRhZ05hbWUgPT09IFwiRk9STVwiKSA/IGVsZW1lbnQgOiB1dGlscy5nZXRQYXJlbnRzKGVsZW1lbnQsICdmb3JtJyk7XG5cdFx0Y29uc3QgY29sbGVjdGlvbiA9IGRhdGFbJ2NvbGxlY3Rpb24nXTtcblx0XHRjb25zdCBpZCA9IGRhdGFbJ2RvY3VtZW50X2lkJ11cblx0XHRpZiAoZm9ybSAmJiBpZCkge1xuXHRcdFx0Zm9ybS5zZXRBdHRyaWJ1dGUoJ2RhdGEtZm9ybV9pZCcsIGRhdGFbJ2VsZW1lbnQnXSk7XG5cdFx0XHRjb25zdCBlbGVtZW50cyA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbChgW2RhdGEtY29sbGVjdGlvbj0ke2NvbGxlY3Rpb259XSwgW2RhdGEtcGFzc19jb2xsZWN0aW9uPSR7Y29sbGVjdGlvbn1dYClcblx0XHRcdGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24oZWwpIHtcblx0XHRcdFx0ZWwucmVtb3ZlQXR0cmlidXRlKHNlbGYucmVxdWVzdEF0dHIpO1xuXHRcdFx0XHRpZiAoZWwuaGFzQXR0cmlidXRlKCduYW1lJykpIHNlbGYuX19zZXROZXdJZFByb2Nlc3MoZWwsIGlkKTtcblx0XHRcdFx0aWYgKGVsLmhhc0F0dHJpYnV0ZSgnZGF0YS1wYXNzX3RvJykpIHNlbGYuX19zZXROZXdJZFByb2Nlc3MoZWwsIGlkLCB0cnVlKTtcblx0XHRcdH0pXG5cdCAgXHRcblx0XHR9IGVsc2UgaWYgKGVsZW1lbnQpIHtcblx0XHRcdHRoaXMuX19zZXROZXdJZFByb2Nlc3MoZWxlbWVudCwgaWQpO1xuXHRcdH1cblx0fSxcbn1cblxuQ29DcmVhdGVGb3JtLl9faW5pdCgpO1xuY29yZS5yZWdpc3RlckluaXQoQ29DcmVhdGVGb3JtLmluaXRFbGVtZW50LCBDb0NyZWF0ZUZvcm0pO1xuXG5vYnNlcnZlci5pbml0KHsgXG5cdG5hbWU6ICdDb0NyZWF0ZUZvcm0nLCBcblx0b2JzZXJ2ZTogWydzdWJ0cmVlJywgJ2NoaWxkTGlzdCddLFxuXHRpbmNsdWRlOiAnZm9ybScsIFxuXHRjYWxsYmFjazogZnVuY3Rpb24obXV0YXRpb24pIHtcblx0XHRDb0NyZWF0ZUZvcm0uaW5pdEVsZW1lbnQobXV0YXRpb24udGFyZ2V0KVxuXHR9XG59KVxuXG5hY3Rpb24uaW5pdCh7XG5cdGFjdGlvbjogXCJjcmVhdGVEb2N1bWVudFwiLFxuXHRlbmRFdmVudDogXCJjcmVhdGVkRG9jdW1lbnRcIixcblx0Y2FsbGJhY2s6IChidG4sIGRhdGEpID0+IHtcblx0XHRDb0NyZWF0ZUZvcm0uX19jcmVhdGVEb2N1bWVudEFjdGlvbihidG4pXG5cdH0sXG59KVxuXG5hY3Rpb24uaW5pdCh7XG5cdGFjdGlvbjogXCJkZWxldGVEb2N1bWVudFwiLFxuXHRlbmRFdmVudDogXCJkZWxldGVkRG9jdW1lbnRcIixcblx0Y2FsbGJhY2s6IChidG4sIGRhdGEpID0+IHtcblx0XHRDb0NyZWF0ZUZvcm0uX19kZWxldGVEb2N1bWVudEFjdGlvbihidG4pXG5cdH0sXG59KVxuXG5hY3Rpb24uaW5pdCh7XG5cdGFjdGlvbjogXCJkZWxldGVEb2N1bWVudHNcIixcblx0ZW5kRXZlbnQ6IFwiZGVsZXRlZERvY3VtZW50c1wiLFxuXHRjYWxsYmFjazogKGJ0biwgZGF0YSkgPT4ge1xuXHRcdENvQ3JlYXRlRG9jdW1lbnQuX19kZWxldGVEb2N1bWVudHNBY3Rpb24oYnRuKVxuXHR9LFxufSlcblxuYWN0aW9uLmluaXQoe1xuXHRhY3Rpb246IFwic2F2ZURvY3VtZW50XCIsXG5cdGVuZEV2ZW50OiBcInNhdmVkRG9jdW1lbnRcIixcblx0Y2FsbGJhY2s6IChidG4sIGRhdGEpID0+IHtcblx0XHRDb0NyZWF0ZUZvcm0uX19zYXZlRG9jdW1lbnRBY3Rpb24oYnRuKVxuXHR9LFxufSlcblxuZXhwb3J0IGRlZmF1bHQgQ29DcmVhdGVGb3JtOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../CoCreate-components/CoCreate-form/src/index.js\n")},"../../CoCreate-components/CoCreate-form/src/utils.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nconst Utils = {\n  disableAutoFill: function (element) {\n    if (element.tagName == \"TEXTAREA\") {\n      element.value = \"\";\n      element.setAttribute(\"autocomplete\", \"off\");\n    }\n\n    if (!element.hasAttribute(\"autocomplete\")) {\n      element.setAttribute('autocomplete', \"off\");\n    }\n  },\n  setAttribute: function (form) {\n    const collection = form.getAttribute('data-collection') || \"\";\n    const dataRealTime = form.getAttribute('data-realtime');\n    const document_id = form.getAttribute('data-document_id') || \"\";\n    let elements = form.querySelectorAll('[name], [data-pass_to]');\n    elements.forEach(function (el) {\n      if (el.parentNode.classList.contains('template')) {\n        return;\n      }\n\n      if (el.getAttribute('data-realtime') == null && dataRealTime) {\n        // if (!['INPUT', 'TEXTAREA'].indexOf(el.tagName)) {\n        el.setAttribute('data-realtime', dataRealTime); // }\n      }\n\n      if (el.getAttribute('name') && !el.hasAttribute('data-collection') && collection) {\n        el.setAttribute('data-collection', collection);\n      }\n\n      if (el.getAttribute('data-pass_to') && !el.hasAttribute('data-pass_collection') && collection) {\n        el.setAttribute('data-pass_collection', collection);\n      }\n\n      if (el.getAttribute('name') && !el.getAttribute('data-document_id') && document_id) {\n        el.setAttribute('data-document_id', document_id);\n      }\n\n      if (!el.hasAttribute(\"data-document_id\") && document_id != null) {\n        el.setAttribute('data-document_id', document_id);\n      }\n    });\n  },\n  checkFormValidate: function (form) {\n    if (typeof CoCreate.unique !== 'undefined') {\n      return CoCreate.unique.checkValidate(form);\n    }\n\n    return true;\n  },\n  isTemplateInput: function (input) {\n    if (input.classList.contains('template')) return true;\n    let node = input.parentNode;\n\n    while (node) {\n      if (node.classList && node.classList.contains('template')) {\n        return true;\n      }\n\n      node = node.parentNode;\n    }\n\n    return false;\n  },\n  getFormData: function (form, document_id, collection) {\n    let data = {};\n    if (!collection) return {};\n    const elements = form.querySelectorAll(`[name][data-collection='${collection}']`);\n    elements.forEach(el => {\n      let el_document_id = el.getAttribute('data-document_id') || \"\";\n      let name = el.getAttribute('name');\n      let value = el.value || el.getAttribute('value');\n      if (name === \"_id\") return;\n      if (!name || !value) return;\n\n      if (document_id == el_document_id) {\n        data[name] = el.value;\n      }\n    });\n    return data;\n  },\n  // getFormData: function(form, selectors) {\n  // \tconst self = this; \n  // \tconst elements = form.querySelectorAll(selectors.join(','));\n  // \tlet request_document_id = false;\n  // \tlet dataList = [];\n  // \telements.forEach(el => {\n  // \t\tlet collection = el.getAttribute('data-collection')\n  // \t\tlet document_id = el.getAttribute('data-document_id')\n  // \t\tlet name = el.getAttribute('name')\n  // \t\tif (el.getAttribute('data-save_value') == 'false') {\n  // \t\t\treturn;\n  // \t\t}\n  // \t\tif (!document_id && name) {\n  // \t\t\trequest_document_id = true;\n  // \t\t\treturn;\n  // \t\t}\n  // \t\tlet data = dataList.find(d => d.collection == collection && d.document_id == document_id);\n  // \t})\n  // },\n  getParents: function (element, selector = \"form\") {\n    if (!Element.prototype.matches) {\n      Element.prototype.matches = Element.prototype.matchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.webkitMatchesSelector || function (s) {\n        var matches = (this.document || this.ownerDocument).querySelectorAll(s),\n            i = matches.length;\n\n        while (--i >= 0 && matches.item(i) !== this) {}\n\n        return i > -1;\n      };\n    }\n\n    for (; element && element !== document; element = element.parentNode) {\n      if (element.matches(selector)) return element;\n    }\n\n    return null;\n  },\n  setDocumentIDOfElement: function (element, document_id) {\n    let old_document_id = element.getAttribute('data-document_id');\n\n    if (!old_document_id || old_document_id == \"\" || old_document_id == \"pending\") {\n      element.setAttribute('data-document_id', document_id);\n    }\n  },\n  getCOllections: function (form) {\n    let collections = [];\n    if (!form) return collections;\n    let els = form.querySelectorAll('[name][data-collection]');\n    els.forEach(el => {\n      let tmpCollection = el.getAttribute('data-collection');\n\n      if (tmpCollection && !collections.includes(tmpCollection)) {\n        collections.push(tmpCollection);\n      }\n    });\n    return collections;\n  }\n};\nvar _default = Utils;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5xdWlsbC8vaG9tZS91YnVudHUvZW52aXJvbm1lbnQvcHVibGljL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtZm9ybS9zcmMvdXRpbHMuanM/OTlmNSJdLCJuYW1lcyI6WyJVdGlscyIsImRpc2FibGVBdXRvRmlsbCIsImVsZW1lbnQiLCJ0YWdOYW1lIiwidmFsdWUiLCJzZXRBdHRyaWJ1dGUiLCJoYXNBdHRyaWJ1dGUiLCJmb3JtIiwiY29sbGVjdGlvbiIsImdldEF0dHJpYnV0ZSIsImRhdGFSZWFsVGltZSIsImRvY3VtZW50X2lkIiwiZWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImVsIiwicGFyZW50Tm9kZSIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiY2hlY2tGb3JtVmFsaWRhdGUiLCJDb0NyZWF0ZSIsInVuaXF1ZSIsImNoZWNrVmFsaWRhdGUiLCJpc1RlbXBsYXRlSW5wdXQiLCJpbnB1dCIsIm5vZGUiLCJnZXRGb3JtRGF0YSIsImRhdGEiLCJlbF9kb2N1bWVudF9pZCIsIm5hbWUiLCJnZXRQYXJlbnRzIiwic2VsZWN0b3IiLCJFbGVtZW50IiwicHJvdG90eXBlIiwibWF0Y2hlcyIsIm1hdGNoZXNTZWxlY3RvciIsIm1vek1hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwib01hdGNoZXNTZWxlY3RvciIsIndlYmtpdE1hdGNoZXNTZWxlY3RvciIsInMiLCJkb2N1bWVudCIsIm93bmVyRG9jdW1lbnQiLCJpIiwibGVuZ3RoIiwiaXRlbSIsInNldERvY3VtZW50SURPZkVsZW1lbnQiLCJvbGRfZG9jdW1lbnRfaWQiLCJnZXRDT2xsZWN0aW9ucyIsImNvbGxlY3Rpb25zIiwiZWxzIiwidG1wQ29sbGVjdGlvbiIsImluY2x1ZGVzIiwicHVzaCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0EsTUFBTUEsS0FBSyxHQUFHO0FBRWJDLGlCQUFlLEVBQUUsVUFBU0MsT0FBVCxF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QUF0Qjs7QUFDQSxRQUFJLENBQUNzQyxlQUFELElBQW9CQSxlQUFlLElBQUksRUFBdkMsSUFBNkNBLGVBQWUsSUFBSSxTQUFwRSxFQUErRTtBQUM5RTdDLGFBQU8sQ0FBQ0csWUFBUixDQUFxQixrQkFBckIsRUFBeUNNLFdBQXpDO0FBQ0E7QUFDRCxHQXhJWTtBQTBJYnFDLGdCQUFjLEVBQUUsVUFBU3pDLElBQVQsRUFBZTtBQUM5QixRQUFJMEMsV0FBVyxHQUFHLEVBQWxCO0FBQ0EsUUFBSSxDQUFDMUMsSUFBTCxFQUFXLE9BQU8wQyxXQUFQO0FBRVgsUUFBSUMsR0FBRyxHQUFHM0MsSUFBSSxDQUFDTSxnQkFBTCxDQUFzQix5QkFBdEIsQ0FBVjtBQUNBcUMsT0FBRyxDQUFDcEMsT0FBSixDQUFhQyxFQUFELElBQVE7QUFDbkIsVUFBSW9DLGFBQWEsR0FBR3BDLEVBQUUsQ0FBQ04sWUFBSCxDQUFnQixpQkFBaEIsQ0FBcEI7O0FBQ0EsVUFBSTBDLGFBQWEsSUFBSSxDQUFDRixXQUFXLENBQUNHLFFBQVosQ0FBcUJELGFBQXJCLENBQXRCLEVBQTJEO0FBQzFERixtQkFBVyxDQUFDSSxJQUFaLENBQWlCRixhQUFqQjtBQUNBO0FBQ0QsS0FMRDtBQU1BLFdBQU9GLFdBQVA7QUFDQTtBQXRKWSxDQUFkO2VBeUplakQsSyIsImZpbGUiOiIuLi8uLi9Db0NyZWF0ZS1jb21wb25lbnRzL0NvQ3JlYXRlLWZvcm0vc3JjL3V0aWxzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5jb25zdCBVdGlscyA9IHtcblxuXHRkaXNhYmxlQXV0b0ZpbGw6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcblx0XHRpZiAoZWxlbWVudC50YWdOYW1lID09IFwiVEVYVEFSRUFcIikge1xuXHRcdFx0ZWxlbWVudC52YWx1ZSA9IFwiXCI7XG5cdFx0XHRlbGVtZW50LnNldEF0dHJpYnV0ZShcImF1dG9jb21wbGV0ZVwiLFwib2ZmXCIpXG5cdFx0fVxuXHRcdGlmICghZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJhdXRvY29tcGxldGVcIikpIHtcblx0XHRcdGVsZW1lbnQuc2V0QXR0cmlidXRlKCdhdXRvY29tcGxldGUnLCBcIm9mZlwiKTtcblx0XHR9XG5cdH0sXG5cblx0c2V0QXR0cmlidXRlOiBmdW5jdGlvbihmb3JtKSB7XG5cdFx0XG5cdFx0Y29uc3QgY29sbGVjdGlvbiA9IGZvcm0uZ2V0QXR0cmlidXRlKCdkYXRhLWNvbGxlY3Rpb24nKSB8fCBcIlwiOyBcblx0XHRjb25zdCBkYXRhUmVhbFRpbWUgPSBmb3JtLmdldEF0dHJpYnV0ZSgnZGF0YS1yZWFsdGltZScpO1xuXHRcdGNvbnN0IGRvY3VtZW50X2lkID0gZm9ybS5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKSB8fCBcIlwiO1xuXHRcdGxldCBlbGVtZW50cyA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnW25hbWVdLCBbZGF0YS1wYXNzX3RvXScpXG5cdFx0XG5cdFx0XHRcdFx0XG5cdFx0ZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbihlbCkge1xuXHRcdFx0aWYgKGVsLnBhcmVudE5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCd0ZW1wbGF0ZScpKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGlmIChlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcmVhbHRpbWUnKSA9PSBudWxsICYmIGRhdGFSZWFsVGltZSkge1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gaWYgKCFbJ0lOUFVUJywgJ1RFWFRBUkVBJ10uaW5kZXhPZihlbC50YWdOYW1lKSkge1xuXHRcdFx0XHRlbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtcmVhbHRpbWUnLCBkYXRhUmVhbFRpbWUpO1xuXHRcdFx0XHQvLyB9XG5cdFx0XHR9XG5cdFx0XHRpZiAoZWwuZ2V0QXR0cmlidXRlKCduYW1lJykgJiYgIWVsLmhhc0F0dHJpYnV0ZSgnZGF0YS1jb2xsZWN0aW9uJykgJiYgY29sbGVjdGlvbikge1xuXHRcdFx0XHRlbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjdGlvbicsIGNvbGxlY3Rpb24pO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRpZiAoZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXBhc3NfdG8nKSAmJiAhZWwuaGFzQXR0cmlidXRlKCdkYXRhLXBhc3NfY29sbGVjdGlvbicpICYmICBjb2xsZWN0aW9uKSB7XG5cdFx0XHRcdGVsLnNldEF0dHJpYnV0ZSgnZGF0YS1wYXNzX2NvbGxlY3Rpb24nLCBjb2xsZWN0aW9uKTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0aWYgKGVsLmdldEF0dHJpYnV0ZSgnbmFtZScpICYmICFlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKSAmJiBkb2N1bWVudF9pZCkge1xuXHRcdFx0XHRlbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnLCBkb2N1bWVudF9pZClcblx0XHRcdH1cblx0XHRcdGlmICghZWwuaGFzQXR0cmlidXRlKFwiZGF0YS1kb2N1bWVudF9pZFwiKSAmJiBkb2N1bWVudF9pZCAhPSBudWxsKSB7XG5cdFx0XHRcdGVsLnNldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcsIGRvY3VtZW50X2lkKVxuXHRcdFx0fVxuXG5cdFx0fSlcblx0fSxcblxuXHRjaGVja0Zvcm1WYWxpZGF0ZTogZnVuY3Rpb24oZm9ybSkge1xuXHRcdFxuXHRcdGlmICh0eXBlb2YgQ29DcmVhdGUudW5pcXVlICE9PSAndW5kZWZpbmVkJykge1xuXHRcdFx0cmV0dXJuIENvQ3JlYXRlLnVuaXF1ZS5jaGVja1ZhbGlkYXRlKGZvcm0pXG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXHRcblx0aXNUZW1wbGF0ZUlucHV0OiBmdW5jdGlvbiAoaW5wdXQpIHtcblx0XHRpZiAoaW5wdXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd0ZW1wbGF0ZScpKSByZXR1cm4gdHJ1ZTtcblx0XHRcblx0XHRsZXQgbm9kZSA9IGlucHV0LnBhcmVudE5vZGU7XG5cdFx0d2hpbGUgKG5vZGUpIHtcblx0XHRcdGlmIChub2RlLmNsYXNzTGlzdCAmJiBub2RlLmNsYXNzTGlzdC5jb250YWlucygndGVtcGxhdGUnKSkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG5cdFx0fVxuXHRcdFxuXHRcdHJldHVybiBmYWxzZTtcblx0fSxcblx0XG5cdGdldEZvcm1EYXRhOiBmdW5jdGlvbihmb3JtLCBkb2N1bWVudF9pZCwgY29sbGVjdGlvbikge1xuXHRcdGxldCBkYXRhID0ge307XG5cdFx0aWYgKCFjb2xsZWN0aW9uKSByZXR1cm4ge31cblx0XHRcblx0XHRjb25zdCBlbGVtZW50cyA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbChgW25hbWVdW2RhdGEtY29sbGVjdGlvbj0nJHtjb2xsZWN0aW9ufSddYClcblx0XHRlbGVtZW50cy5mb3JFYWNoKChlbCkgPT4ge1xuXHRcdFx0bGV0IGVsX2RvY3VtZW50X2lkID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJykgfHwgXCJcIlxuXHRcdFx0bGV0IG5hbWUgPSBlbC5nZXRBdHRyaWJ1dGUoJ25hbWUnKVxuXHRcdFx0bGV0IHZhbHVlID0gZWwudmFsdWUgfHwgZWwuZ2V0QXR0cmlidXRlKCd2YWx1ZScpXG5cdFx0XHRpZiAobmFtZSA9PT0gXCJfaWRcIikgcmV0dXJuO1xuXHRcdFx0aWYgKCFuYW1lIHx8ICF2YWx1ZSkgcmV0dXJuO1xuXHRcdFx0aWYgKGRvY3VtZW50X2lkID09IGVsX2RvY3VtZW50X2lkKSB7XG5cdFx0XHRcdGRhdGFbbmFtZV0gPSBlbC52YWx1ZVxuXHRcdFx0fVxuXHRcdH0pXG5cdFx0cmV0dXJuIGRhdGE7XG5cdH0sXG5cdC8vIGdldEZvcm1EYXRhOiBmdW5jdGlvbihmb3JtLCBzZWxlY3RvcnMpIHtcblx0Ly8gXHRjb25zdCBzZWxmID0gdGhpczsgXG5cdC8vIFx0Y29uc3QgZWxlbWVudHMgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3JzLmpvaW4oJywnKSk7XG5cdFx0XG5cdC8vIFx0bGV0IHJlcXVlc3RfZG9jdW1lbnRfaWQgPSBmYWxzZTtcblx0Ly8gXHRsZXQgZGF0YUxpc3QgPSBbXTtcblx0XHRcblx0XHRcblx0Ly8gXHRlbGVtZW50cy5mb3JFYWNoKGVsID0+IHtcblx0Ly8gXHRcdGxldCBjb2xsZWN0aW9uID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbGxlY3Rpb24nKVxuXHQvLyBcdFx0bGV0IGRvY3VtZW50X2lkID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJylcblx0Ly8gXHRcdGxldCBuYW1lID0gZWwuZ2V0QXR0cmlidXRlKCduYW1lJylcblx0XHRcdFxuXHQvLyBcdFx0aWYgKGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zYXZlX3ZhbHVlJykgPT0gJ2ZhbHNlJykge1xuXHQvLyBcdFx0XHRyZXR1cm47XG5cdC8vIFx0XHR9XG5cdFx0XHRcblx0Ly8gXHRcdGlmICghZG9jdW1lbnRfaWQgJiYgbmFtZSkge1xuXHQvLyBcdFx0XHRyZXF1ZXN0X2RvY3VtZW50X2lkID0gdHJ1ZTtcblx0Ly8gXHRcdFx0cmV0dXJuO1xuXHQvLyBcdFx0fVxuXHRcdFx0XG5cdC8vIFx0XHRsZXQgZGF0YSA9IGRhdGFMaXN0LmZpbmQoZCA9PiBkLmNvbGxlY3Rpb24gPT0gY29sbGVjdGlvbiAmJiBkLmRvY3VtZW50X2lkID09IGRvY3VtZW50X2lkKTtcblx0XHRcdFx0XG5cdC8vIFx0fSlcblx0Ly8gfSxcblx0XG5cdGdldFBhcmVudHM6IGZ1bmN0aW9uKGVsZW1lbnQsIHNlbGVjdG9yID0gXCJmb3JtXCIpIHtcblx0XHRpZiAoIUVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMpIHtcblx0XHRcdEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMgPVx0RWxlbWVudC5wcm90b3R5cGUubWF0Y2hlc1NlbGVjdG9yIHx8IEVsZW1lbnQucHJvdG90eXBlLm1vek1hdGNoZXNTZWxlY3RvciB8fCBFbGVtZW50LnByb3RvdHlwZS5tc01hdGNoZXNTZWxlY3RvciB8fFx0RWxlbWVudC5wcm90b3R5cGUub01hdGNoZXNTZWxlY3RvciB8fFx0RWxlbWVudC5wcm90b3R5cGUud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8XG5cdFx0XHRcblx0XHRcdGZ1bmN0aW9uKHMpIHtcblx0XHRcdFx0dmFyIG1hdGNoZXMgPSAodGhpcy5kb2N1bWVudCB8fCB0aGlzLm93bmVyRG9jdW1lbnQpLnF1ZXJ5U2VsZWN0b3JBbGwocyksIGkgPSBtYXRjaGVzLmxlbmd0aDtcblx0XHRcdFx0d2hpbGUgKC0taSA+PSAwICYmIG1hdGNoZXMuaXRlbShpKSAhPT0gdGhpcykge31cblx0XHRcdFx0cmV0dXJuIGkgPiAtMTtcblx0XHRcdH07XG5cdFx0fVxuXHRcdFxuXHRcdGZvciAoIDsgZWxlbWVudCAmJiBlbGVtZW50ICE9PSBkb2N1bWVudDsgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZSApIHtcblx0XHRcdGlmICggZWxlbWVudC5tYXRjaGVzKCBzZWxlY3RvciApICkgcmV0dXJuIGVsZW1lbnQ7XG5cdFx0fVxuXHRcdHJldHVybiBudWxsO1xuXHR9LFxuXHRcblx0c2V0RG9jdW1lbnRJRE9mRWxlbWVudDogZnVuY3Rpb24oZWxlbWVudCwgZG9jdW1lbnRfaWQpIHtcblx0XHRsZXQgb2xkX2RvY3VtZW50X2lkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKTtcblx0XHRpZiAoIW9sZF9kb2N1bWVudF9pZCB8fCBvbGRfZG9jdW1lbnRfaWQgPT0gXCJcIiB8fCBvbGRfZG9jdW1lbnRfaWQgPT0gXCJwZW5kaW5nXCIpIHtcblx0XHRcdGVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJywgZG9jdW1lbnRfaWQpO1xuXHRcdH1cblx0fSxcblx0XG5cdGdldENPbGxlY3Rpb25zOiBmdW5jdGlvbihmb3JtKSB7XG5cdFx0bGV0IGNvbGxlY3Rpb25zID0gW107XG5cdFx0aWYgKCFmb3JtKSByZXR1cm4gY29sbGVjdGlvbnM7XG5cblx0XHRsZXQgZWxzID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdbbmFtZV1bZGF0YS1jb2xsZWN0aW9uXScpO1xuXHRcdGVscy5mb3JFYWNoKChlbCkgPT4ge1xuXHRcdFx0bGV0IHRtcENvbGxlY3Rpb24gPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjdGlvbicpXG5cdFx0XHRpZiAodG1wQ29sbGVjdGlvbiAmJiAhY29sbGVjdGlvbnMuaW5jbHVkZXModG1wQ29sbGVjdGlvbikpIHtcblx0XHRcdFx0Y29sbGVjdGlvbnMucHVzaCh0bXBDb2xsZWN0aW9uKVxuXHRcdFx0fSBcblx0XHR9KVxuXHRcdHJldHVybiBjb2xsZWN0aW9ucztcblx0fSxcbn1cblxuZXhwb3J0IGRlZmF1bHQgVXRpbHM7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../CoCreate-components/CoCreate-form/src/utils.js\n")},"../../CoCreate-components/CoCreate-input/src/index.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _observer = _interopRequireDefault(__webpack_require__(/*! @cocreate/observer */ \"../../CoCreate-components/CoCreate-observer/src/index.js\"));\n\nvar _form = _interopRequireDefault(__webpack_require__(/*! @cocreate/form */ \"../../CoCreate-components/CoCreate-form/src/index.js\"));\n\nvar _utils = _interopRequireDefault(__webpack_require__(/*! @cocreate/utils */ \"../../CoCreate-components/CoCreate-utils/src/index.js\"));\n\nvar _cocreatejs = __webpack_require__(/*! @cocreate/cocreatejs */ \"../../CoCreateJS/src/index.js\");\n\nvar _crdt = _interopRequireDefault(__webpack_require__(/*! @cocreate/crdt */ \"../../CoCreate-components/CoCreate-crdt/src/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// import CoCreateText from '@cocreate/text'\n// import CoCreateCursors from '@cocreate/cursors'\nconst CoCreateInput = {\n  selector: \"input, textarea, select\",\n  init: function () {\n    let inputs = document.querySelectorAll(this.selector);\n    const self = this;\n    inputs.forEach(input => {\n      const collection = input.getAttribute('data-collection');\n      const id = input.getAttribute('data-document_id');\n\n      if (_utils.default.isJsonString(collection)) {\n        return;\n      }\n\n      if (_utils.default.isUsageY(input)) {\n        return;\n      }\n\n      if (_observer.default.getInitialized(input)) {\n        return;\n      }\n\n      _observer.default.setInitialized(input, \"input\");\n\n      if (id && collection) {\n        _cocreatejs.crud.readDocument({\n          collection: collection,\n          document_id: id\n        });\n      }\n\n      self.__initEvents(input);\n    });\n  },\n  initElement: function (container) {\n    let mainContainer = container || document;\n\n    if (!mainContainer.querySelectorAll) {\n      return;\n    }\n\n    const _this = this;\n\n    let inputs = mainContainer.querySelectorAll(this.selector);\n    inputs.forEach(input => {\n      if (_observer.default.getInitialized(input, \"input\")) {\n        return;\n      }\n\n      _observer.default.setInitialized(input, \"input\");\n\n      const collection = input.getAttribute('data-collection');\n      const id = input.getAttribute('data-document_id');\n\n      if (_utils.default.isJsonString(collection)) {\n        return;\n      }\n\n      if (_utils.default.isUsageY(input)) {\n        return;\n      }\n\n      if (id && collection) {\n        _cocreatejs.crud.readDocument({\n          collection: collection,\n          document_id: id\n        });\n      }\n\n      _this.__initEvents(input);\n    });\n  },\n  save: function (input) {\n    const value = this.getValue(input);\n    const collection = input.getAttribute('data-collection') || 'module_activity';\n    const document_id = input.getAttribute('data-document_id');\n    const name = input.getAttribute('name');\n\n    _cocreatejs.crud.updateDocument({\n      collection,\n      document_id,\n      data: {\n        [name]: value\n      } // broadcast_sender: false\n\n    });\n  },\n  render: function (data, allTags) {\n    let inputs = document.querySelectorAll(this.selector);\n\n    let _this = this;\n\n    inputs.forEach(input => {\n      if (!allTags) {\n        if (_utils.default.isUsageY(input)) return;\n      }\n\n      if (_utils.default.isUsageY(input)) return;\n      const collection = input.getAttribute('data-collection');\n      const id = input.getAttribute('data-document_id');\n      const name = input.getAttribute('name');\n      const data_fetch_value = input.getAttribute('data-fetch_value');\n      if (data_fetch_value === \"false\" || !_utils.default.isReadValue(input)) return;\n\n      if (data['collection'] == collection && data['document_id'] == id && name in data.data) {\n        _this.setValue(input, data['data'][name]); // fetch value event\n\n\n        input.dispatchEvent(new Event(\"updated_by_fetch\"));\n        input.dispatchEvent(new CustomEvent('CoCreateInput-run', {\n          eventType: 'rendered',\n          item: input\n        }));\n      }\n    });\n  },\n  getValue: function (input) {\n    let value = input.value;\n    let prefix = input.getAttribute('data-prefix_value') || \"\";\n    let suffix = input.getAttribute('data-suffix_value') || \"\";\n\n    if (input.type === \"checkbox\") {\n      value = input.checked;\n    } else if (input.type === \"number\") {\n      value = Number(value);\n    } else if (input.type === \"password\") {\n      value = this.__encryptPassword(value);\n    }\n\n    if (typeof value == \"string\") {\n      value = prefix + value + suffix;\n    }\n\n    return value;\n  },\n  setValue: function (input, value) {\n    if (input.type == 'checkbox') {\n      input.checked = value;\n    } else if (input.type === 'radio') {\n      input.value == value ? input.checked = true : input.checked = false;\n    }\n\n    if (input.type === 'password') {\n      value = this.__decryptPassword(value);\n    }\n\n    input.value = value;\n\n    if (CoCreate.floatingLabel) {\n      CoCreate.floatingLabel.update(input, value);\n    }\n\n    input.dispatchEvent(new CustomEvent('CoCreateInput-setvalue', {\n      eventType: 'rendered'\n    }));\n  },\n  __initEvents: function (input) {\n    let _this = this;\n\n    const self = this;\n    input.addEventListener('set-document_id', function () {\n      if (CoCreate.crdt) {\n        _crdt.default.init({\n          collection: input.getAttribute('data-collection'),\n          document_id: input.getAttribute('data-document_id'),\n          name: input.getAttribute('name'),\n          element: input\n        });\n      }\n\n      self.save(this);\n    });\n    input.addEventListener('input', function (e) {\n      if (_utils.default.isRealTime(this)) {\n        self.save(this);\n      }\n    });\n    input.addEventListener('change', function (e) {\n      if (this.tagName == 'SELECT' && _utils.default.isRealTime(this)) {\n        self.save(this);\n      }\n    });\n\n    _cocreatejs.socket.listen('updateDocument', function (data) {\n      self.render(data);\n    });\n\n    _cocreatejs.socket.listen('connect', function (data) {\n      self.__getReqeust();\n    });\n\n    _cocreatejs.socket.listen('readDocument', function (data) {\n      self.render(data);\n    });\n\n    const collection = input.getAttribute('data-collection');\n    const document_id = input.getAttribute('data-document_id');\n\n    if (_utils.default.checkValue(collection) && _utils.default.checkValue(document_id) && CoCreate.crdt) {\n      _crdt.default.init({\n        collection: collection,\n        document_id: document_id,\n        name: input.getAttribute('name'),\n        element: input\n      });\n    }\n  },\n  __getReqeust: function (container) {\n    let fetch_container = container || document;\n    let inputs = fetch_container.querySelectorAll(this.selector);\n    let requestData = [];\n    inputs.forEach(input => {\n      if (_utils.default.isUsageY(input)) return;\n      const collection = input.getAttribute('data-collection');\n      const id = input.getAttribute('data-document_id');\n\n      if (id && !requestData.some(d => d['collection'] === collection && d['document_id'] === id)) {\n        requestData.push({\n          'collection': collection,\n          'document_id': id\n        });\n      }\n    });\n    return requestData;\n  },\n  __encryptPassword: function (str) {\n    var encodedString = btoa(str);\n    return encodedString;\n  },\n  __decryptPassword: function (str) {\n    if (!str) {\n      return \"\";\n    }\n\n    var decode_str = atob(str);\n    return decode_str;\n  }\n};\nCoCreateInput.init();\n\n_observer.default.init({\n  name: 'CoCreateInput',\n  observe: ['subtree', 'childList'],\n  include: '[data-collection][data-document_id][name]',\n  callback: function (mutation) {\n    CoCreateInput.initElement(mutation.target);\n  }\n});\n\n_form.default.init({\n  name: 'CoCreateInput',\n  selector: \"input, textarea, select\",\n  callback: function (el) {\n    CoCreate.input.save(el);\n  }\n});\n\nvar _default = CoCreateInput;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5xdWlsbC8vaG9tZS91YnVudHUvZW52aXJvbm1lbnQvcHVibGljL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtaW5wdXQvc3JjL2luZGV4LmpzPzhjZmQiXSwibmFtZXMiOlsiQ29DcmVhdGVJbnB1dCIsInNlbGVjdG9yIiwiaW5pdCIsImlucHV0cyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsInNlbGYiLCJmb3JFYWNoIiwiaW5wdXQiLCJjb2xsZWN0aW9uIiwiZ2V0QXR0cmlidXRlIiwiaWQiLCJ1dGlscyIsImlzSnNvblN0cmluZyIsImlzVXNhZ2VZIiwib2JzZXJ2ZXIiLCJnZXRJbml0aWFsaXplZCIsInNldEluaXRpYWxpemVkIiwiY3J1ZCIsInJlYWREb2N1bWVudCIsImRvY3VtZW50X2lkIiwiX19pbml0RXZlbnRzIiwiaW5pdEVsZW1lbnQiLCJjb250YWluZXIiLCJtYWluQ29udGFpbmVyIiwiX3RoaXMiLCJzYXZlIiwidmFsdWUiLCJnZXRWYWx1ZSIsIm5hbWUiLCJ1cGRhdGVEb2N1bWVudCIsImRhdGEiLCJyZW5kZXIiLCJhbGxUYWdzIiwiZGF0YV9mZXRjaF92YWx1ZSIsImlzUmVhZFZhbHVlIiwic2V0VmFsdWUiLCJkaXNwYXRjaEV2ZW50IiwiRXZlbnQiLCJDdXN0b21FdmVudCIsImV2ZW50VHlwZSIsIml0ZW0iLCJwcmVmaXgiLCJzdWZmaXgiLCJ0eXBlIiwiY2hlY2tlZCIsIk51bWJlciIsIl9fZW5jcnlwdFBhc3N3b3JkIiwiX19kZWNyeXB0UGFzc3dvcmQiLCJDb0NyZWF0ZSIsImZsb2F0aW5nTGFiZWwiLCJ1cGRhdGUiLCJhZGRFdmVudExpc3RlbmVyIiwiY3JkdCIsImVsZW1lbnQiLCJlIiwiaXNSZWFsVGltZSIsInRhZ05hbWUiLCJzb2NrZXQiLCJsaXN0ZW4iLCJfX2dldFJlcWV1c3QiLCJjaGVja1ZhbHVlIiwiZmV0Y2hfY29udGFpbmVyIiwicmVxdWVzdERhdGEiLCJzb21lIiwiZCIsInB1c2giLCJzdHIiLCJlbmNvZGVkU3RyaW5nIiwiYnRvYSIsImRlY29kZV9zdHIiLCJhdG9iIiwib2JzZXJ2ZSIsImluY2x1ZGUiLCJjYWxsYmFjayIsIm11dGF0aW9uIiwidGFyZ2V0IiwiZm9ybSIsImVsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFDQTtBQUNBO0FBRUEsTUFBTUEsYUFBYSxHQUFHO0FBRXJCQyxVQUFRLEVBQUUseUJBRlc7QUFJckJDLE1BQUksRUFBRSxZQUFXO0FBRWhCLFFBQUlDLE1BQU0sR0FBR0MsUUFBUSxDQUFDQyxnQkFBVCxDQUEwQixLQUFLSixRQUEvQixDQUFiO0FBQ0EsVUFBTUssSUFBSSxHQUFHLElBQWI7QUFFQUgsVUFBTSxDQUFDSSxPQUFQLENBQWdCQyxLQUFELElBQVc7QUFFekIsWUFBTUMsVUFBVSxHQUFHRCxLQUFLLENBQUNFLFlBQU4sQ0FBbUIsaUJBQW5CLENBQW5CO0FBQ0EsWUFBTUMsRUFBRSxHQUFHSCxLQUFLLENBQUNFLFlBQU4sQ0FBbUIsa0JBQW5CLENBQVg7O0FBQ0EsVUFBSUUsZUFBTUMsWUFBTixDQUFtQkosVUFBbkIsQ0FBSixFQUFvQztBQUNuQztBQUNBOztBQUVELFVBQUlHLGVBQU1FLFFBQU4sQ0FBZU4sS0FBZixDQUFKLEVBQTJCO0FBQzFCO0FBQ0E7O0FBQ0QsVUFBSU8sa0JBQVNDLGNBQVQsQ0FBd0JSLEtBQXhCLENBQUosRUFBb0M7QUFDbkM7QUFDQTs7QUFDRE8sd0JBQVNFLGNBQVQsQ0FBd0JULEtBQXhCLEVBQStCLE9BQS9COztBQUVBLFVBQUlHLEVBQUUsSUFBSUYsVUFBVixFQUFzQjtBQUNyQlMseUJBQUtDLFlBQUwsQ0FBa0I7QUFDakJWLG9CQUFVLEVBQUVBLFVBREs7QUFFakJXLHFCQUFXLEVBQUVUO0FBRkksU0FBbEI7QUFJQTs7QUFFREwsVUFBSSxDQUFDZSxZQUFMLENBQWtCYixLQUFsQjtBQUVBLEtBekJEO0FBMEJBLEdBbkNvQjtBQXFDckJjLGFB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Li9Db0NyZWF0ZS1jb21wb25lbnRzL0NvQ3JlYXRlLWlucHV0L3NyYy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBvYnNlcnZlciBmcm9tICdAY29jcmVhdGUvb2JzZXJ2ZXInXG5pbXBvcnQgZm9ybSBmcm9tICdAY29jcmVhdGUvZm9ybSdcbmltcG9ydCB1dGlscyBmcm9tICdAY29jcmVhdGUvdXRpbHMnO1xuaW1wb3J0IHtzb2NrZXQsIGNydWR9IGZyb20gJ0Bjb2NyZWF0ZS9jb2NyZWF0ZWpzJztcbmltcG9ydCBjcmR0IGZyb20gJ0Bjb2NyZWF0ZS9jcmR0J1xuLy8gaW1wb3J0IENvQ3JlYXRlVGV4dCBmcm9tICdAY29jcmVhdGUvdGV4dCdcbi8vIGltcG9ydCBDb0NyZWF0ZUN1cnNvcnMgZnJvbSAnQGNvY3JlYXRlL2N1cnNvcnMnXG5cbmNvbnN0IENvQ3JlYXRlSW5wdXQgPSB7XG5cdFxuXHRzZWxlY3RvcjogXCJpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdFwiLFxuXHRcblx0aW5pdDogZnVuY3Rpb24oKSB7XG5cblx0XHRsZXQgaW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLnNlbGVjdG9yKTtcblx0XHRjb25zdCBzZWxmID0gdGhpcztcblx0XHRcblx0XHRpbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcblx0XHRcdFxuXHRcdFx0Y29uc3QgY29sbGVjdGlvbiA9IGlucHV0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2xsZWN0aW9uJylcblx0XHRcdGNvbnN0IGlkID0gaW5wdXQuZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJylcblx0XHRcdGlmICh1dGlscy5pc0pzb25TdHJpbmcoY29sbGVjdGlvbikpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRpZiAodXRpbHMuaXNVc2FnZVkoaW5wdXQpKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cdFxuXHRcdFx0aWYgKG9ic2VydmVyLmdldEluaXRpYWxpemVkKGlucHV0KSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRvYnNlcnZlci5zZXRJbml0aWFsaXplZChpbnB1dCwgXCJpbnB1dFwiKTtcblxuXHRcdFx0aWYgKGlkICYmIGNvbGxlY3Rpb24pIHtcblx0XHRcdFx0Y3J1ZC5yZWFkRG9jdW1lbnQoe1xuXHRcdFx0XHRcdGNvbGxlY3Rpb246IGNvbGxlY3Rpb24sXG5cdFx0XHRcdFx0ZG9jdW1lbnRfaWQ6IGlkXG5cdFx0XHRcdH0pXG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdHNlbGYuX19pbml0RXZlbnRzKGlucHV0KTtcblxuXHRcdH0pXG5cdH0sXG5cdFxuXHRpbml0RWxlbWVudDogZnVuY3Rpb24oY29udGFpbmVyKSB7XG5cdFx0XG5cdFx0bGV0IG1haW5Db250YWluZXIgPSBjb250YWluZXIgfHwgZG9jdW1lbnQ7XG5cdFx0aWYgKCFtYWluQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0XG5cdFx0Y29uc3QgX3RoaXMgPSB0aGlzO1xuXHRcdGxldCBpbnB1dHMgPSBtYWluQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5zZWxlY3Rvcik7XG5cdFx0XG5cdFx0aW5wdXRzLmZvckVhY2goKGlucHV0KT0+IHtcblx0XHRcdGlmIChvYnNlcnZlci5nZXRJbml0aWFsaXplZChpbnB1dCwgXCJpbnB1dFwiKSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRvYnNlcnZlci5zZXRJbml0aWFsaXplZChpbnB1dCwgXCJpbnB1dFwiKVxuXHRcdFx0XG5cdFx0XHRjb25zdCBjb2xsZWN0aW9uID0gaW5wdXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbGxlY3Rpb24nKVxuXHRcdFx0Y29uc3QgaWQgPSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKVxuXHRcdFx0aWYgKHV0aWxzLmlzSnNvblN0cmluZyhjb2xsZWN0aW9uKSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGlmICh1dGlscy5pc1VzYWdlWShpbnB1dCkpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRpZiAoaWQgJiYgY29sbGVjdGlvbikge1xuXHRcdFx0XHRjcnVkLnJlYWREb2N1bWVudCh7XG5cdFx0XHRcdFx0Y29sbGVjdGlvbjogY29sbGVjdGlvbixcblx0XHRcdFx0XHRkb2N1bWVudF9pZDogaWRcblx0XHRcdFx0fSlcblx0XHRcdH1cblx0XHRcdF90aGlzLl9faW5pdEV2ZW50cyhpbnB1dCk7XG5cdFx0XHRcblxuXHRcdH0pXG5cdH0sXG5cdFxuXHRzYXZlOiBmdW5jdGlvbiAoaW5wdXQpIHtcblx0XHRcblx0XHRjb25zdCB2YWx1ZSA9IHRoaXMuZ2V0VmFsdWUoaW5wdXQpO1xuXHRcdGNvbnN0IGNvbGxlY3Rpb24gPSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjdGlvbicpIHx8ICdtb2R1bGVfYWN0aXZpdHknXG5cdFx0XG5cdFx0Y29uc3QgZG9jdW1lbnRfaWQgPSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKVxuXHRcdGNvbnN0IG5hbWUgPSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ25hbWUnKVxuXHRcdGNydWQudXBkYXRlRG9jdW1lbnQoe1xuXHRcdFx0Y29sbGVjdGlvbixcblx0XHRcdGRvY3VtZW50X2lkLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHRbbmFtZV06IHZhbHVlXG5cdFx0XHR9LFxuXHRcdFx0Ly8gYnJvYWRjYXN0X3NlbmRlcjogZmFsc2Vcblx0XHR9KVxuXHR9LFxuXHRcblxuXHRcblx0cmVuZGVyOiBmdW5jdGlvbiAoZGF0YSwgYWxsVGFncykge1xuXHRcdGxldCBpbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuc2VsZWN0b3IpXG5cdFx0bGV0IF90aGlzID0gdGhpcztcblx0XHRcblx0XHRpbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcblx0XHRcdGlmICghYWxsVGFncykge1xuXHRcdFx0XHRpZiAodXRpbHMuaXNVc2FnZVkoaW5wdXQpKSByZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRpZiAodXRpbHMuaXNVc2FnZVkoaW5wdXQpKSByZXR1cm47XG5cdFx0XHRcblx0XHRcdGNvbnN0IGNvbGxlY3Rpb24gPSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjdGlvbicpXG5cdFx0XHRjb25zdCBpZCA9IGlucHV0LmdldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcpXG5cdFx0XHRjb25zdCBuYW1lID0gaW5wdXQuZ2V0QXR0cmlidXRlKCduYW1lJylcblx0XHRcdGNvbnN0IGRhdGFfZmV0Y2hfdmFsdWUgPSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZmV0Y2hfdmFsdWUnKTtcblx0XHRcdFxuXHRcdFx0aWYgKGRhdGFfZmV0Y2hfdmFsdWUgPT09IFwiZmFsc2VcIiB8fCAhdXRpbHMuaXNSZWFkVmFsdWUoaW5wdXQpKSByZXR1cm47XG5cdFx0XHRcblx0XHRcdGlmIChkYXRhWydjb2xsZWN0aW9uJ10gPT0gY29sbGVjdGlvbiAmJiBkYXRhWydkb2N1bWVudF9pZCddID09IGlkICYmIChuYW1lIGluIGRhdGEuZGF0YSkpIHtcblx0XHRcdFx0X3RoaXMuc2V0VmFsdWUoaW5wdXQsIGRhdGFbJ2RhdGEnXVtuYW1lXSk7XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBmZXRjaCB2YWx1ZSBldmVudFxuXHRcdFx0XHRpbnB1dC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcInVwZGF0ZWRfYnlfZmV0Y2hcIikpOyBcblx0XHRcdFx0XG5cdFx0XHRcdGlucHV0LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdDb0NyZWF0ZUlucHV0LXJ1bicsIHtcblx0XHRcdFx0XHRldmVudFR5cGU6ICdyZW5kZXJlZCcsXG5cdFx0XHRcdFx0aXRlbTogaW5wdXQsXG5cdFx0XHRcdFx0XG5cdFx0XHRcdH0pKVxuXHRcdFx0fVxuXHRcdH0pXG5cdFx0XG5cdH0sXG5cdFxuXHRnZXRWYWx1ZTogZnVuY3Rpb24oaW5wdXQpIHtcblx0XHRsZXQgdmFsdWUgPSBpbnB1dC52YWx1ZTtcblxuXHRcdGxldCBwcmVmaXggPSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJlZml4X3ZhbHVlJykgfHwgXCJcIjtcblx0XHRsZXQgc3VmZml4ID0gaW5wdXQuZ2V0QXR0cmlidXRlKCdkYXRhLXN1ZmZpeF92YWx1ZScpIHx8IFwiXCI7XG5cdFx0XG5cdFx0aWYgKGlucHV0LnR5cGUgPT09IFwiY2hlY2tib3hcIikge1xuXHRcdFx0dmFsdWUgPSBpbnB1dC5jaGVja2VkXG5cdFx0fSBcblx0XHRlbHNlIGlmIChpbnB1dC50eXBlID09PSBcIm51bWJlclwiKSB7XG5cdFx0XHR2YWx1ZSA9IE51bWJlcih2YWx1ZSlcblx0XHR9XG5cdFx0ZWxzZSBpZiAoaW5wdXQudHlwZSA9PT0gXCJwYXNzd29yZFwiKSB7XG5cdFx0XHR2YWx1ZSA9IHRoaXMuX19lbmNyeXB0UGFzc3dvcmQodmFsdWUpXG5cdFx0fVxuXHRcdFxuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIikge1xuXHRcdFx0dmFsdWUgPSBwcmVmaXggKyB2YWx1ZSArIHN1ZmZpeDtcblx0XHR9XG5cdFx0XG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9LFxuXHRcblx0c2V0VmFsdWU6IGZ1bmN0aW9uKGlucHV0LCB2YWx1ZSkge1xuXHRcdGlmIChpbnB1dC50eXBlID09ICdjaGVja2JveCcpIHtcblx0XHRcdGlucHV0LmNoZWNrZWQgPSB2YWx1ZTtcblx0XHR9IFxuXHRcdGVsc2UgaWYgKGlucHV0LnR5cGUgPT09ICdyYWRpbycpIHtcblx0XHRcdGlucHV0LnZhbHVlID09IHZhbHVlID8gaW5wdXQuY2hlY2tlZCA9IHRydWUgOiBpbnB1dC5jaGVja2VkID0gZmFsc2Vcblx0XHR9XG5cdFx0XG5cdFx0aWYgKGlucHV0LnR5cGUgPT09ICdwYXNzd29yZCcpIHtcblx0XHRcdHZhbHVlID0gdGhpcy5fX2RlY3J5cHRQYXNzd29yZCh2YWx1ZSk7XG5cdFx0fVxuXHRcdFxuXHRcdGlucHV0LnZhbHVlID0gdmFsdWU7XG5cblx0XHRpZiAoQ29DcmVhdGUuZmxvYXRpbmdMYWJlbCkge1xuXHRcdFx0Q29DcmVhdGUuZmxvYXRpbmdMYWJlbC51cGRhdGUoaW5wdXQsIHZhbHVlKVxuXHRcdH1cblx0XHRcblx0XHRpbnB1dC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnQ29DcmVhdGVJbnB1dC1zZXR2YWx1ZScsIHsgZXZlbnRUeXBlOiAncmVuZGVyZWQnfSkpXG5cdH0sXG5cdFxuXHRfX2luaXRFdmVudHM6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdFx0XG5cdFx0bGV0IF90aGlzID0gdGhpcztcblx0XHRjb25zdCBzZWxmID0gdGhpcztcblx0XHRcblx0XHRpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdzZXQtZG9jdW1lbnRfaWQnLCBmdW5jdGlvbigpIHtcblx0XHRcdFxuXHRcdFx0aWYgKENvQ3JlYXRlLmNyZHQpIHtcblx0XHRcdFx0Y3JkdC5pbml0KHtcblx0XHRcdFx0XHRjb2xsZWN0aW9uOiBpbnB1dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjdGlvbicpLFxuXHRcdFx0XHRcdGRvY3VtZW50X2lkOiBpbnB1dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKSxcblx0XHRcdFx0XHRuYW1lOiBpbnB1dC5nZXRBdHRyaWJ1dGUoJ25hbWUnKSxcblx0XHRcdFx0XHRlbGVtZW50OiBpbnB1dFxuXHRcdFx0XHR9KVxuXHRcdFx0fVxuXHRcdFx0c2VsZi5zYXZlKHRoaXMpXG5cdFx0fSlcblx0XHRcblx0XHRpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdGlmICh1dGlscy5pc1JlYWxUaW1lKHRoaXMpKSB7XG5cdFx0XHRcdHNlbGYuc2F2ZSh0aGlzKVxuXHRcdFx0fVxuXHRcdH0pXG5cdFx0XG5cdFx0aW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oZSkge1xuXHRcdFx0aWYgKHRoaXMudGFnTmFtZSA9PSAnU0VMRUNUJyAmJiB1dGlscy5pc1JlYWxUaW1lKHRoaXMpKSB7XG5cdFx0XHRcdHNlbGYuc2F2ZSh0aGlzKVxuXHRcdFx0fVxuXHRcdH0pXG5cdFx0XG5cdFx0c29ja2V0Lmxpc3RlbigndXBkYXRlRG9jdW1lbnQnLCBmdW5jdGlvbihkYXRhKSB7XG5cdFx0ICAgIHNlbGYucmVuZGVyKGRhdGEpO1xuXHRcdH0pXG5cdFx0XG5cdFx0c29ja2V0Lmxpc3RlbignY29ubmVjdCcsIGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdHNlbGYuX19nZXRSZXFldXN0KClcblx0XHR9KVxuXHRcdFxuXHRcdHNvY2tldC5saXN0ZW4oJ3JlYWREb2N1bWVudCcsIGZ1bmN0aW9uKGRhdGEpIHtcblx0ICAgIFx0c2VsZi5yZW5kZXIoZGF0YSk7XG5cdFx0fSlcblx0XHRjb25zdCBjb2xsZWN0aW9uID0gaW5wdXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbGxlY3Rpb24nKVxuXHRcdGNvbnN0IGRvY3VtZW50X2lkID0gaW5wdXQuZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJylcblx0XHRcblx0XHRpZiAodXRpbHMuY2hlY2tWYWx1ZShjb2xsZWN0aW9uKSAmJiB1dGlscy5jaGVja1ZhbHVlKGRvY3VtZW50X2lkKSAmJiBDb0NyZWF0ZS5jcmR0KSB7XG5cdFx0XHRjcmR0LmluaXQoe1xuXHRcdFx0XHRjb2xsZWN0aW9uOiBjb2xsZWN0aW9uLFxuXHRcdFx0XHRkb2N1bWVudF9pZDogZG9jdW1lbnRfaWQsXG5cdFx0XHRcdG5hbWU6IGlucHV0LmdldEF0dHJpYnV0ZSgnbmFtZScpLFxuXHRcdFx0XHRlbGVtZW50OiBpbnB1dFxuXHRcdFx0fSlcblx0XHRcdFxuXHRcdH1cblx0fSxcblx0XG5cdF9fZ2V0UmVxZXVzdDogZnVuY3Rpb24oY29udGFpbmVyKSB7XG5cdFx0XG5cdFx0bGV0IGZldGNoX2NvbnRhaW5lciA9IGNvbnRhaW5lciB8fCBkb2N1bWVudDtcblx0XHRsZXQgaW5wdXRzID0gZmV0Y2hfY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5zZWxlY3Rvcilcblx0XHRsZXQgcmVxdWVzdERhdGEgPSBbXTtcblxuXHRcdGlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuXHRcdFx0aWYgKHV0aWxzLmlzVXNhZ2VZKGlucHV0KSkgcmV0dXJuO1xuXHRcdFx0XG5cdFx0XHRjb25zdCBjb2xsZWN0aW9uID0gaW5wdXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbGxlY3Rpb24nKVxuXHRcdFx0Y29uc3QgaWQgPSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKVxuXHRcdFx0XG5cdFx0XHRpZiAoaWQgJiYgIXJlcXVlc3REYXRhLnNvbWUoKGQpID0+IGRbJ2NvbGxlY3Rpb24nXSA9PT0gY29sbGVjdGlvbiAmJiBkWydkb2N1bWVudF9pZCddID09PSBpZCkpIHtcblx0XHRcdFx0cmVxdWVzdERhdGEucHVzaCh7IFxuXHRcdFx0XHRcdCdjb2xsZWN0aW9uJzogY29sbGVjdGlvbiwgXG5cdFx0XHRcdFx0J2RvY3VtZW50X2lkJzogaWQgXG5cdFx0XHRcdH0pXG5cdFx0XHR9XG5cdFx0fSlcblx0XHRyZXR1cm4gcmVxdWVzdERhdGE7XG5cdH0sXG5cdFxuXHRfX2VuY3J5cHRQYXNzd29yZDogZnVuY3Rpb24oc3RyKSB7XG5cdFx0dmFyIGVuY29kZWRTdHJpbmcgPSBidG9hKHN0cik7XG5cdFx0cmV0dXJuIGVuY29kZWRTdHJpbmc7XG5cdH0sXG5cdFxuXHRfX2RlY3J5cHRQYXNzd29yZDogZnVuY3Rpb24gKHN0cikge1xuXHRcdGlmICghc3RyKSB7XG5cdFx0XHRyZXR1cm4gXCJcIjtcblx0XHR9XG5cdFx0XG5cdFx0dmFyIGRlY29kZV9zdHIgPSBhdG9iKHN0cik7XG5cdFx0cmV0dXJuIGRlY29kZV9zdHI7XG5cdH1cblx0XG59XG5cbkNvQ3JlYXRlSW5wdXQuaW5pdCgpO1xuXG5vYnNlcnZlci5pbml0KHsgXG5cdG5hbWU6ICdDb0NyZWF0ZUlucHV0JywgXG5cdG9ic2VydmU6IFsnc3VidHJlZScsICdjaGlsZExpc3QnXSxcblx0aW5jbHVkZTogJ1tkYXRhLWNvbGxlY3Rpb25dW2RhdGEtZG9jdW1lbnRfaWRdW25hbWVdJywgXG5cdGNhbGxiYWNrOiBmdW5jdGlvbihtdXRhdGlvbikge1xuXHRcdENvQ3JlYXRlSW5wdXQuaW5pdEVsZW1lbnQobXV0YXRpb24udGFyZ2V0KVxuXHR9XG59KVxuXG5mb3JtLmluaXQoe1xuXHRuYW1lOiAnQ29DcmVhdGVJbnB1dCcsXG5cdHNlbGVjdG9yOiBcImlucHV0LCB0ZXh0YXJlYSwgc2VsZWN0XCIsXG5cdGNhbGxiYWNrOiBmdW5jdGlvbihlbCkge1xuXHRcdENvQ3JlYXRlLmlucHV0LnNhdmUoZWwpO1xuXHR9XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgQ29DcmVhdGVJbnB1dDsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../CoCreate-components/CoCreate-input/src/index.js\n")},"../../CoCreate-components/CoCreate-observer/src/index.js":function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n// window.addEventListener("load", () => {\n\n/*\nCoCreate.observer.init({ \n\tname: \'CoCreateFetchInit\', // no usage, just to provide for console debugging \n\tobserve: [\'subtree\', \'childList\',\'attributes\'], // the same parameters of options in #https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver/observe\n\tattributes: [\'data-fetch_collection\'], // it doesn\'t count added nodes or remove nodes\n\tinclude: ".classname", // a selector to select only elements that matches\n\texclude: ".classname", // a selector to exclude elements from processing\n\tcallback: function(mutation) { // a function which gets a mutation object according to #https://developer.mozilla.org/en-US/docs/Web/API/MutationRecord\n\t\tCoCreateFetch.initElement(mutation.target)\n\t}\n})\n*/\n\n/**\n * description\n * \n * @param {String} [name] - an optional name to provide for debugging console\n * @param {Array} observe - a list of mutation type to be observerd, a mix of possible `attributes`, `childList` or `subtree`\n * ... and other params can be here \n * \n * @return null\n */\nwindow.profiler = {};\nwindow.counter = 0;\nwindow.counter2 = 0;\nwindow.targets = {};\nwindow.attributeName = {};\n\nif (!Element.prototype.matches) {\n  Element.prototype.matches = Element.prototype.matchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.webkitMatchesSelector || function (s) {\n    var matches = (this.document || this.ownerDocument).querySelectorAll(s),\n        i = matches.length;\n\n    while (--i >= 0 && matches.item(i) !== this) {}\n\n    return i > -1;\n  };\n}\n\nconst CoCreateObserver = {\n  initTasks: new Map(),\n  attrTasks: new Map(),\n  rules: new Map(),\n  rulesArray: [],\n  __init: function () {\n    const self = this;\n    const observer = new MutationObserver((mutationsList, observer) => self.__callback(mutationsList, observer)); // setTimeout(()=>{\n\n    observer.observe(document.body, {\n      attributes: true,\n      childList: true,\n      subtree: true,\n      characterData: false,\n      attributeOldValue: true,\n      characterData: true\n    });\n  },\n  // init: function(data) {\n  //   this.add(data);\n  // },\n  init: function ({\n    observe,\n    include,\n    exclude,\n    attributes,\n    name,\n    callback\n  }) {\n    // if (name == \'ccAttribute\' || name == \'ccCss\') {\n    if (observe.some(x => x == "childList")) {\n      this.initTasks.set(callback, {\n        observe,\n        include,\n        exclude,\n        attributes,\n        name\n      });\n    }\n\n    if (observe.some(x => x == "attributes")) {\n      this.attrTasks.set(callback, {\n        observe,\n        include,\n        exclude,\n        attributes,\n        name\n      });\n    } // }\n\n  },\n  remove: function (callback) {\n    this.initTasks.delete(callback);\n    this.attrTasks.delete(callback);\n  },\n  addRule: function ({\n    include,\n    exclude,\n    name\n  }) {\n    this.rules.set(name, {\n      include,\n      exclude\n    });\n    this.rulesArray = Array.from(this.rules);\n  },\n  removeRule: function ({\n    name\n  }) {\n    this.rules.delete(name);\n    this.rulesArray = Array.from(this.rules);\n  },\n  __callback: function (mutationsList, observer) {\n    // console.log(this)\n    window.counter++;\n\n    for (let mutation of mutationsList) {\n      if (mutation.type == "childList" && mutation.addedNodes.length > 0) {\n        //. run init functions\n        this.__initCallback(mutation);\n      }\n\n      if (mutation.type == "attributes") {\n        //. run attributes functions\n        this.__attrCallback(mutation);\n      }\n    }\n  },\n  __initCallback: function (mutation) {\n    let addedNodes = Array.from(mutation.addedNodes);\n    this.initTasks.forEach(({\n      observe,\n      include,\n      exclude,\n      attributes,\n      name\n    }, callback) => {\n      mutation.addedNodes.forEach(el => {\n        if (!el.tagName) return;\n\n        if (include && !(el.matches(include) || el.querySelector(include))) {\n          return;\n        }\n\n        if (exclude && (el.matches(exclude) || el.querySelector(exclude))) {\n          return;\n        }\n\n        if (el.created) return;\n        window.counter2++;\n        window.profiler[name] = window.profiler[name] != undefined ? window.profiler[name] + 1 : 0;\n        window.targets[mutation.target.id || mutation.target.tagName] = window.targets[mutation.target.id || mutation.target.tagName] != undefined ? window.targets[mutation.target.id || mutation.target.tagName] + 1 : 0;\n        window.attributeName[mutation.attributeName] = window.attributeName[mutation.attributeName] != undefined ? window.attributeName[mutation.attributeName] + 1 : 0;\n        callback.apply(null, [{\n          type: mutation.type,\n          target: el\n        }]);\n      });\n    });\n    addedNodes.map(el => el.created = true);\n  },\n  __attrCallback: function (mutation) {\n    for (let [name, {\n      include,\n      exclude\n    }] of this.rulesArray) {\n      if (include && !mutation.target.matches(include)) return;\n      if (exclude && mutation.target.matches(exclude)) return;\n    }\n\n    this.attrTasks.forEach(({\n      observe,\n      include,\n      exclude,\n      attributes,\n      name\n    }, callback) => {\n      if (attributes && mutation.attributeName && !attributes.includes(mutation.attributeName)) {\n        return;\n      }\n\n      if (include && !mutation.target.matches(include)) return;\n      if (exclude && mutation.target.matches(exclude)) return;\n\n      if (mutation.attributeName) {\n        let newValue = mutation.target.getAttribute(mutation.attributeName);\n\n        if (newValue != mutation.oldValue) {\n          window.counter2++;\n          window.profiler[name] = window.profiler[name] != undefined ? window.profiler[name] + 1 : 0;\n          window.targets[mutation.target.id || mutation.target.tagName] = window.targets[mutation.target.id || mutation.target.tagName] != undefined ? window.targets[mutation.target.id || mutation.target.tagName] + 1 : 0;\n          window.attributeName[mutation.attributeName] = window.attributeName[mutation.attributeName] != undefined ? window.attributeName[mutation.attributeName] + 1 : 0;\n          callback.apply(null, [mutation]);\n        }\n      }\n    });\n  },\n  setInitialized: function (element, type) {\n    // element.setAttribute(`initialized_${type}`, "true");\n    type = type || "";\n    let key = "co_initialized_" + type;\n    element[key] = true;\n  },\n  getInitialized: function (element, type) {\n    type = type || "";\n    let key = "co_initialized_" + type;\n\n    if (!element[key]) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n};\n\nCoCreateObserver.__init();\n\nvar _default = CoCreateObserver;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5xdWlsbC8vaG9tZS91YnVudHUvZW52aXJvbm1lbnQvcHVibGljL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtb2JzZXJ2ZXIvc3JjL2luZGV4LmpzPzI3M2IiXSwibmFtZXMiOlsid2luZG93IiwicHJvZmlsZXIiLCJjb3VudGVyIiwiY291bnRlcjIiLCJ0YXJnZXRzIiwiYXR0cmlidXRlTmFtZSIsIkVsZW1lbnQiLCJwcm90b3R5cGUiLCJtYXRjaGVzIiwibWF0Y2hlc1NlbGVjdG9yIiwibW96TWF0Y2hlc1NlbGVjdG9yIiwibXNNYXRjaGVzU2VsZWN0b3IiLCJvTWF0Y2hlc1NlbGVjdG9yIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIiwicyIsImRvY3VtZW50Iiwib3duZXJEb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpIiwibGVuZ3RoIiwiaXRlbSIsIkNvQ3JlYXRlT2JzZXJ2ZXIiLCJpbml0VGFza3MiLCJNYXAiLCJhdHRyVGFza3MiLCJydWxlcyIsInJ1bGVzQXJyYXkiLCJfX2luaXQiLCJzZWxmIiwib2JzZXJ2ZXIiLCJNdXRhdGlvbk9ic2VydmVyIiwibXV0YXRpb25zTGlzdCIsIl9fY2FsbGJhY2siLCJvYnNlcnZlIiwiYm9keSIsImF0dHJpYnV0ZXMiLCJjaGlsZExpc3QiLCJzdWJ0cmVlIiwiY2hhcmFjdGVyRGF0YSIsImF0dHJpYnV0ZU9sZFZhbHVlIiwiaW5pdCIsImluY2x1ZGUiLCJleGNsdWRlIiwibmFtZSIsImNhbGxiYWNrIiwic29tZSIsIngiLCJzZXQiLCJyZW1vdmUiLCJkZWxldGUiLCJhZGRSdWxlIiwiQXJyYXkiLCJmcm9tIiwicmVtb3ZlUnVsZSIsIm11dGF0aW9uIiwidHlwZSIsImFkZGVkTm9kZXMiLCJfX2luaXRDYWxsYmFjayIsIl9fYXR0ckNhbGxiYWNrIiwiZm9yRWFjaCIsImVsIiwidGFnTmFtZSIsInF1ZXJ5U2VsZWN0b3IiLCJjcmVhdGVkIiwidW5kZWZpbmVkIiwidGFyZ2V0IiwiaWQiLCJhcHBseSIsIm1hcCIsImluY2x1ZGVzIiwibmV3VmFsdWUiLCJnZXRBdHRyaWJ1dGUiLCJvbGRWYWx1ZSIsInNldEluaXRpYWxpemVkIiwiZWxlbWVudCIsImtleSIsImdldEluaXRpYWxpemVkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FBLE1BQU0sQ0FBQ0MsUUFBUCxHQUFrQixFQUFsQjtBQUNBRCxNQUFNLENBQUNFLE9BQVAsR0FBaUIsQ0FBakI7QUFDQUYsTUFBTSxDQUFDRyxRQUFQLEdBQWtCLENBQWxCO0FBQ0FILE1BQU0sQ0FBQ0ksT0FBUCxHQUFpQixFQUFqQjtBQUNBSixNQUFNLENBQUNLLGFBQVAsR0FBdUIsRUFBdkI7O0FBQ0EsSUFBSSxDQUFDQyxPQUFPLENBQUNDLFNBQVIsQ0FBa0JDLE9BQXZCLEVBQWdDO0FBQzlCRixTQUFPLENBQUNDLFNBQVIsQ0FBa0JDLE9BQWxCLEdBQ0VGLE9BQU8sQ0FBQ0MsU0FBUixDQUFrQkUsZUFBbEIsSUFDQUgsT0FBTyxDQUFDQyxTQUFSLENBQWtCRyxrQkFEbEIsSUFFQUosT0FBTyxDQUFDQyxTQUFSLENBQWtCSSxpQkFGbEIsSUFHQUwsT0FBTyxDQUFDQyxTQUFSLENBQWtCSyxnQkFIbEIsSUFJQU4sT0FBTyxDQUFDQyxTQUFSLENBQWtCTSxxQkFKbEIsSUFLQSxVQUFTQyxDQUFULEVBQVk7QUFDVixRQUFJTixPQUFPLEdBQUcsQ0FBQyxLQUFLTyxRQUFMLElBQWlCLEtBQUtDLGFBQXZCLEVBQXNDQyxnQkFBdEMsQ0FBdURILENBQXZELENBQWQ7QUFBQSxRQUNFSSxDQUFDLEdBQUdWLE9BQU8sQ0FBQ1csTUFEZDs7QUFFQSxXQUFPLEVBQUVELENBQUYsSUFBTyxDQUFQLElBQVlWLE9BQU8sQ0FBQ1ksSUFBUixDQUFhRixD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QixFQUF3QjtBQUN0Q0EsUUFBSSxHQUFHQSxJQUFJLElBQUksRUFBZjtBQUNBLFFBQUlvQixHQUFHLEdBQUcsb0JBQW9CcEIsSUFBOUI7O0FBQ0EsUUFBSSxDQUFDbUIsT0FBTyxDQUFDQyxHQUFELENBQVosRUFBbUI7QUFDakIsYUFBTyxLQUFQO0FBQ0QsS0FGRCxNQUdLO0FBQ0gsYUFBTyxJQUFQO0FBQ0Q7QUFDRjtBQXZKc0IsQ0FBekI7O0FBMEpBdEQsZ0JBQWdCLENBQUNNLE1BQWpCOztlQUdlTixnQiIsImZpbGUiOiIuLi8uLi9Db0NyZWF0ZS1jb21wb25lbnRzL0NvQ3JlYXRlLW9ic2VydmVyL3NyYy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XG5cbi8qXG5Db0NyZWF0ZS5vYnNlcnZlci5pbml0KHsgXG5cdG5hbWU6ICdDb0NyZWF0ZUZldGNoSW5pdCcsIC8vIG5vIHVzYWdlLCBqdXN0IHRvIHByb3ZpZGUgZm9yIGNvbnNvbGUgZGVidWdnaW5nIFxuXHRvYnNlcnZlOiBbJ3N1YnRyZWUnLCAnY2hpbGRMaXN0JywnYXR0cmlidXRlcyddLCAvLyB0aGUgc2FtZSBwYXJhbWV0ZXJzIG9mIG9wdGlvbnMgaW4gI2h0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9NdXRhdGlvbk9ic2VydmVyL29ic2VydmVcblx0YXR0cmlidXRlczogWydkYXRhLWZldGNoX2NvbGxlY3Rpb24nXSwgLy8gaXQgZG9lc24ndCBjb3VudCBhZGRlZCBub2RlcyBvciByZW1vdmUgbm9kZXNcblx0aW5jbHVkZTogXCIuY2xhc3NuYW1lXCIsIC8vIGEgc2VsZWN0b3IgdG8gc2VsZWN0IG9ubHkgZWxlbWVudHMgdGhhdCBtYXRjaGVzXG5cdGV4Y2x1ZGU6IFwiLmNsYXNzbmFtZVwiLCAvLyBhIHNlbGVjdG9yIHRvIGV4Y2x1ZGUgZWxlbWVudHMgZnJvbSBwcm9jZXNzaW5nXG5cdGNhbGxiYWNrOiBmdW5jdGlvbihtdXRhdGlvbikgeyAvLyBhIGZ1bmN0aW9uIHdoaWNoIGdldHMgYSBtdXRhdGlvbiBvYmplY3QgYWNjb3JkaW5nIHRvICNodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTXV0YXRpb25SZWNvcmRcblx0XHRDb0NyZWF0ZUZldGNoLmluaXRFbGVtZW50KG11dGF0aW9uLnRhcmdldClcblx0fVxufSlcbiovXG5cblxuLyoqXG4gKiBkZXNjcmlwdGlvblxuICogXG4gKiBAcGFyYW0ge1N0cmluZ30gW25hbWVdIC0gYW4gb3B0aW9uYWwgbmFtZSB0byBwcm92aWRlIGZvciBkZWJ1Z2dpbmcgY29uc29sZVxuICogQHBhcmFtIHtBcnJheX0gb2JzZXJ2ZSAtIGEgbGlzdCBvZiBtdXRhdGlvbiB0eXBlIHRvIGJlIG9ic2VydmVyZCwgYSBtaXggb2YgcG9zc2libGUgYGF0dHJpYnV0ZXNgLCBgY2hpbGRMaXN0YCBvciBgc3VidHJlZWBcbiAqIC4uLiBhbmQgb3RoZXIgcGFyYW1zIGNhbiBiZSBoZXJlIFxuICogXG4gKiBAcmV0dXJuIG51bGxcbiAqL1xud2luZG93LnByb2ZpbGVyID0ge31cbndpbmRvdy5jb3VudGVyID0gMDtcbndpbmRvdy5jb3VudGVyMiA9IDA7XG53aW5kb3cudGFyZ2V0cyA9IHt9O1xud2luZG93LmF0dHJpYnV0ZU5hbWUgPSB7fTtcbmlmICghRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcykge1xuICBFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzID1cbiAgICBFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzU2VsZWN0b3IgfHxcbiAgICBFbGVtZW50LnByb3RvdHlwZS5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICBFbGVtZW50LnByb3RvdHlwZS5tc01hdGNoZXNTZWxlY3RvciB8fFxuICAgIEVsZW1lbnQucHJvdG90eXBlLm9NYXRjaGVzU2VsZWN0b3IgfHxcbiAgICBFbGVtZW50LnByb3RvdHlwZS53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICBmdW5jdGlvbihzKSB7XG4gICAgICB2YXIgbWF0Y2hlcyA9ICh0aGlzLmRvY3VtZW50IHx8IHRoaXMub3duZXJEb2N1bWVudCkucXVlcnlTZWxlY3RvckFsbChzKSxcbiAgICAgICAgaSA9IG1hdGNoZXMubGVuZ3RoO1xuICAgICAgd2hpbGUgKC0taSA+PSAwICYmIG1hdGNoZXMuaXRlbShpKSAhPT0gdGhpcykge31cbiAgICAgIHJldHVybiBpID4gLTE7XG4gICAgfTtcbn1cblxuY29uc3QgQ29DcmVhdGVPYnNlcnZlciA9IHtcbiAgaW5pdFRhc2tzOiBuZXcgTWFwKCksXG4gIGF0dHJUYXNrczogbmV3IE1hcCgpLFxuICBydWxlczogbmV3IE1hcCgpLFxuICBydWxlc0FycmF5OiBbXSxcblxuICBfX2luaXQ6IGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9uc0xpc3QsIG9ic2VydmVyKSA9PiBzZWxmLl9fY2FsbGJhY2sobXV0YXRpb25zTGlzdCwgb2JzZXJ2ZXIpKTtcblxuICAgIC8vIHNldFRpbWVvdXQoKCk9PntcbiAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmJvZHksIHtcbiAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICBzdWJ0cmVlOiB0cnVlLFxuICAgICAgY2hhcmFjdGVyRGF0YTogZmFsc2UsXG4gICAgICBhdHRyaWJ1dGVPbGRWYWx1ZTogdHJ1ZSxcbiAgICAgIGNoYXJhY3RlckRhdGE6IHRydWUsXG4gICAgfSk7XG4gIH0sXG5cbiAgLy8gaW5pdDogZnVuY3Rpb24oZGF0YSkge1xuICAvLyAgIHRoaXMuYWRkKGRhdGEpO1xuICAvLyB9LFxuXG4gIGluaXQ6IGZ1bmN0aW9uKHsgb2JzZXJ2ZSwgaW5jbHVkZSwgZXhjbHVkZSwgYXR0cmlidXRlcywgbmFtZSwgY2FsbGJhY2sgfSkge1xuICAgIC8vIGlmIChuYW1lID09ICdjY0F0dHJpYnV0ZScgfHwgbmFtZSA9PSAnY2NDc3MnKSB7XG4gICAgICBpZiAob2JzZXJ2ZS5zb21lKHggPT4geCA9PSBcImNoaWxkTGlzdFwiKSkge1xuICAgICAgICB0aGlzLmluaXRUYXNrcy5zZXQoY2FsbGJhY2ssIHsgb2JzZXJ2ZSwgaW5jbHVkZSwgZXhjbHVkZSwgYXR0cmlidXRlcywgbmFtZSB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9ic2VydmUuc29tZSh4ID0+IHggPT0gXCJhdHRyaWJ1dGVzXCIpKSB7XG4gICAgICAgIHRoaXMuYXR0clRhc2tzLnNldChjYWxsYmFjaywgeyBvYnNlcnZlLCBpbmNsdWRlLCBleGNsdWRlLCBhdHRyaWJ1dGVzLCBuYW1lIH0pO1xuICAgICAgfVxuICAgIC8vIH1cblxuICB9LFxuICByZW1vdmU6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5pbml0VGFza3MuZGVsZXRlKGNhbGxiYWNrKVxuICAgIHRoaXMuYXR0clRhc2tzLmRlbGV0ZShjYWxsYmFjaylcbiAgfSxcblxuICBhZGRSdWxlOiBmdW5jdGlvbih7IGluY2x1ZGUsIGV4Y2x1ZGUsIG5hbWUgfSkge1xuICAgIHRoaXMucnVsZXMuc2V0KG5hbWUsIHsgaW5jbHVkZSwgZXhjbHVkZSB9KTtcbiAgICB0aGlzLnJ1bGVzQXJyYXkgPSBBcnJheS5mcm9tKHRoaXMucnVsZXMpO1xuICB9LFxuXG4gIHJlbW92ZVJ1bGU6IGZ1bmN0aW9uKHsgbmFtZSB9KSB7XG4gICAgdGhpcy5ydWxlcy5kZWxldGUobmFtZSk7XG4gICAgdGhpcy5ydWxlc0FycmF5ID0gQXJyYXkuZnJvbSh0aGlzLnJ1bGVzKTtcbiAgfSxcblxuICBfX2NhbGxiYWNrOiBmdW5jdGlvbihtdXRhdGlvbnNMaXN0LCBvYnNlcnZlcikge1xuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMpXG4gICAgd2luZG93LmNvdW50ZXIrKztcbiAgICBmb3IgKGxldCBtdXRhdGlvbiBvZiBtdXRhdGlvbnNMaXN0KSB7XG4gICAgICBpZiAobXV0YXRpb24udHlwZSA9PSBcImNoaWxkTGlzdFwiICYmIG11dGF0aW9uLmFkZGVkTm9kZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAvLy4gcnVuIGluaXQgZnVuY3Rpb25zXG4gICAgICAgIHRoaXMuX19pbml0Q2FsbGJhY2sobXV0YXRpb24pXG4gICAgICB9XG5cbiAgICAgIGlmIChtdXRhdGlvbi50eXBlID09IFwiYXR0cmlidXRlc1wiKSB7XG4gICAgICAgIC8vLiBydW4gYXR0cmlidXRlcyBmdW5jdGlvbnNcbiAgICAgICAgdGhpcy5fX2F0dHJDYWxsYmFjayhtdXRhdGlvbik7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIF9faW5pdENhbGxiYWNrOiBmdW5jdGlvbihtdXRhdGlvbikge1xuICAgIGxldCBhZGRlZE5vZGVzID0gQXJyYXkuZnJvbShtdXRhdGlvbi5hZGRlZE5vZGVzKTtcblxuICAgIHRoaXMuaW5pdFRhc2tzLmZvckVhY2goKHsgb2JzZXJ2ZSwgaW5jbHVkZSwgZXhjbHVkZSwgYXR0cmlidXRlcywgbmFtZSB9LCBjYWxsYmFjaykgPT4ge1xuXG4gICAgICBtdXRhdGlvbi5hZGRlZE5vZGVzLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgIGlmICghZWwudGFnTmFtZSkgcmV0dXJuO1xuXG4gICAgICAgIGlmIChpbmNsdWRlICYmICEoZWwubWF0Y2hlcyhpbmNsdWRlKSB8fCBlbC5xdWVyeVNlbGVjdG9yKGluY2x1ZGUpKSkge1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGlmIChleGNsdWRlICYmIChlbC5tYXRjaGVzKGV4Y2x1ZGUpIHx8IGVsLnF1ZXJ5U2VsZWN0b3IoZXhjbHVkZSkpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVsLmNyZWF0ZWQpIHJldHVybjtcbiAgICAgICAgd2luZG93LmNvdW50ZXIyKys7XG4gICAgICAgIHdpbmRvdy5wcm9maWxlcltuYW1lXSA9IHdpbmRvdy5wcm9maWxlcltuYW1lXSAhPSB1bmRlZmluZWQgPyB3aW5kb3cucHJvZmlsZXJbbmFtZV0gKyAxIDogMDtcbiAgICAgICAgd2luZG93LnRhcmdldHNbbXV0YXRpb24udGFyZ2V0LmlkIHx8IG11dGF0aW9uLnRhcmdldC50YWdOYW1lXSA9XG4gICAgICAgICAgd2luZG93LnRhcmdldHNbbXV0YXRpb24udGFyZ2V0LmlkIHx8IG11dGF0aW9uLnRhcmdldC50YWdOYW1lXSAhPSB1bmRlZmluZWQgP1xuICAgICAgICAgIHdpbmRvdy50YXJnZXRzW211dGF0aW9uLnRhcmdldC5pZCB8fCBtdXRhdGlvbi50YXJnZXQudGFnTmFtZV0gKyAxIDpcbiAgICAgICAgICAwO1xuXG4gICAgICAgIHdpbmRvdy5hdHRyaWJ1dGVOYW1lW211dGF0aW9uLmF0dHJpYnV0ZU5hbWVdID1cbiAgICAgICAgICB3aW5kb3cuYXR0cmlidXRlTmFtZVttdXRhdGlvbi5hdHRyaWJ1dGVOYW1lXSAhPSB1bmRlZmluZWQgP1xuICAgICAgICAgIHdpbmRvdy5hdHRyaWJ1dGVOYW1lW211dGF0aW9uLmF0dHJpYnV0ZU5hbWVdICsgMSA6XG4gICAgICAgICAgMDtcbiAgICAgICAgY2FsbGJhY2suYXBwbHkobnVsbCwgW3sgdHlwZTogbXV0YXRpb24udHlwZSwgdGFyZ2V0OiBlbCB9XSk7XG4gICAgICB9KVxuICAgIH0pO1xuXG4gICAgYWRkZWROb2Rlcy5tYXAoZWwgPT4gZWwuY3JlYXRlZCA9IHRydWUpO1xuICB9LFxuXG4gIF9fYXR0ckNhbGxiYWNrOiBmdW5jdGlvbihtdXRhdGlvbikge1xuICAgIGZvciAobGV0IFtuYW1lLCB7IGluY2x1ZGUsIGV4Y2x1ZGUgfV0gb2YgdGhpcy5ydWxlc0FycmF5KSB7XG4gICAgICBpZiAoaW5jbHVkZSAmJiAhbXV0YXRpb24udGFyZ2V0Lm1hdGNoZXMoaW5jbHVkZSkpIHJldHVybjtcbiAgICAgIGlmIChleGNsdWRlICYmIG11dGF0aW9uLnRhcmdldC5tYXRjaGVzKGV4Y2x1ZGUpKSByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuYXR0clRhc2tzLmZvckVhY2goKHsgb2JzZXJ2ZSwgaW5jbHVkZSwgZXhjbHVkZSwgYXR0cmlidXRlcywgbmFtZSB9LCBjYWxsYmFjaykgPT4ge1xuICAgICAgaWYgKGF0dHJpYnV0ZXMgJiYgbXV0YXRpb24uYXR0cmlidXRlTmFtZSAmJiAhYXR0cmlidXRlcy5pbmNsdWRlcyhtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoaW5jbHVkZSAmJiAhbXV0YXRpb24udGFyZ2V0Lm1hdGNoZXMoaW5jbHVkZSkpIHJldHVybjtcbiAgICAgIGlmIChleGNsdWRlICYmIG11dGF0aW9uLnRhcmdldC5tYXRjaGVzKGV4Y2x1ZGUpKSByZXR1cm47XG5cbiAgICAgIGlmIChtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lKSB7XG4gICAgICAgIGxldCBuZXdWYWx1ZSA9IG11dGF0aW9uLnRhcmdldC5nZXRBdHRyaWJ1dGUobXV0YXRpb24uYXR0cmlidXRlTmFtZSk7XG4gICAgICAgIGlmIChuZXdWYWx1ZSAhPSBtdXRhdGlvbi5vbGRWYWx1ZSkge1xuICAgICAgICAgIHdpbmRvdy5jb3VudGVyMisrO1xuICAgICAgICAgIHdpbmRvdy5wcm9maWxlcltuYW1lXSA9IHdpbmRvdy5wcm9maWxlcltuYW1lXSAhPSB1bmRlZmluZWQgPyB3aW5kb3cucHJvZmlsZXJbbmFtZV0gKyAxIDogMDtcbiAgICAgICAgICB3aW5kb3cudGFyZ2V0c1ttdXRhdGlvbi50YXJnZXQuaWQgfHwgbXV0YXRpb24udGFyZ2V0LnRhZ05hbWVdID1cbiAgICAgICAgICAgIHdpbmRvdy50YXJnZXRzW211dGF0aW9uLnRhcmdldC5pZCB8fCBtdXRhdGlvbi50YXJnZXQudGFnTmFtZV0gIT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAgIHdpbmRvdy50YXJnZXRzW211dGF0aW9uLnRhcmdldC5pZCB8fCBtdXRhdGlvbi50YXJnZXQudGFnTmFtZV0gKyAxIDpcbiAgICAgICAgICAgIDA7XG5cbiAgICAgICAgICB3aW5kb3cuYXR0cmlidXRlTmFtZVttdXRhdGlvbi5hdHRyaWJ1dGVOYW1lXSA9XG4gICAgICAgICAgICB3aW5kb3cuYXR0cmlidXRlTmFtZVttdXRhdGlvbi5hdHRyaWJ1dGVOYW1lXSAhPSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgd2luZG93LmF0dHJpYnV0ZU5hbWVbbXV0YXRpb24uYXR0cmlidXRlTmFtZV0gKyAxIDpcbiAgICAgICAgICAgIDA7XG4gICAgICAgICAgY2FsbGJhY2suYXBwbHkobnVsbCwgW211dGF0aW9uXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgIH0pXG4gIH0sXG5cbiAgc2V0SW5pdGlhbGl6ZWQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHR5cGUpIHtcbiAgICAvLyBlbGVtZW50LnNldEF0dHJpYnV0ZShgaW5pdGlhbGl6ZWRfJHt0eXBlfWAsIFwidHJ1ZVwiKTtcbiAgICB0eXBlID0gdHlwZSB8fCBcIlwiO1xuICAgIGxldCBrZXkgPSBcImNvX2luaXRpYWxpemVkX1wiICsgdHlwZTtcbiAgICBlbGVtZW50W2tleV0gPSB0cnVlO1xuICB9LFxuXG4gIGdldEluaXRpYWxpemVkOiBmdW5jdGlvbihlbGVtZW50LCB0eXBlKSB7XG4gICAgdHlwZSA9IHR5cGUgfHwgXCJcIjtcbiAgICBsZXQga2V5ID0gXCJjb19pbml0aWFsaXplZF9cIiArIHR5cGU7XG4gICAgaWYgKCFlbGVtZW50W2tleV0pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuQ29DcmVhdGVPYnNlcnZlci5fX2luaXQoKTtcblxuXG5leHBvcnQgZGVmYXVsdCBDb0NyZWF0ZU9ic2VydmVyO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../CoCreate-components/CoCreate-observer/src/index.js\n')},"../../CoCreate-components/CoCreate-utils/src/index.js":function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.generateUUID = generateUUID;\nexports.isRealTime = isRealTime;\nexports.getParentFromElement = getParentFromElement;\nexports.isReadValue = isReadValue;\nexports.isUpdateValue = isUpdateValue;\nexports.isJsonString = isJsonString;\nexports.getAttributes = getAttributes;\nexports.checkValue = checkValue;\nexports.allFrame = allFrame;\nexports.cssPath = cssPath;\nexports.getTopMostWindow = getTopMostWindow;\nexports.findIframeFromElement = findIframeFromElement;\nexports.getIframeFromPath = getIframeFromPath;\nexports.configMatch = configMatch;\nexports.configExecuter = configExecuter;\nexports.UUID = UUID;\nexports.parseTextToHtml = parseTextToHtml;\nexports.splitBydelimiter = splitBydelimiter;\nexports.joinBydelimiter = joinBydelimiter;\nexports.isValidSelector = isValidSelector;\nexports.getElementPath = getElementPath;\nexports.isUsageY = isUsageY;\nexports.default = void 0;\n\n/**\n * Created by jin\n * 2020-04-03\n */\nfunction generateUUID(length = 36) {\n  // if (length == 10) {\n  //   var result           = \'\';\n  //   var characters       = \'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\';\n  //   var charactersLength = characters.length;\n  //   for ( var i = 0; i < length; i++ ) {\n  //     result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  //   }\n  //   var dd = new Date().toTimeString();\n  //   var random = dd.replace(/[\\W_]+/g, "").substr(0,6);\n  //   result += random;\n  //   return result;\n  // }\n  let d = new Date().getTime();\n  let d2 = window.performance && window.performance.now && window.performance.now() * 1000 || 0;\n  let pattern = "uxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";\n\n  if (length <= pattern.length) {\n    pattern = pattern.substr(0, length);\n  } else {\n    let add_len = length - pattern.length;\n    let sub_pattern = "-xxxyyxxx";\n    let group_n = Math.floor(add_len / sub_pattern.length);\n\n    for (let i = 0; i < group_n; i++) {\n      pattern += sub_pattern;\n    }\n\n    group_n = add_len - group_n * sub_pattern.length;\n    pattern += sub_pattern.substr(0, group_n);\n  }\n\n  let uuid = pattern.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16;\n\n    if (d > 0) {\n      var r = (d + r) % 16 | 0;\n      d = Math.floor(d / 16);\n    } else {\n      var r = (d2 + r) % 16 | 0;\n      d2 = Math.floor(d2 / 16);\n    }\n\n    return (c == "x" ? r : r & 0x7 | 0x8).toString(16);\n  });\n  return uuid;\n}\n\nfunction isRealTime(element, parent_realTime) {\n  let realtime = element.getAttribute("data-realtime") || parent_realTime;\n\n  if (realtime === "false") {\n    return false;\n  }\n\n  return true;\n}\n\nfunction getParentFromElement(element, parent_class, attributes) {\n  if (parent_class) {\n    if (element.classList.contains(parent_class)) {\n      return element;\n    }\n\n    let node = element.parentNode;\n\n    while (node != null && node.classList) {\n      if (node.classList.contains(parent_class)) {\n        return node;\n      }\n\n      node = node.parentNode;\n    }\n  } else if (attributes) {\n    if (attributes.every(attr => element.attributes.hasOwnProperty(attr))) {\n      return element;\n    }\n\n    let node = element.parentNode;\n\n    while (node != null && node.attributes) {\n      if (attributes.every(attr => node.attributes.hasOwnProperty(attr))) {\n        return node;\n      }\n\n      node = node.parentNode;\n    }\n  }\n\n  return false;\n}\n\nfunction isReadValue(element) {\n  return element.getAttribute("data-read_value") != "false";\n}\n\nfunction isUpdateValue(element) {\n  return element.getAttribute("data-update_value") != "false";\n}\n\nfunction isJsonString(str_data) {\n  try {\n    let json_data = JSON.parse(str_data);\n\n    if (typeof json_data === "object" && json_data != null) {\n      return true;\n    } else {\n      return false;\n    }\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction getAttributes(element) {\n  return element.getAttributeNames().reduce((attrMap, name) => {\n    attrMap[name] = element.getAttribute(name);\n    return attrMap;\n  }, {});\n}\n\nfunction checkValue(value) {\n  if (!value) return false;\n\n  if (/{{\\s*([\\w\\W]+)\\s*}}/g.test(value)) {\n    return false;\n  }\n\n  return true;\n} // hosseins utills\n// function to go through all frames\n\n\nfunction allFrame(callback) {\n  let allFrames = [{\n    document,\n    window\n  }];\n\n  for (let frame of document.querySelectorAll("iframe")) {\n    let frameDocument = frame.contentDocument || frame.contentWindow.document;\n    let frameWindow = frame.contentWindow;\n    allFrames.push({\n      document: frameDocument,\n      window: frameWindow,\n      frameElement: frame\n    });\n  }\n\n  let result = new Set();\n\n  for (let frame of allFrames) {\n    let callbackResult = callback(frame);\n    if (callbackResult && typeof callbackResult[Symbol.iterator] === "function") callbackResult.forEach(el => result.add(el));else if (callbackResult) result.add(callbackResult);\n  }\n\n  return Array.from(result);\n}\n\nfunction cssPath(node) {\n  let pathSplits = [];\n\n  do {\n    if (!node || !node.tagName) return false;\n    let pathSplit = node.tagName.toLowerCase();\n    if (node.id && node.tagName !== "BODY") pathSplit += "#" + node.id;\n\n    if (node.classList.length && node.tagName !== "BODY") {\n      node.classList.forEach(item => {\n        if (item.indexOf(":") === -1) pathSplit += "." + item;\n      });\n    }\n\n    if (node.tagName !== "BODY" && node.parentNode) {\n      let index = Array.prototype.indexOf.call(node.parentNode.children, node);\n      pathSplit += `:nth-child(${index + 1})`;\n    }\n\n    pathSplits.unshift(pathSplit);\n    node = node.parentNode;\n  } while (node.tagName !== "HTML");\n\n  return pathSplits.join(" > ");\n}\n\nfunction getTopMostWindow() {\n  let parentWindow = window;\n\n  while (parentWindow !== window.parent) parentWindow = window.parent;\n\n  return parentWindow;\n}\n\nfunction findIframeFromElement(windowObject, element) {\n  let frameElement;\n  allFrame(frame => {\n    if (frame.document.contains(element)) frameElement = frame.frameElement; // window.cc.findIframeFromElement(frame.window, element);\n  });\n  return frameElement;\n}\n\nfunction getIframeFromPath(path) {\n  let topWindow = getTopMostWindow;\n  path.forEach(selector => {\n    if (topWindow) topWindow = topWindow.querySelector(selector);\n  });\n  return topWindow;\n} // DO NOT REMOVE\n\n\nfunction* configMatch(elementConfig, element) {\n  for (let config of elementConfig) {\n    // if (!Array.isArray(config.selector))\n    //   config.selector = [config.selector];\n    if (config.selector && element.matches(config.selector)) yield config;\n  }\n\n  return;\n} // export function configMatch2(elementConfig, element) {\n//   let result = [];\n//   for (let config of elementConfig) {\n//     if (config.selector && element.matches(config.selector)) result.push(config);\n//   }\n//   return result;\n// }\n// DO NOT REMOVE\n// an opiniated function uses configMatch2 to read configs\n// WARNING: the config iterated from top to bottom. for deseired effect elementConfig should be reveresed\n// typeof elementConfig: array of objects and every objects containing keys as false, true or a selector \n// element: the element to read attributes\n// key: the key in which is in elementConfig and on match onSuccess callback will be called\n\n\nfunction configExecuter(element, key, onSuccess, elementConfig) {\n  for (let config of configMatch(elementConfig || window.elementConfig, element)) if (config[key] === true) return onSuccess(element, config);else if (config[key] === false) return false;else if (config[key] === undefined) continue;else if (isValidSelector(config[key])) return onSuccess(element, config, true);else console.warn("builder: wrong element config ", config);\n\n  return false;\n}\n\nfunction UUID(length = 10) {\n  var result = "";\n  var characters = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";\n  var charactersLength = characters.length;\n\n  for (var i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n\n  var d = new Date().toTimeString();\n  var random = d.replace(/[\\W_]+/g, "").substr(0, 6);\n  result += random;\n  return result;\n}\n\nfunction parseTextToHtml(text) {\n  let doc = new DOMParser().parseFromString(text, "text/html");\n  if (doc.head.children[0]) return doc.head.children[0];else return doc.body.children[0];\n}\n\nfunction splitBydelimiter(str, delimiter) {\n  return str.split(delimiter).map(s => s.trim());\n}\n\nfunction joinBydelimiter(str, delimiter) {\n  return str.map(s => s.trim()).join(delimiter);\n}\n\nfunction isValidSelector(selector) {\n  try {\n    document.createDocumentFragment().querySelector(selector);\n  } catch (error) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction getElementPath(element, returnContext) {\n  let path = [];\n  let topWindow = window;\n  let iframeElement = findIframeFromElement(topWindow, element);\n  let p = cssPath(iframeElement);\n  if (p) path.unshift(p);\n  return returnContext ? {\n    path,\n    document: iframeElement || document\n  } : path; //todo: support for nested iframe\n  // while(iframeElement !== findIframeFromElement(topWindow,iframeElement))\n  // {\n  //   iframeElement = findIframeFromElement(topWindow,iframeElement);\n  //   path.unshift(cssPath(iframeElement))\n  // }\n}\n\nfunction isUsageY(input) {\n  if (this.isJsonString(input.getAttribute(\'data-collection\'))) {\n    return false;\n  }\n\n  if (this.isJsonString(input.getAttribute(\'name\'))) {\n    return false;\n  }\n\n  if (input.tagName === "INPUT" && ["text", "email", "tel", "url"].includes(input.type) || input.tagName === "TEXTAREA") {\n    if (!input.getAttribute(\'name\')) {\n      return false;\n    }\n\n    if (input.getAttribute("data-realtime") == "false") {\n      return false;\n    }\n\n    if (input.getAttribute("data-unique") === "true") {\n      return false;\n    }\n\n    if (input.type === \'password\') {\n      return false;\n    }\n\n    if (!this.isReadValue(input)) {\n      return false;\n    }\n\n    return true;\n  }\n\n  return false;\n}\n\nvar _default = {\n  isUsageY,\n  getElementPath,\n  isValidSelector,\n  joinBydelimiter,\n  splitBydelimiter,\n  parseTextToHtml,\n  UUID,\n  configExecuter,\n  configMatch,\n  getIframeFromPath,\n  findIframeFromElement,\n  getTopMostWindow,\n  cssPath,\n  allFrame,\n  checkValue,\n  getAttributes,\n  isJsonString,\n  isUpdateValue,\n  isReadValue,\n  getParentFromElement,\n  isRealTime,\n  generateUUID\n};\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5xdWlsbC8vaG9tZS91YnVudHUvZW52aXJvbm1lbnQvcHVibGljL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtdXRpbHMvc3JjL2luZGV4LmpzP2E5NTYiXSwibmFtZXMiOlsiZ2VuZXJhdGVVVUlEIiwibGVuZ3RoIiwiZCIsIkRhdGUiLCJnZXRUaW1lIiwiZDIiLCJ3aW5kb3ciLCJwZXJmb3JtYW5jZSIsIm5vdyIsInBhdHRlcm4iLCJzdWJzdHIiLCJhZGRfbGVuIiwic3ViX3BhdHRlcm4iLCJncm91cF9uIiwiTWF0aCIsImZsb29yIiwiaSIsInV1aWQiLCJyZXBsYWNlIiwiYyIsInIiLCJyYW5kb20iLCJ0b1N0cmluZyIsImlzUmVhbFRpbWUiLCJlbGVtZW50IiwicGFyZW50X3JlYWxUaW1lIiwicmVhbHRpbWUiLCJnZXRBdHRyaWJ1dGUiLCJnZXRQYXJlbnRGcm9tRWxlbWVudCIsInBhcmVudF9jbGFzcyIsImF0dHJpYnV0ZXMiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsIm5vZGUiLCJwYXJlbnROb2RlIiwiZXZlcnkiLCJhdHRyIiwiaGFzT3duUHJvcGVydHkiLCJpc1JlYWRWYWx1ZSIsImlzVXBkYXRlVmFsdWUiLCJpc0pzb25TdHJpbmciLCJzdHJfZGF0YSIsImpzb25fZGF0YSIsIkpTT04iLCJwYXJzZSIsImUiLCJnZXRBdHRyaWJ1dGVzIiwiZ2V0QXR0cmlidXRlTmFtZXMiLCJyZWR1Y2UiLCJhdHRyTWFwIiwibmFtZSIsImNoZWNrVmFsdWUiLCJ2YWx1ZSIsInRlc3QiLCJhbGxGcmFtZSIsImNhbGxiYWNrIiwiYWxsRnJhbWVzIiwiZG9jdW1lbnQiLCJmcmFtZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmcmFtZURvY3VtZW50IiwiY29udGVudERvY3VtZW50IiwiY29udGVudFdpbmRvdyIsImZyYW1lV2luZG93IiwicHVzaCIsImZyYW1lRWxlbWVudCIsInJlc3VsdCIsIlNldCIsImNhbGxiYWNrUmVzdWx0IiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJmb3JFYWNoIiwiZWwiLCJhZGQiLCJBcnJheSIsImZyb20iLCJjc3NQYXRoIiwicGF0aFNwbGl0cyIsInRhZ05hbWUiLCJwYXRoU3BsaXQiLCJ0b0xvd2VyQ2FzZSIsImlkIiwiaXRlbSIsImluZGV4T2YiLCJpbmRleCIsInByb3RvdHlwZSIsImNhbGwiLCJjaGlsZHJlbiIsInVuc2hpZnQiLCJqb2luIiwiZ2V0VG9wTW9zdFdpbmRvdyIsInBhcmVudFdpbmRvdyIsInBhcmVudCIsImZpbmRJZnJhbWVGcm9tRWxlbWVudCIsIndpbmRvd09iamVjdCIsImdldElmcmFtZUZyb21QYXRoIiwicGF0aCIsInRvcFdpbmRvdyIsInNlbGVjdG9yIiwicXVlcnlTZWxlY3RvciIsImNvbmZpZ01hdGNoIiwiZWxlbWVudENvbmZpZyIsImNvbmZpZyIsIm1hdGNoZXMiLCJjb25maWdFeGVjdXRlciIsImtleSIsIm9uU3VjY2VzcyIsInVuZGVmaW5lZCIsImlzVmFsaWRTZWxlY3RvciIsImNvbnNvbGUiLCJ3YXJuIiwiVVVJRCIsImNoYXJhY3RlcnMiLCJjaGFyYWN0ZXJzTGVuZ3RoIiwiY2hhckF0IiwidG9UaW1lU3RyaW5nIiwicGFyc2VUZXh0VG9IdG1sIiwidGV4dCIsImRvYyIsIkRPTVBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsImhlYWQiLCJib2R5Iiwic3BsaXRCeWRlbGltaXRlciIsInN0ciIsImRlbGltaXRlciIsInNwbGl0IiwibWFwIiwicyIsInRyaW0iLCJqb2luQnlkZWxpbWl0ZXIiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiZXJyb3IiLCJnZXRFbGVtZW50UGF0aCIsInJldHVybkNvbnRleHQiLCJpZnJhbWVFbGVtZW50IiwicCIsImlzVXNhZ2VZIiwiaW5wdXQiLCJpbmNsdWRlcyIsInR5cGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFHTyxTQUFTQSxZQUFULENBQXNCQyxN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Q0Q7O2VBRWM7QUFDYkQsVUFEYTtBQUViSixnQkFGYTtBQUdiekIsaUJBSGE7QUFJYnNCLGlCQUphO0FBS2JQLGtCQUxhO0FBTWJQLGlCQU5hO0FBT2JMLE1BUGE7QUFRYlAsZ0JBUmE7QUFTYkosYUFUYTtBQVViTCxtQkFWYTtBQVdiRix1QkFYYTtBQVliSCxrQkFaYTtBQWFiZCxTQWJhO0FBY2J0QixVQWRhO0FBZWJILFlBZmE7QUFnQmJMLGVBaEJhO0FBaUJiTixjQWpCYTtBQWtCYkQsZUFsQmE7QUFtQmJELGFBbkJhO0FBb0JiVixzQkFwQmE7QUFxQmJMLFlBckJhO0FBc0JidkI7QUF0QmEsQyIsImZpbGUiOiIuLi8uLi9Db0NyZWF0ZS1jb21wb25lbnRzL0NvQ3JlYXRlLXV0aWxzL3NyYy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBqaW5cbiAqIDIwMjAtMDQtMDNcbiAqL1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVVVSUQobGVuZ3RoID0gMzYpIHtcbiAgLy8gaWYgKGxlbmd0aCA9PSAxMCkge1xuICAvLyAgIHZhciByZXN1bHQgICAgICAgICAgID0gJyc7XG4gIC8vICAgdmFyIGNoYXJhY3RlcnMgICAgICAgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODknO1xuICAvLyAgIHZhciBjaGFyYWN0ZXJzTGVuZ3RoID0gY2hhcmFjdGVycy5sZW5ndGg7XG4gIC8vICAgZm9yICggdmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG4gIC8vICAgICByZXN1bHQgKz0gY2hhcmFjdGVycy5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hhcmFjdGVyc0xlbmd0aCkpO1xuICAvLyAgIH1cblxuICAvLyAgIHZhciBkZCA9IG5ldyBEYXRlKCkudG9UaW1lU3RyaW5nKCk7XG4gIC8vICAgdmFyIHJhbmRvbSA9IGRkLnJlcGxhY2UoL1tcXFdfXSsvZywgXCJcIikuc3Vic3RyKDAsNik7XG4gIC8vICAgcmVzdWx0ICs9IHJhbmRvbTtcbiAgLy8gICByZXR1cm4gcmVzdWx0O1xuICAvLyB9XG5cbiAgbGV0IGQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgbGV0IGQyID1cbiAgICAod2luZG93LnBlcmZvcm1hbmNlICYmXG4gICAgICB3aW5kb3cucGVyZm9ybWFuY2Uubm93ICYmXG4gICAgICB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCkgKiAxMDAwKSB8fFxuICAgIDA7XG4gIGxldCBwYXR0ZXJuID0gXCJ1eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHhcIjtcblxuICBpZiAobGVuZ3RoIDw9IHBhdHRlcm4ubGVuZ3RoKSB7XG4gICAgcGF0dGVybiA9IHBhdHRlcm4uc3Vic3RyKDAsIGxlbmd0aCk7XG4gIH1cbiAgZWxzZSB7XG4gICAgbGV0IGFkZF9sZW4gPSBsZW5ndGggLSBwYXR0ZXJuLmxlbmd0aDtcbiAgICBsZXQgc3ViX3BhdHRlcm4gPSBcIi14eHh5eXh4eFwiO1xuXG4gICAgbGV0IGdyb3VwX24gPSBNYXRoLmZsb29yKGFkZF9sZW4gLyBzdWJfcGF0dGVybi5sZW5ndGgpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBncm91cF9uOyBpKyspIHtcbiAgICAgIHBhdHRlcm4gKz0gc3ViX3BhdHRlcm47XG4gICAgfVxuXG4gICAgZ3JvdXBfbiA9IGFkZF9sZW4gLSBncm91cF9uICogc3ViX3BhdHRlcm4ubGVuZ3RoO1xuICAgIHBhdHRlcm4gKz0gc3ViX3BhdHRlcm4uc3Vic3RyKDAsIGdyb3VwX24pO1xuICB9XG5cbiAgbGV0IHV1aWQgPSBwYXR0ZXJuLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24oYykge1xuICAgIHZhciByID0gTWF0aC5yYW5kb20oKSAqIDE2O1xuICAgIGlmIChkID4gMCkge1xuICAgICAgdmFyIHIgPSAoZCArIHIpICUgMTYgfCAwO1xuICAgICAgZCA9IE1hdGguZmxvb3IoZCAvIDE2KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB2YXIgciA9IChkMiArIHIpICUgMTYgfCAwO1xuICAgICAgZDIgPSBNYXRoLmZsb29yKGQyIC8gMTYpO1xuICAgIH1cbiAgICByZXR1cm4gKGMgPT0gXCJ4XCIgPyByIDogKHIgJiAweDcpIHwgMHg4KS50b1N0cmluZygxNik7XG4gIH0pO1xuICByZXR1cm4gdXVpZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVhbFRpbWUoZWxlbWVudCwgcGFyZW50X3JlYWxUaW1lKSB7XG4gIGxldCByZWFsdGltZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1yZWFsdGltZVwiKSB8fCBwYXJlbnRfcmVhbFRpbWU7XG4gIGlmIChyZWFsdGltZSA9PT0gXCJmYWxzZVwiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXJlbnRGcm9tRWxlbWVudChlbGVtZW50LCBwYXJlbnRfY2xhc3MsIGF0dHJpYnV0ZXMpIHtcbiAgaWYgKHBhcmVudF9jbGFzcykge1xuICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhwYXJlbnRfY2xhc3MpKSB7XG4gICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG5cbiAgICBsZXQgbm9kZSA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICB3aGlsZSAobm9kZSAhPSBudWxsICYmIG5vZGUuY2xhc3NMaXN0KSB7XG4gICAgICBpZiAobm9kZS5jbGFzc0xpc3QuY29udGFpbnMocGFyZW50X2NsYXNzKSkge1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgIH1cbiAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgfVxuICB9XG4gIGVsc2UgaWYgKGF0dHJpYnV0ZXMpIHtcbiAgICBpZiAoYXR0cmlidXRlcy5ldmVyeSgoYXR0cikgPT4gZWxlbWVudC5hdHRyaWJ1dGVzLmhhc093blByb3BlcnR5KGF0dHIpKSkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgbGV0IG5vZGUgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgd2hpbGUgKG5vZGUgIT0gbnVsbCAmJiBub2RlLmF0dHJpYnV0ZXMpIHtcbiAgICAgIGlmIChhdHRyaWJ1dGVzLmV2ZXJ5KChhdHRyKSA9PiBub2RlLmF0dHJpYnV0ZXMuaGFzT3duUHJvcGVydHkoYXR0cikpKSB7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgICAgfVxuICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1JlYWRWYWx1ZShlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtcmVhZF92YWx1ZVwiKSAhPSBcImZhbHNlXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1VwZGF0ZVZhbHVlKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS11cGRhdGVfdmFsdWVcIikgIT0gXCJmYWxzZVwiO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNKc29uU3RyaW5nKHN0cl9kYXRhKSB7XG4gIHRyeSB7XG4gICAgbGV0IGpzb25fZGF0YSA9IEpTT04ucGFyc2Uoc3RyX2RhdGEpO1xuICAgIGlmICh0eXBlb2YganNvbl9kYXRhID09PSBcIm9iamVjdFwiICYmIGpzb25fZGF0YSAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBdHRyaWJ1dGVzKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlTmFtZXMoKS5yZWR1Y2UoKGF0dHJNYXAsIG5hbWUpID0+IHtcbiAgICBhdHRyTWFwW25hbWVdID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUobmFtZSk7XG4gICAgcmV0dXJuIGF0dHJNYXA7XG4gIH0sIHt9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrVmFsdWUodmFsdWUpIHtcbiAgaWYgKCF2YWx1ZSkgcmV0dXJuIGZhbHNlO1xuICBpZiAoL3t7XFxzKihbXFx3XFxXXSspXFxzKn19L2cudGVzdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cbi8vIGhvc3NlaW5zIHV0aWxsc1xuXG4vLyBmdW5jdGlvbiB0byBnbyB0aHJvdWdoIGFsbCBmcmFtZXNcbmV4cG9ydCBmdW5jdGlvbiBhbGxGcmFtZShjYWxsYmFjaykge1xuICBsZXQgYWxsRnJhbWVzID0gW3sgZG9jdW1lbnQsIHdpbmRvdyB9XTtcbiAgZm9yIChsZXQgZnJhbWUgb2YgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImlmcmFtZVwiKSkge1xuICAgIGxldCBmcmFtZURvY3VtZW50ID0gZnJhbWUuY29udGVudERvY3VtZW50IHx8IGZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7XG4gICAgbGV0IGZyYW1lV2luZG93ID0gZnJhbWUuY29udGVudFdpbmRvdztcbiAgICBhbGxGcmFtZXMucHVzaCh7XG4gICAgICBkb2N1bWVudDogZnJhbWVEb2N1bWVudCxcbiAgICAgIHdpbmRvdzogZnJhbWVXaW5kb3csXG4gICAgICBmcmFtZUVsZW1lbnQ6IGZyYW1lLFxuICAgIH0pO1xuICB9XG4gIGxldCByZXN1bHQgPSBuZXcgU2V0KCk7XG4gIGZvciAobGV0IGZyYW1lIG9mIGFsbEZyYW1lcykge1xuICAgIGxldCBjYWxsYmFja1Jlc3VsdCA9IGNhbGxiYWNrKGZyYW1lKTtcbiAgICBpZiAoXG4gICAgICBjYWxsYmFja1Jlc3VsdCAmJlxuICAgICAgdHlwZW9mIGNhbGxiYWNrUmVzdWx0W1N5bWJvbC5pdGVyYXRvcl0gPT09IFwiZnVuY3Rpb25cIlxuICAgIClcbiAgICAgIGNhbGxiYWNrUmVzdWx0LmZvckVhY2goKGVsKSA9PiByZXN1bHQuYWRkKGVsKSk7XG4gICAgZWxzZSBpZiAoY2FsbGJhY2tSZXN1bHQpIHJlc3VsdC5hZGQoY2FsbGJhY2tSZXN1bHQpO1xuICB9XG5cbiAgcmV0dXJuIEFycmF5LmZyb20ocmVzdWx0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNzc1BhdGgobm9kZSkge1xuICBsZXQgcGF0aFNwbGl0cyA9IFtdO1xuICBkbyB7XG4gICAgaWYgKCFub2RlIHx8ICFub2RlLnRhZ05hbWUpIHJldHVybiBmYWxzZTtcbiAgICBsZXQgcGF0aFNwbGl0ID0gbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKG5vZGUuaWQgJiYgbm9kZS50YWdOYW1lICE9PSBcIkJPRFlcIikgcGF0aFNwbGl0ICs9IFwiI1wiICsgbm9kZS5pZDtcblxuICAgIGlmIChub2RlLmNsYXNzTGlzdC5sZW5ndGggJiYgbm9kZS50YWdOYW1lICE9PSBcIkJPRFlcIikge1xuICAgICAgbm9kZS5jbGFzc0xpc3QuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBpZiAoaXRlbS5pbmRleE9mKFwiOlwiKSA9PT0gLTEpIHBhdGhTcGxpdCArPSBcIi5cIiArIGl0ZW07XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAobm9kZS50YWdOYW1lICE9PSBcIkJPRFlcIiAmJiBub2RlLnBhcmVudE5vZGUpIHtcbiAgICAgIGxldCBpbmRleCA9IEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoXG4gICAgICAgIG5vZGUucGFyZW50Tm9kZS5jaGlsZHJlbixcbiAgICAgICAgbm9kZVxuICAgICAgKTtcbiAgICAgIHBhdGhTcGxpdCArPSBgOm50aC1jaGlsZCgke2luZGV4ICsgMX0pYDtcbiAgICB9XG5cbiAgICBwYXRoU3BsaXRzLnVuc2hpZnQocGF0aFNwbGl0KTtcbiAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICB9IHdoaWxlIChub2RlLnRhZ05hbWUgIT09IFwiSFRNTFwiKTtcblxuICByZXR1cm4gcGF0aFNwbGl0cy5qb2luKFwiID4gXCIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VG9wTW9zdFdpbmRvdygpIHtcbiAgbGV0IHBhcmVudFdpbmRvdyA9IHdpbmRvdztcbiAgd2hpbGUgKHBhcmVudFdpbmRvdyAhPT0gd2luZG93LnBhcmVudCkgcGFyZW50V2luZG93ID0gd2luZG93LnBhcmVudDtcbiAgcmV0dXJuIHBhcmVudFdpbmRvdztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRJZnJhbWVGcm9tRWxlbWVudCh3aW5kb3dPYmplY3QsIGVsZW1lbnQpIHtcbiAgbGV0IGZyYW1lRWxlbWVudDtcbiAgYWxsRnJhbWUoKGZyYW1lKSA9PiB7XG4gICAgaWYgKGZyYW1lLmRvY3VtZW50LmNvbnRhaW5zKGVsZW1lbnQpKSBmcmFtZUVsZW1lbnQgPSBmcmFtZS5mcmFtZUVsZW1lbnQ7XG4gICAgLy8gd2luZG93LmNjLmZpbmRJZnJhbWVGcm9tRWxlbWVudChmcmFtZS53aW5kb3csIGVsZW1lbnQpO1xuICB9KTtcbiAgcmV0dXJuIGZyYW1lRWxlbWVudDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldElmcmFtZUZyb21QYXRoKHBhdGgpIHtcbiAgbGV0IHRvcFdpbmRvdyA9IGdldFRvcE1vc3RXaW5kb3c7XG5cbiAgcGF0aC5mb3JFYWNoKChzZWxlY3RvcikgPT4ge1xuICAgIGlmICh0b3BXaW5kb3cpIHRvcFdpbmRvdyA9IHRvcFdpbmRvdy5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgfSk7XG4gIHJldHVybiB0b3BXaW5kb3c7XG59XG4vLyBETyBOT1QgUkVNT1ZFXG5cbmV4cG9ydCBmdW5jdGlvbiogY29uZmlnTWF0Y2goZWxlbWVudENvbmZpZywgZWxlbWVudCkge1xuICBmb3IgKGxldCBjb25maWcgb2YgZWxlbWVudENvbmZpZykge1xuICAgIC8vIGlmICghQXJyYXkuaXNBcnJheShjb25maWcuc2VsZWN0b3IpKVxuICAgIC8vICAgY29uZmlnLnNlbGVjdG9yID0gW2NvbmZpZy5zZWxlY3Rvcl07XG5cbiAgICBpZiAoY29uZmlnLnNlbGVjdG9yICYmIGVsZW1lbnQubWF0Y2hlcyhjb25maWcuc2VsZWN0b3IpKSB5aWVsZCBjb25maWc7XG4gIH1cbiAgcmV0dXJuO1xufVxuXG5cbi8vIGV4cG9ydCBmdW5jdGlvbiBjb25maWdNYXRjaDIoZWxlbWVudENvbmZpZywgZWxlbWVudCkge1xuLy8gICBsZXQgcmVzdWx0ID0gW107XG4vLyAgIGZvciAobGV0IGNvbmZpZyBvZiBlbGVtZW50Q29uZmlnKSB7XG4vLyAgICAgaWYgKGNvbmZpZy5zZWxlY3RvciAmJiBlbGVtZW50Lm1hdGNoZXMoY29uZmlnLnNlbGVjdG9yKSkgcmVzdWx0LnB1c2goY29uZmlnKTtcbi8vICAgfVxuLy8gICByZXR1cm4gcmVzdWx0O1xuLy8gfVxuXG4vLyBETyBOT1QgUkVNT1ZFXG5cbi8vIGFuIG9waW5pYXRlZCBmdW5jdGlvbiB1c2VzIGNvbmZpZ01hdGNoMiB0byByZWFkIGNvbmZpZ3Ncbi8vIFdBUk5JTkc6IHRoZSBjb25maWcgaXRlcmF0ZWQgZnJvbSB0b3AgdG8gYm90dG9tLiBmb3IgZGVzZWlyZWQgZWZmZWN0IGVsZW1lbnRDb25maWcgc2hvdWxkIGJlIHJldmVyZXNlZFxuLy8gdHlwZW9mIGVsZW1lbnRDb25maWc6IGFycmF5IG9mIG9iamVjdHMgYW5kIGV2ZXJ5IG9iamVjdHMgY29udGFpbmluZyBrZXlzIGFzIGZhbHNlLCB0cnVlIG9yIGEgc2VsZWN0b3IgXG4vLyBlbGVtZW50OiB0aGUgZWxlbWVudCB0byByZWFkIGF0dHJpYnV0ZXNcbi8vIGtleTogdGhlIGtleSBpbiB3aGljaCBpcyBpbiBlbGVtZW50Q29uZmlnIGFuZCBvbiBtYXRjaCBvblN1Y2Nlc3MgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWRcbmV4cG9ydCBmdW5jdGlvbiBjb25maWdFeGVjdXRlcihlbGVtZW50LCBrZXksIG9uU3VjY2VzcywgZWxlbWVudENvbmZpZykge1xuICBmb3IgKGxldCBjb25maWcgb2YgY29uZmlnTWF0Y2goZWxlbWVudENvbmZpZyB8fCB3aW5kb3cuZWxlbWVudENvbmZpZywgZWxlbWVudCkpXG4gICAgaWYgKGNvbmZpZ1trZXldID09PSB0cnVlKSByZXR1cm4gb25TdWNjZXNzKGVsZW1lbnQsIGNvbmZpZyk7XG4gICAgZWxzZSBpZiAoY29uZmlnW2tleV0gPT09IGZhbHNlKSByZXR1cm4gZmFsc2U7XG4gIGVsc2UgaWYgKGNvbmZpZ1trZXldID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuICBlbHNlIGlmIChpc1ZhbGlkU2VsZWN0b3IoY29uZmlnW2tleV0pKVxuICAgIHJldHVybiBvblN1Y2Nlc3MoZWxlbWVudCwgY29uZmlnLCB0cnVlKTtcbiAgZWxzZSBjb25zb2xlLndhcm4oXCJidWlsZGVyOiB3cm9uZyBlbGVtZW50IGNvbmZpZyBcIiwgY29uZmlnKTtcblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBVVUlEKGxlbmd0aCA9IDEwKSB7XG4gIHZhciByZXN1bHQgPSBcIlwiO1xuICB2YXIgY2hhcmFjdGVycyA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5elwiO1xuXG4gIHZhciBjaGFyYWN0ZXJzTGVuZ3RoID0gY2hhcmFjdGVycy5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICByZXN1bHQgKz0gY2hhcmFjdGVycy5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hhcmFjdGVyc0xlbmd0aCkpO1xuICB9XG5cbiAgdmFyIGQgPSBuZXcgRGF0ZSgpLnRvVGltZVN0cmluZygpO1xuICB2YXIgcmFuZG9tID0gZC5yZXBsYWNlKC9bXFxXX10rL2csIFwiXCIpLnN1YnN0cigwLCA2KTtcbiAgcmVzdWx0ICs9IHJhbmRvbTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVGV4dFRvSHRtbCh0ZXh0KSB7XG4gIGxldCBkb2MgPSBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKHRleHQsIFwidGV4dC9odG1sXCIpO1xuICBpZiAoZG9jLmhlYWQuY2hpbGRyZW5bMF0pIHJldHVybiBkb2MuaGVhZC5jaGlsZHJlblswXTtcbiAgZWxzZSByZXR1cm4gZG9jLmJvZHkuY2hpbGRyZW5bMF07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzcGxpdEJ5ZGVsaW1pdGVyKHN0ciwgZGVsaW1pdGVyKSB7XG4gIHJldHVybiBzdHIuc3BsaXQoZGVsaW1pdGVyKS5tYXAoKHMpID0+IHMudHJpbSgpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGpvaW5CeWRlbGltaXRlcihzdHIsIGRlbGltaXRlcikge1xuICByZXR1cm4gc3RyLm1hcCgocykgPT4gcy50cmltKCkpLmpvaW4oZGVsaW1pdGVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRTZWxlY3RvcihzZWxlY3Rvcikge1xuICB0cnkge1xuICAgIGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgfVxuICBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50UGF0aChlbGVtZW50LCByZXR1cm5Db250ZXh0KSB7XG4gIGxldCBwYXRoID0gW107XG5cbiAgbGV0IHRvcFdpbmRvdyA9IHdpbmRvdztcbiAgbGV0IGlmcmFtZUVsZW1lbnQgPSBmaW5kSWZyYW1lRnJvbUVsZW1lbnQodG9wV2luZG93LCBlbGVtZW50KTtcbiAgbGV0IHAgPSBjc3NQYXRoKGlmcmFtZUVsZW1lbnQpO1xuICBpZiAocCkgcGF0aC51bnNoaWZ0KHApO1xuXG4gIHJldHVybiByZXR1cm5Db250ZXh0ID8geyBwYXRoLCBkb2N1bWVudDogaWZyYW1lRWxlbWVudCB8fCBkb2N1bWVudCB9IDogcGF0aDtcbiAgLy90b2RvOiBzdXBwb3J0IGZvciBuZXN0ZWQgaWZyYW1lXG4gIC8vIHdoaWxlKGlmcmFtZUVsZW1lbnQgIT09IGZpbmRJZnJhbWVGcm9tRWxlbWVudCh0b3BXaW5kb3csaWZyYW1lRWxlbWVudCkpXG4gIC8vIHtcbiAgLy8gICBpZnJhbWVFbGVtZW50ID0gZmluZElmcmFtZUZyb21FbGVtZW50KHRvcFdpbmRvdyxpZnJhbWVFbGVtZW50KTtcbiAgLy8gICBwYXRoLnVuc2hpZnQoY3NzUGF0aChpZnJhbWVFbGVtZW50KSlcbiAgLy8gfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNVc2FnZVkoaW5wdXQpIHtcbiAgaWYgKHRoaXMuaXNKc29uU3RyaW5nKGlucHV0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2xsZWN0aW9uJykpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKHRoaXMuaXNKc29uU3RyaW5nKGlucHV0LmdldEF0dHJpYnV0ZSgnbmFtZScpKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICgoaW5wdXQudGFnTmFtZSA9PT0gXCJJTlBVVFwiICYmIFtcInRleHRcIiwgXCJlbWFpbFwiLCBcInRlbFwiLCBcInVybFwiXS5pbmNsdWRlcyhpbnB1dC50eXBlKSkgfHwgaW5wdXQudGFnTmFtZSA9PT0gXCJURVhUQVJFQVwiKSB7XG5cbiAgICBpZiAoIWlucHV0LmdldEF0dHJpYnV0ZSgnbmFtZScpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChpbnB1dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXJlYWx0aW1lXCIpID09IFwiZmFsc2VcIikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChpbnB1dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXVuaXF1ZVwiKSA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoaW5wdXQudHlwZSA9PT0gJ3Bhc3N3b3JkJykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5pc1JlYWRWYWx1ZShpbnB1dCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGlzVXNhZ2VZLFxuICBnZXRFbGVtZW50UGF0aCxcbiAgaXNWYWxpZFNlbGVjdG9yLFxuICBqb2luQnlkZWxpbWl0ZXIsXG4gIHNwbGl0QnlkZWxpbWl0ZXIsXG4gIHBhcnNlVGV4dFRvSHRtbCxcbiAgVVVJRCxcbiAgY29uZmlnRXhlY3V0ZXIsXG4gIGNvbmZpZ01hdGNoLFxuICBnZXRJZnJhbWVGcm9tUGF0aCxcbiAgZmluZElmcmFtZUZyb21FbGVtZW50LFxuICBnZXRUb3BNb3N0V2luZG93LFxuICBjc3NQYXRoLFxuICBhbGxGcmFtZSxcbiAgY2hlY2tWYWx1ZSxcbiAgZ2V0QXR0cmlidXRlcyxcbiAgaXNKc29uU3RyaW5nLFxuICBpc1VwZGF0ZVZhbHVlLFxuICBpc1JlYWRWYWx1ZSxcbiAgZ2V0UGFyZW50RnJvbUVsZW1lbnQsXG4gIGlzUmVhbFRpbWUsXG4gIGdlbmVyYXRlVVVJRFxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../CoCreate-components/CoCreate-utils/src/index.js\n')},"../../CoCreateJS/src/core.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = core;\n// ***********   define variables end ***************** /// \nconst CoCreateCore = {\n  socketInitFuncs: [],\n  moduleSelectors: [],\n  socket: null,\n  host: 'server.cocreate.app',\n  setSocket: function (socket) {\n    this.socket = socket;\n  },\n  init: function (host, namespace) {\n    if (host) {\n      this.host = host;\n    }\n\n    this.__setConfig();\n\n    this.createGeneralSocket(host, namespace || config.organization_Id);\n    this.initSocketListener();\n    this.createUserSocket(host);\n  },\n  __setConfig: function () {\n    let orgId = window.localStorage.getItem('organization_id');\n    let securityKey = window.localStorage.getItem('securityKey');\n    let apiKey = window.localStorage.getItem('apiKey');\n    if (orgId) config['organization_Id'] = orgId;\n    if (apiKey) config['apiKey'] = apiKey;\n    if (securityKey) config['securityKey'] = securityKey;\n  },\n  initSocketListener: function () {\n    const self = this;\n    this.socket.listen('connect', function (data, room) {\n      if (room == self.socket.getGlobalScope()) {\n        self.socketInitFuncs.forEach(func => {\n          func.initFunc.call(func.instance);\n        });\n      }\n    });\n    this.socket.listen('readDocument', function (data) {\n      const metadata = data.metadata; // if (metadata && metadata.type == 'crdt') {\n      //   self.initRenderCrdtData(data);\n      // } else {\n      //   // self.renderModules(data)\n      // }\n\n      return data;\n    });\n    this.socket.listen('updateDocument', function (data) {// self.renderModules(data)\n    });\n    this.socket.listen('deletedDocument', function (data) {\n      console.log(data);\n    });\n    this.socket.listen('sendMessage', function (data) {\n      console.log(data);\n    });\n    this.listenMessage('downloadFileInfo', function (data) {\n      self.socket.saveFileName = data.file_name;\n    });\n  },\n  createUserSocket: function (host) {\n    var user_id = window.localStorage.getItem('user_id');\n\n    if (user_id) {\n      this.socket.create({\n        namespace: 'users',\n        room: user_id,\n        host: host\n      });\n    }\n  },\n  createGeneralSocket: function (host, namespace) {\n    if (namespace) {\n      this.socket.create({\n        namespace: namespace,\n        room: null,\n        host: host\n      });\n      this.socket.setGlobalScope(namespace);\n    } else {\n      this.socket.create({\n        namespace: null,\n        room: null,\n        host: host\n      });\n    }\n  },\n  registerInit: function (initFunc, instance) {\n    this.socketInitFuncs.push({\n      initFunc,\n      instance: instance || window\n    });\n  },\n  // registerSelector: function(selector) {\n  //   if (this.moduleSelectors.indexOf(selector) === -1) {\n  //     this.moduleSelectors.push(selector);\n  //   }\n  // },\n  // getSelectors: function(selector) {\n  //   return this.moduleSelectors.join(\",\");\n  // },\n  listenMessage: function (message, fun) {\n    this.socket.listen(message, fun);\n  },\n  createSocket: function (config) {\n    this.socket.create(config);\n  },\n  destroySocket: function (config) {\n    const {\n      namespace,\n      room\n    } = config;\n    const key = this.socket.getKey(namespace, room);\n    let socket = this.socket.sockets.get(key);\n\n    if (!socket) {\n      return;\n    }\n\n    this.socket.destroy(socket, key);\n  }\n};\n\nfunction core(socket) {\n  CoCreateCore.setSocket(socket);\n  return CoCreateCore;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5xdWlsbC8vaG9tZS91YnVudHUvZW52aXJvbm1lbnQvcHVibGljL0NvQ3JlYXRlSlMvc3JjL2NvcmUuanM/YzhhNCJdLCJuYW1lcyI6WyJDb0NyZWF0ZUNvcmUiLCJzb2NrZXRJbml0RnVuY3MiLCJtb2R1bGVTZWxlY3RvcnMiLCJzb2NrZXQiLCJob3N0Iiwic2V0U29ja2V0IiwiaW5pdCIsIm5hbWVzcGFjZSIsIl9fc2V0Q29uZmlnIiwiY3JlYXRlR2VuZXJhbFNvY2tldCIsImNvbmZpZyIsIm9yZ2FuaXphdGlvbl9JZCIsImluaXRTb2NrZXRMaXN0ZW5lciIsImNyZWF0ZVVzZXJTb2NrZXQiLCJvcmdJZCIsIndpbmRvdyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzZWN1cml0eUtleSIsImFwaUtleSIsInNlbGYiLCJsaXN0ZW4iLCJkYXRhIiwicm9vbSIsImdldEdsb2JhbFNjb3BlIiwiZm9yRWFjaCIsImZ1bmMiLCJpbml0RnVuYyIsImNhbGwiLCJpbnN0YW5jZSIsIm1ldGFkYXRhIiwiY29uc29sZSIsImxvZyIsImxpc3Rlbk1lc3NhZ2UiLCJzYXZlRmlsZU5hbWUiLCJmaWxlX25hbWUiLCJ1c2VyX2lkIiwiY3JlYXRlIiwic2V0R2xvYmFsU2NvcGUiLCJyZWdpc3RlckluaXQiLCJwdXNoIiwibWVzc2FnZSIsImZ1biIsImNyZWF0ZVNvY2tldCIsImRlc3Ryb3lTb2NrZXQiLCJrZXkiLCJnZXRLZXkiLCJzb2NrZXRzIiwiZ2V0IiwiZGVzdHJveSIsImNvcmUiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBRUEsTUFBTUEsWUFBWSxHQUFHO0FBQ25CQyxpQkFBZSxFQUFFLEVBREU7QUFFbkJDLGlCQUFlLEVBQUUsRUFGRTtBQUduQkMsUUFBTSxFQUFFLElBSFc7QUFJbkJDLE1BQUksRUFBRSxxQkFKYTtBQU1uQkMsV0FBUyxFQUFFLFVBQVNGLE1BQVQsRUFBaUI7QUFDMUIsU0FBS0EsTUFBTCxHQUFjQSxNQUFk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QUFDQSxVQUFNbUMsR0FBRyxHQUFHLEtBQUsxQyxNQUFMLENBQVkyQyxNQUFaLENBQW1CdkMsU0FBbkIsRUFBOEJnQixJQUE5QixDQUFaO0FBQ0EsUUFBSXBCLE1BQU0sR0FBRyxLQUFLQSxNQUFMLENBQVk0QyxPQUFaLENBQW9CQyxHQUFwQixDQUF3QkgsR0FBeEIsQ0FBYjs7QUFFQSxRQUFJLENBQUMxQyxNQUFMLEVBQWE7QUFDWDtBQUNEOztBQUNELFNBQUtBLE1BQUwsQ0FBWThDLE9BQVosQ0FBb0I5QyxNQUFwQixFQUE0QjBDLEdBQTVCO0FBQ0Q7QUFySW1CLENBQXJCOztBQXdJZSxTQUFTSyxJQUFULENBQWMvQyxNQUFkLEVBQXNCO0FBQ25DSCxjQUFZLENBQUNLLFNBQWIsQ0FBdUJGLE1BQXZCO0FBQ0EsU0FBT0gsWUFBUDtBQUNEIiwiZmlsZSI6Ii4uLy4uL0NvQ3JlYXRlSlMvc3JjL2NvcmUuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyAqKioqKioqKioqKiAgIGRlZmluZSB2YXJpYWJsZXMgZW5kICoqKioqKioqKioqKioqKioqIC8vLyBcblxuY29uc3QgQ29DcmVhdGVDb3JlID0ge1xuICBzb2NrZXRJbml0RnVuY3M6IFtdLFxuICBtb2R1bGVTZWxlY3RvcnM6IFtdLFxuICBzb2NrZXQ6IG51bGwsXG4gIGhvc3Q6ICdzZXJ2ZXIuY29jcmVhdGUuYXBwJyxcbiAgXG4gIHNldFNvY2tldDogZnVuY3Rpb24oc29ja2V0KSB7XG4gICAgdGhpcy5zb2NrZXQgPSBzb2NrZXQ7XG4gIH0sXG5cbiAgXG4gIGluaXQ6IGZ1bmN0aW9uKGhvc3QsIG5hbWVzcGFjZSkge1xuICAgIGlmIChob3N0KSB7XG4gICAgICB0aGlzLmhvc3QgPSBob3N0O1xuICAgIH1cbiAgICBcbiAgICB0aGlzLl9fc2V0Q29uZmlnKClcbiAgICB0aGlzLmNyZWF0ZUdlbmVyYWxTb2NrZXQoaG9zdCwgbmFtZXNwYWNlIHx8IGNvbmZpZy5vcmdhbml6YXRpb25fSWQpO1xuICAgIHRoaXMuaW5pdFNvY2tldExpc3RlbmVyKCk7XG4gICAgdGhpcy5jcmVhdGVVc2VyU29ja2V0KGhvc3QpO1xuICB9LFxuICBcbiAgX19zZXRDb25maWc6IGZ1bmN0aW9uKCkge1xuXHRcdGxldCBvcmdJZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnb3JnYW5pemF0aW9uX2lkJyk7XG5cdFx0bGV0IHNlY3VyaXR5S2V5ID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzZWN1cml0eUtleScpO1xuXHRcdGxldCBhcGlLZXkgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FwaUtleScpO1xuXHRcdFxuXHRcdGlmIChvcmdJZCkgICAgICAgIGNvbmZpZ1snb3JnYW5pemF0aW9uX0lkJ10gPSBvcmdJZFxuXHRcdGlmIChhcGlLZXkpICAgICAgIGNvbmZpZ1snYXBpS2V5J10gPSBhcGlLZXlcblx0XHRpZiAoc2VjdXJpdHlLZXkpICBjb25maWdbJ3NlY3VyaXR5S2V5J10gPSBzZWN1cml0eUtleTtcbiAgfSxcbiAgXG4gIGluaXRTb2NrZXRMaXN0ZW5lcjogZnVuY3Rpb24oKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgXG4gICAgdGhpcy5zb2NrZXQubGlzdGVuKCdjb25uZWN0JywgZnVuY3Rpb24gKGRhdGEsIHJvb20pIHtcbiAgICAgIFxuICAgICAgaWYgKHJvb20gPT0gc2VsZi5zb2NrZXQuZ2V0R2xvYmFsU2NvcGUoKSkge1xuICAgICAgICBzZWxmLnNvY2tldEluaXRGdW5jcy5mb3JFYWNoKChmdW5jKSA9PiB7XG4gICAgICAgICAgZnVuYy5pbml0RnVuYy5jYWxsKGZ1bmMuaW5zdGFuY2UpO1xuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pXG4gICAgXG4gICAgdGhpcy5zb2NrZXQubGlzdGVuKCdyZWFkRG9jdW1lbnQnLCBmdW5jdGlvbihkYXRhKXtcbiAgICAgIGNvbnN0IG1ldGFkYXRhID0gZGF0YS5tZXRhZGF0YTtcbiAgICAgIC8vIGlmIChtZXRhZGF0YSAmJiBtZXRhZGF0YS50eXBlID09ICdjcmR0Jykge1xuICAgICAgLy8gICBzZWxmLmluaXRSZW5kZXJDcmR0RGF0YShkYXRhKTtcbiAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAvLyAgIC8vIHNlbGYucmVuZGVyTW9kdWxlcyhkYXRhKVxuICAgICAgLy8gfVxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSlcbiAgICBcbiAgICB0aGlzLnNvY2tldC5saXN0ZW4oJ3VwZGF0ZURvY3VtZW50JywgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgLy8gc2VsZi5yZW5kZXJNb2R1bGVzKGRhdGEpXG4gICAgfSlcbiAgICBcbiAgICB0aGlzLnNvY2tldC5saXN0ZW4oJ2RlbGV0ZWREb2N1bWVudCcsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgIH0pXG4gICAgXG4gICAgdGhpcy5zb2NrZXQubGlzdGVuKCdzZW5kTWVzc2FnZScsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgIH0pXG4gICAgXG4gICAgdGhpcy5saXN0ZW5NZXNzYWdlKCdkb3dubG9hZEZpbGVJbmZvJywgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgc2VsZi5zb2NrZXQuc2F2ZUZpbGVOYW1lID0gZGF0YS5maWxlX25hbWU7XG4gICAgfSlcbiAgICBcbiAgfSxcbiAgXG4gIGNyZWF0ZVVzZXJTb2NrZXQ6IGZ1bmN0aW9uKGhvc3QpIHtcbiAgICB2YXIgdXNlcl9pZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcl9pZCcpO1xuICAgIGlmICh1c2VyX2lkKSB7XG4gICAgICB0aGlzLnNvY2tldC5jcmVhdGUoe1xuICAgICAgICBuYW1lc3BhY2U6ICd1c2VycycsXG4gICAgICAgIHJvb206IHVzZXJfaWQsXG4gICAgICAgIGhvc3Q6IGhvc3RcbiAgICAgIH0pXG4gICAgfVxuICB9LFxuICBcbiAgY3JlYXRlR2VuZXJhbFNvY2tldDogZnVuY3Rpb24oaG9zdCwgbmFtZXNwYWNlKSB7XG4gICAgaWYgKG5hbWVzcGFjZSkge1xuICAgIFx0dGhpcy5zb2NrZXQuY3JlYXRlKHtcbiAgICBcdCAgbmFtZXNwYWNlOiBuYW1lc3BhY2UsIFxuICAgIFx0ICByb29tOiBudWxsLFxuICAgIFx0ICBob3N0OiBob3N0XG4gICAgXHR9KTtcbiAgICBcdHRoaXMuc29ja2V0LnNldEdsb2JhbFNjb3BlKG5hbWVzcGFjZSk7XG4gICAgfSBlbHNlIHtcbiAgICBcdHRoaXMuc29ja2V0LmNyZWF0ZSh7XG4gICAgXHQgIG5hbWVzcGFjZTogbnVsbCwgXG4gICAgXHQgIHJvb206IG51bGwsXG4gICAgXHQgIGhvc3Q6IGhvc3RcbiAgICBcdH0pO1xuICAgIH1cbiAgfSxcbiAgXG4gIHJlZ2lzdGVySW5pdDogZnVuY3Rpb24oaW5pdEZ1bmMsIGluc3RhbmNlKSB7XG4gICAgdGhpcy5zb2NrZXRJbml0RnVuY3MucHVzaCh7XG4gICAgICBpbml0RnVuYyxcbiAgICAgIGluc3RhbmNlIDogaW5zdGFuY2UgfHwgd2luZG93XG4gICAgfSk7XG4gIH0sXG4gIC8vIHJlZ2lzdGVyU2VsZWN0b3I6IGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gIC8vICAgaWYgKHRoaXMubW9kdWxlU2VsZWN0b3JzLmluZGV4T2Yoc2VsZWN0b3IpID09PSAtMSkge1xuICAvLyAgICAgdGhpcy5tb2R1bGVTZWxlY3RvcnMucHVzaChzZWxlY3Rvcik7XG4gIC8vICAgfVxuICAvLyB9LFxuICBcbiAgLy8gZ2V0U2VsZWN0b3JzOiBmdW5jdGlvbihzZWxlY3Rvcikge1xuICAvLyAgIHJldHVybiB0aGlzLm1vZHVsZVNlbGVjdG9ycy5qb2luKFwiLFwiKTtcbiAgLy8gfSxcblxuICBsaXN0ZW5NZXNzYWdlOiBmdW5jdGlvbihtZXNzYWdlLCBmdW4pIHtcbiAgICB0aGlzLnNvY2tldC5saXN0ZW4obWVzc2FnZSwgZnVuKTtcbiAgfSxcbiBcbiBjcmVhdGVTb2NrZXQ6IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgdGhpcy5zb2NrZXQuY3JlYXRlKGNvbmZpZyk7XG4gfSxcbiBcbiBkZXN0cm95U29ja2V0OiBmdW5jdGlvbihjb25maWcpIHtcbiAgIGNvbnN0IHtuYW1lc3BhY2UsIHJvb219ID0gY29uZmlnO1xuICAgY29uc3Qga2V5ID0gdGhpcy5zb2NrZXQuZ2V0S2V5KG5hbWVzcGFjZSwgcm9vbSk7XG4gICBsZXQgc29ja2V0ID0gdGhpcy5zb2NrZXQuc29ja2V0cy5nZXQoa2V5KTtcbiAgIFxuICAgaWYgKCFzb2NrZXQpIHtcbiAgICAgcmV0dXJuXG4gICB9XG4gICB0aGlzLnNvY2tldC5kZXN0cm95KHNvY2tldCwga2V5KTtcbiB9LFxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb3JlKHNvY2tldCkge1xuICBDb0NyZWF0ZUNvcmUuc2V0U29ja2V0KHNvY2tldCk7XG4gIHJldHVybiBDb0NyZWF0ZUNvcmU7XG59XG5cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../CoCreateJS/src/core.js\n")},"../../CoCreateJS/src/index.js":function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.addComponent = addComponent;\nexports.removeComponent = removeComponent;\nexports.utils = exports.message = exports.crud = exports.socket = exports.core = void 0;\n\nvar _socket = _interopRequireDefault(__webpack_require__(/*! @cocreate/socket */ "../../CoCreateJS/node_modules/@cocreate/socket/src/index.js"));\n\nvar _core = _interopRequireDefault(__webpack_require__(/*! ./core.js */ "../../CoCreateJS/src/core.js"));\n\nvar utils = _interopRequireWildcard(__webpack_require__(/*! @cocreate/utils */ "../../CoCreateJS/node_modules/@cocreate/utils/src/index.js"));\n\nexports.utils = utils;\n\nvar _message = _interopRequireDefault(__webpack_require__(/*! @cocreate/message */ "../../CoCreateJS/node_modules/@cocreate/message/src/index.js"));\n\nvar _crud = _interopRequireDefault(__webpack_require__(/*! @cocreate/crud */ "../../CoCreateJS/node_modules/@cocreate/crud/src/index.js"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*global window*/\nlet socket = new _socket.default(\'ws\'); // let socketApi = new CoCreateSocket(\'api\');\n\nexports.socket = socket;\nlet core = (0, _core.default)(socket);\nexports.core = core;\nlet crud = (0, _crud.default)(socket);\nexports.crud = crud;\nlet message = (0, _message.default)(socket);\nexports.message = message;\ncore.init(window.config.host ? window.config.host : \'server.cocreate.app\');\n\nfunction addComponent(key, component) {\n  this[key] = component;\n}\n\nfunction removeComponent(key) {\n  if (this[key]) {}\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5xdWlsbC8vaG9tZS91YnVudHUvZW52aXJvbm1lbnQvcHVibGljL0NvQ3JlYXRlSlMvc3JjL2luZGV4LmpzPzNkMjUiXSwibmFtZXMiOlsic29ja2V0IiwiQ29DcmVhdGVTb2NrZXQiLCJjb3JlIiwiY3J1ZCIsIm1lc3NhZ2UiLCJpbml0Iiwid2luZG93IiwiY29uZmlnIiwiaG9zdCIsImFkZENvbXBvbmVudCIsImtleSIsImNvbXBvbmVudCIsInJlbW92ZUNvbXBvbmVudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFDQTs7QUFDQTs7Ozs7Ozs7QUFMQTtBQU9BLElBQUlBLE1BQU0sR0FBRyxJQUFJQyxlQUFKLENBQW1CLElBQW5CLENBQWIsQyxDQUNBOzs7QUFFQSxJQUFJQyxJQUFJLEdBQUcsbUJBQUtGLE1BQUwsQ0FBWDs7QUFDQSxJQUFJRyxJQUFJLEdBQUcsbUJBQUtILE1BQUwsQ0FBWDs7QUFDQSxJQUFJSSxPQUFPLEdBQUcsc0JBQVFKLE1BQVIsQ0FBZDs7QUFFQUUsSUFBSSxDQUFDRyxJQUFMLENBQVVDLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjQyxJQUFkLEdBQXFCRixNQUFNLENBQUNDLE1BQVAsQ0FBY0MsSUFBbkMsR0FBMEMscUJBQXBEOztBQUVBLFNBQVNDLFlBQVQsQ0FBc0JDLEdBQXRCLEVBQTJCQyxTQUEzQixFQUFzQztBQUNsQyxPQUFLRCxHQUFMLElBQVlDLFNBQVo7QUFDSDs7QUFFRCxTQUFTQyxlQUFULENBQXlCRixHQUF6QixFQUE4QjtBQUMxQixNQUFJLEtBQUtBLEdBQUwsQ0FBSixFQUFlLENBRWQ7QUFDSiIsImZpbGUiOiIuLi8uLi9Db0NyZWF0ZUpTL3NyYy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qZ2xvYmFsIHdpbmRvdyovXG5pbXBvcnQgQ29DcmVhdGVTb2NrZXQgZnJvbSBcIkBjb2NyZWF0ZS9zb2NrZXRcIlxuaW1wb3J0IENvcmUgZnJvbSBcIi4vY29yZS5qc1wiXG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tIFwiQGNvY3JlYXRlL3V0aWxzXCJcbmltcG9ydCBNZXNzYWdlIGZyb20gXCJAY29jcmVhdGUvbWVzc2FnZVwiXG5pbXBvcnQgQ1JVRCBmcm9tIFwiQGNvY3JlYXRlL2NydWRcIlxuXG5sZXQgc29ja2V0ID0gbmV3IENvQ3JlYXRlU29ja2V0KCd3cycpO1xuLy8gbGV0IHNvY2tldEFwaSA9IG5ldyBDb0NyZWF0ZVNvY2tldCgnYXBpJyk7XG5cbmxldCBjb3JlID0gQ29yZShzb2NrZXQpXG5sZXQgY3J1ZCA9IENSVUQoc29ja2V0KVxubGV0IG1lc3NhZ2UgPSBNZXNzYWdlKHNvY2tldClcblxuY29yZS5pbml0KHdpbmRvdy5jb25maWcuaG9zdCA/IHdpbmRvdy5jb25maWcuaG9zdCA6ICdzZXJ2ZXIuY29jcmVhdGUuYXBwJyk7XG5cbmZ1bmN0aW9uIGFkZENvbXBvbmVudChrZXksIGNvbXBvbmVudCkge1xuICAgIHRoaXNba2V5XSA9IGNvbXBvbmVudDtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlQ29tcG9uZW50KGtleSkge1xuICAgIGlmICh0aGlzW2tleV0pIHtcblxuICAgIH1cbn1cblxuZXhwb3J0IHtcbiAgICBjb3JlLFxuICAgIHNvY2tldCxcbiAgICBjcnVkLFxuICAgIHV0aWxzLFxuICAgIG1lc3NhZ2UsXG4gICAgYWRkQ29tcG9uZW50LFxuICAgIHJlbW92ZUNvbXBvbmVudFxufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../CoCreateJS/src/index.js\n')},"./src/index.js":function(module,exports,__webpack_require__){"use strict";eval("\n/* eslint-env browser */\n// @ts-ignore\n\nvar Y = _interopRequireWildcard(__webpack_require__(/*! yjs */ \"./node_modules/yjs/dist/yjs.mjs\"));\n\nvar _yQuill_binding = __webpack_require__(/*! ./js/y-quill_binding */ \"./src/js/y-quill_binding.js\");\n\nvar _quill = _interopRequireDefault(__webpack_require__(/*! quill */ \"./node_modules/quill/dist/quill.js\"));\n\nvar _quillCursors = _interopRequireDefault(__webpack_require__(/*! quill-cursors */ \"./node_modules/quill-cursors/dist/quill-cursors.js\"));\n\nvar _userCursor_class = __webpack_require__(/*! @cocreate/crdt/src/utils/cursor/userCursor_class */ \"../../CoCreate-components/CoCreate-crdt/src/utils/cursor/userCursor_class.js\");\n\nvar _src = _interopRequireDefault(__webpack_require__(/*! @cocreate/crdt/src */ \"../../CoCreate-components/CoCreate-crdt/src/index.js\"));\n\nvar _src2 = _interopRequireDefault(__webpack_require__(/*! @cocreate/form/src */ \"../../CoCreate-components/CoCreate-form/src/index.js\"));\n\nvar _src3 = _interopRequireDefault(__webpack_require__(/*! @cocreate/observer/src */ \"../../CoCreate-components/CoCreate-observer/src/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n_quill.default.register('modules/cursors', _quillCursors.default);\n\nwindow.addEventListener('load', () => {\n  /**\n   * Create all  Quills with class .quill\n   * @private\n   *\n   * @development jeanmendozar@gmail.com\n   * @param {None}\n   */\n  class CoCreateYjsQuill {\n    constructor(selector) {\n      this.elements = [];\n      this.selector = selector;\n      this.editors = [];\n      this.bindings = [];\n      this.organization_Id = config.organization_Id || 'randomOrganizationID';\n      this.themeQuill = 'snow';\n      this.onNewEditor = null; //this.themeQuill = typeof window.config.themeQuill != 'undefined' ? window.config.themeQuill : 'snow';\n    }\n\n    _createEditor(editorContainer) {\n      let themeQuill = editorContainer.dataset['theme'] ? editorContainer.dataset['theme'] : this.themeQuill;\n      console.log(\"ThemeQuill => \" + themeQuill);\n      var editor = new _quill.default(editorContainer, {\n        modules: {\n          cursors: true,\n          toolbar: [[{\n            header: [1, 2, false]\n          }], ['bold', 'italic', 'underline'], ['image', 'code-block']],\n          history: {\n            userOnly: true\n          }\n        },\n        placeholder: 'Start collaborating...',\n        theme: themeQuill // 'snow' or  'bubble'\n\n      });\n      this.editors.push(editor);\n      if (this.onNewEditor) this.onNewEditor(editor);\n      return editor;\n    }\n\n    _createBinding(type_element, editor, provider) {\n      let binding = new _yQuill_binding.QuillBinding(type_element, editor, provider.awareness);\n      this.bindings.push(binding);\n      return binding;\n    }\n\n    initYSocket(element, editor) {\n      let collection = element.getAttribute('data-collection');\n      let name = element.getAttribute('name');\n      let document_id = element.getAttribute('data-document_id');\n\n      if (collection && name && document_id) {\n        const id = _src.default.generateID(config.organization_Id, collection, document_id, name);\n\n        _src.default.createDoc(id, element);\n\n        let provider = _src.default.getProvider(id);\n\n        let doc_type = _src.default.getType(id);\n\n        let binding = this._createBinding(doc_type, editor, provider);\n\n        setTimeout(function () {\n          if (element.crudSetted) {\n            return;\n          } // CoCreate.getDocument({\n          // \tcollection: collection,\n          // \tdocument_id: document_id,\n          // \tmetadata: {\n          // \t\ttype: 'crdt'\n          // \t}\n          // })\n\n        }, 1000);\n        new _userCursor_class.UserCursor(provider);\n      }\n    }\n\n    init(container) {\n      this._init(container);\n\n      this.initSocketEvent();\n    }\n\n    _init(container) {\n      var _this = this;\n\n      const mainContainer = container || document;\n      let elements = mainContainer.querySelectorAll('.quill');\n\n      if (elements.length == 0 && mainContainer.classList && mainContainer.classList.contains('quill')) {\n        elements = [mainContainer];\n      }\n\n      elements.forEach(function (element, index) {\n        if (_src3.default) {\n          if (_src3.default.getInitialized(element, \"cocreate-quill\")) {\n            return;\n          }\n        }\n\n        try {\n          /**\n           * Creando la instancia Codemirror\n          */\n          let editor = _this._createEditor(element);\n\n          _this.initYSocket(element, editor);\n\n          _this.initEvent(element, editor);\n\n          if (_src3.default) {\n            _src3.default.setInitialized(element, \"cocreate-quill\");\n          }\n\n          _this.elements.push(element);\n        } catch (error) {\n          console.error(error); //return false \n        }\n      }); //end forEach\n    }\n\n    initSocketEvent() {\n      const self = this; // CoCreateSocket.listen('getDocument', function(data) {\n      // \tif (!data.metadata || data.metadata.type != \"crdt\") {\n      // \t\treturn;\n      // \t}\n      // \tself.elements.forEach((quill) => {\n      // \t\tconst collection = quill.getAttribute('data-collection')\n      // \t\tconst id = quill.getAttribute('data-document_id')\n      // \t\tconst name = quill.getAttribute('name')\n      // \t\tif (quill.crudSetted === true) {\n      // \t\t\treturn;\n      // \t\t}\n      // \t\tif (data['collection'] == collection && data['document_id'] == id && (name in data.data)) {\n      // \t\t\tcrdt.replaceText({\n      // \t\t\t\tcollection: collection,\n      // \t\t\t\tdocument_id: id,\n      // \t\t\t\tname: name,\n      // \t\t\t\tvalue: data['data'][name],\n      // \t\t\t})\n      // \t\t\tquill.crudSetted = true;\n      // \t\t}\n      // \t});\n      // \t// self.editors.forEach((editor) => {\n      // \t// \tconst el = editor.options.container\n      // \t// \tconst collection = el.getAttribute('data-collection')\n      // \t// \tconst id = el.getAttribute('data-document_id')\n      // \t// \tconst name = el.getAttribute('name')\n      // \t// \tif (el.crudSetted === true) {\n      // \t// \t\treturn;\n      // \t// \t}\n      // \t// \tif (data['collection'] == collection && data['document_id'] == id && (name in data.data)) {\n      // \t// \t\t// crdt.replaceText({\n      // \t// \t\t// \tcollection: collection,\n      // \t// \t\t// \tdocument_id: id,\n      // \t// \t\t// \tname: name,\n      // \t// \t\t// \tvalue: data['data'][name],\n      // \t// \t\t// })\n      // \t// \t\teditor.setText(data['data'][name]);\n      // \t// \t\tel.crudSetted = true;\n      // \t// \t}\n      // \t// });\n      // });\n    }\n\n    initEvent(element, editor) {\n      let _this = this;\n\n      editor.on('editor-change', function () {\n        var value = editor.getText();\n        var id = element.getAttribute('id');\n\n        _this.requestDocumentID(element);\n\n        if (!id) return;\n        var targets = document.querySelectorAll('[data-get_value=\"' + id + '\"]');\n        targets.forEach(target => {\n          if (target.nodeName == 'IFRAME') {\n            let document_iframe = target.contentDocument;\n            target.srcdoc = value;\n          } else {\n            if (typeof target.innerHTML != \"undefined\") {\n              target.innerHTML = value;\n            } else if (typeof target.value != \"undefined\") {\n              target.value = value;\n            } else if (typeof target.textContent != \"undefined\") {\n              target.textContent = value;\n            }\n          }\n        });\n      });\n      element.addEventListener('set-document_id', function (event) {\n        const old_data = editor.getText();\n\n        _this.initYSocket(element, editor, old_data);\n\n        _this.saveDataIntoDB(element, old_data);\n      });\n      element.addEventListener('clicked-submitBtn', function () {\n        const old_data = editor.getText();\n\n        _this.saveDataIntoDB(element, old_data);\n\n        editor.setText(old_data);\n      });\n    }\n\n    generateTypeName(element) {\n      try {\n        var collection = element.getAttribute('data-collection') || '_';\n        var document_id = element.getAttribute('data-document_id') || '_';\n        var name = element.getAttribute('name') || '_';\n      } catch (error) {\n        console.error(error);\n        return false;\n      }\n\n      const info = {\n        org: config.organization_Id,\n        collection,\n        document_id,\n        name\n      };\n      return btoa(JSON.stringify(info));\n    }\n\n    requestDocumentID(element) {\n      const document_id = element.getAttribute('data-document_id');\n      const realtime = element.getAttribute('data-realtime') != \"false\";\n\n      if (!document_id && realtime) {\n        _src2.default.request({\n          element\n        });\n\n        element.setAttribute('data-document_id', 'pending');\n      }\n    }\n\n    saveDataIntoDB(element, value) {\n      const collection = element.getAttribute('data-collection');\n      const document_id = element.getAttribute('data-document_id');\n      const name = element.getAttribute('name');\n\n      if (element.getAttribute('data-save_value') == 'false' || document_id == 'null') {\n        return;\n      }\n\n      _src.default.replaceText({\n        collection,\n        document_id,\n        data: {\n          [name]: value\n        }\n      });\n    }\n\n    parseTypeName(name) {\n      const data = JSON.parse(atob(name));\n      return data;\n    }\n\n  } //end Class CoCreateYjsQuill\n\n\n  const obj_cocreatequill = new CoCreateYjsQuill('.quill');\n  /**\n   * Initialization all OBJS with class .quill\n  */\n\n  obj_cocreatequill.init(); // @ts-ignore\n\n  window.CoCreateQuill = obj_cocreatequill;\n\n  if (_src3.default) {\n    _src3.default.init({\n      name: 'CoCreateQuill',\n      observe: ['subtree', 'childList'],\n      include: '.quill',\n      callback: function (mutation) {\n        CoCreateQuill._init(mutation.target);\n      }\n    });\n  }\n\n  if (_src2.default) {\n    _src2.default.init({\n      name: 'CoCreateQuill',\n      selector: '.quill',\n      callback: function (el) {}\n    });\n  }\n}); //end window LOAD//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5xdWlsbC8uL3NyYy9pbmRleC5qcz9iNjM1Il0sIm5hbWVzIjpbIlF1aWxsIiwicmVnaXN0ZXIiLCJRdWlsbEN1cnNvcnMiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiQ29DcmVhdGVZanNRdWlsbCIsImNvbnN0cnVjdG9yIiwic2VsZWN0b3IiLCJlbGVtZW50cyIsImVkaXRvcnMiLCJiaW5kaW5ncyIsIm9yZ2FuaXphdGlvbl9JZCIsImNvbmZpZyIsInRoZW1lUXVpbGwiLCJvbk5ld0VkaXRvciIsIl9jcmVhdGVFZGl0b3IiLCJlZGl0b3JDb250YWluZXIiLCJkYXRhc2V0IiwiY29uc29sZSIsImxvZyIsImVkaXRvciIsIm1vZHVsZXMiLCJjdXJzb3JzIiwidG9vbGJhciIsImhlYWRlciIsImhpc3RvcnkiLCJ1c2VyT25seSIsInBsYWNlaG9sZGVyIiwidGhlbWUiLCJwdXNoIiwiX2NyZWF0ZUJpbmRpbmciLCJ0eXBlX2VsZW1lbnQiLCJwcm92aWRlciIsImJpbmRpbmciLCJRdWlsbEJpbmRpbmciLCJhd2FyZW5lc3MiLCJpbml0WVNvY2tldCIsImVsZW1lbnQiLCJjb2xsZWN0aW9uIiwiZ2V0QXR0cmlidXRlIiwibmFtZSIsImRvY3VtZW50X2lkIiwiaWQiLCJjcmR0IiwiZ2VuZXJhdGVJRCIsImNyZWF0ZURvYyIsImdldFByb3ZpZGVyIiwiZG9jX3R5cGUiLCJnZXRUeXBlIiwic2V0VGltZW91dCIsImNydWRTZXR0ZWQiLCJVc2VyQ3Vyc29yIiwiaW5pdCIsImNvbnRhaW5lciIsIl9pbml0IiwiaW5pdFNvY2tldEV2ZW50IiwiX3RoaXMiLCJtYWluQ29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwibGVuZ3RoIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJmb3JFYWNoIiwiaW5kZXgiLCJDb0NyZWF0ZU9ic2VydmVyIiwiZ2V0SW5pdGlhbGl6ZWQiLCJpbml0RXZlbnQiLCJzZXRJbml0aWFsaXplZCIsImVycm9yIiwic2VsZiIsIm9uIiwidmFsdWUiLCJnZXRUZXh0IiwicmVxdWVzdERvY3VtZW50SUQiLCJ0YXJnZXRzIiwidGFyZ2V0Iiwibm9kZU5hbWUiLCJkb2N1bWVudF9pZnJhbWUiLCJjb250ZW50RG9jdW1lbnQiLCJzcmNkb2MiLCJpbm5lckhUTUwiLCJ0ZXh0Q29udGVudCIsImV2ZW50Iiwib2xkX2RhdGEiLCJzYXZlRGF0YUludG9EQiIsInNldFRleHQiLCJnZW5lcmF0ZVR5cGVOYW1lIiwiaW5mbyIsIm9yZyIsImJ0b2EiLCJKU09OIiwic3RyaW5naWZ5IiwicmVhbHRpbWUiLCJDb0NyZWF0ZUZvcm0iLCJyZXF1ZXN0Iiwic2V0QXR0cmlidXRlIiwicmVwbGFjZVRleHQiLCJkYXRhIiwicGFyc2VUeXBlTmFtZSIsInBhcnNlIiwiYXRvYiIsIm9ial9jb2NyZWF0ZXF1aWxsIiwiQ29DcmVhdGVRdWlsbCIsIm9ic2VydmUiLCJpbmNsdWRlIiwiY2FsbGJhY2siLCJtdXRhdGlvbiIsImVsIl0sIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBRUE7O0FBQ0E7O0FBQ0E7Ozs7Ozs7O0FBRUFBLGVBQU1DLFFBQU4sQ0FBZSxpQkFBZixFQUFrQ0MscUJBQWxDOztBQUdBQyxNQUFNLENBQUNDLGdCQUFQLENBQXdCLE1BQXhCLEVBQWdDLE1BQU07QUFDckM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQyxRQUFNQyxnQkFBTixDQUF1QjtBQUV0QkMsZUFBVyxDQUFDQyxRQUFELEVBQVc7QUFDckIsV0FBS0MsUUFBTCxHQUFnQixFQUFoQjtBQUNBLFdBQUtELFFBQUwsR0FBZ0JBLFFBQWhCO0FBQ0EsV0FBS0UsT0FBTCxHQUFlLEVBQWY7QUFDQSxXQUFLQyxRQUFMLEdBQWdCLEVBQWhCO0FBQ0EsV0FBS0MsZUFBTCxHQUF1QkMsTUFBTSxDQUFDRCxlQUFQLElBQTBCLHNCQUFqRDtBQUNBLFdBQUtFLFVBQUwsR0FBa0IsTUFBbEI7QUFDQSxXQUFLQyxXQUFMLEdBQW1CLElBQW5CLENBUHFCLENBUXJCO0FBQ0E7O0FBRURDLGlCQUFhLENBQUNDLGVBQUQsRUFBaUI7QUFDN0IsVUFBSUgsVUFBVSxHQUFHRyxlQUFlLENBQUNDLE9BQWhCLENBQXdCLE9BQXhCLElBQW1DRCxlQUFlLENBQUNDLE9BQWhCLENBQXdCLE9BQXhCLENBQW5DLEdBQXNFLEtBQUtKLFVBQTVGO0FBQ0FLLGFBQU8sQ0FBQ0MsR0FBUixDQUFZLG1CQUFpQk4sVUFBN0I7QUFDQSxVQUFJTyxNQUFNLEdBQUcsSUFBSXBCLGNBQUosQ0FBVWdCLGVBQVYsRUFBMkI7QUFDdENLLGVBQU8sRUFBRTtBQUNSQyxpQkFBTyxFQUFFLElBREQ7QUFFUkMsaUJBQU8sRUFBRSxDQUNSLENBQUM7QUFBRUMsa0JBQU0sRUFBRSxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sS0FBUDtBQUFWLFdBQUQsQ0FEUSxFQUVSLENBQUMsTUFBRCxFQUFTLFFBQVQsRUFBbUIsV0FBbkIsQ0FGUSxFQUdSLENBQUMsT0FBRCxFQUFVLFlBQVYsQ0FIUSxDQUZEO0FBT1JDLGlCQUFPLEVBQUU7QUFDUkMsb0JBQVEsRUFBRTtBQURGO0FBUEQsU0FENkI7QUFZdENDLG1CQUFXLEVBQUUsd0JBWnlCO0FBYXRDQyxhQUFLLEVBQUVmLFVBYitCLENBYXBCOztBQWJvQixPQUEzQixDQUFiO0FBZUEsV0FBS0osT0FBTCxDQUFhb0IsSUFBYixDQUFrQlQsTUFBbEI7QUFDQSxVQUFHLEtBQUtOLFdBQVIsRUFDQyxLQUFLQSxXQUFMLENBQWlCTSxNQUFqQjtBQUNELGFBQU9BLE1BQVA7QUFDQTs7QUFFRFUsa0JBQWMsQ0FBQ0MsWUFBRCxFQUFlWCxNQUFmLEVBQXVCWSxRQUF2QixFQUFnQztBQUM1QyxVQUFJQyxPQUFPLEdBQUcsSUFBSUMsNEJBQUosQ0FBaUJILFlBQWpCLEVBQStCWCxNQUEvQixFQUF1Q1ksUUFBUSxDQUFDRyxTQUFoRCxDQUFkO0FBQ0EsV0FBS3pCLFFBQUwsQ0FBY21CLElBQWQsQ0FBbUJJLE9BQW5CO0FBQ0QsYUFBT0EsT0FBUDtBQUNBOztBQUVERyxlQUFXLENBQUNDLE9BQUQsRUFBVWpCLE1BQVYsRUFBa0I7QUFDNUIsVUFBSWtCLFVBQVUsR0FBR0QsT0FBTyxDQUFDRSxZQUFSLENBQXFCLGlCQUFyQixDQUFqQjtBQUNBLFVBQUlDLElBQUksR0FBR0gsT0FBTyxDQUFDRSxZQUFSLENBQXFCLE1BQXJCLENBQVg7QUFDQSxVQUFJRSxXQUFXLEdBQUdKLE9BQU8sQ0FBQ0UsWUFBUixDQUFxQixrQkFBckIsQ0FBbEI7O0FBRUEsVUFBSUQsVUFBVSxJQUFJRSxJQUFkLElBQXNCQyxXQUExQixFQUF1QztBQUN0QyxjQUFNQyxFQUFFLEdBQUdDLGFBQUtDLFVBQUwsQ0FBZ0JoQyxNQUFNLENBQUNELGVBQXZCLEVBQXdDMkIsVUFBeEMsRUFBb0RHLFdBQXBELEVBQWlFRCxJQUFqRSxDQUFYOztBQUNBRyxxQkFBS0UsU0FBTCxDQUFlSCxFQUFmLEVBQW1CTCxPQUFuQjs7QUFFQSxZQUFJTCxRQUFRLEdBQUdXLGFBQUtHLFdBQUwsQ0FBaUJKLEVBQWpCLENBQWY7O0FBQ0EsWUFBSUssUUFBUSxHQUFHSixhQUFLSyxPQUFMLENBQWFOLEVBQWIsQ0FBZjs7QUFFQSxZQUFJVCxPQUFPLEdBQUcsS0FBS0gsY0FBTCxDQUFvQmlCLFFBQXBCLEVBQThCM0IsTUFBOUIsRUFBc0NZLFFBQXRDLENBQWQ7O0FBRUFpQixrQkFBVSxDQUFDLFlBQVc7QUFDckIsY0FBSVosT0FBTyxDQUFDYSxVQUFaLEVBQXdCO0FBQ3ZCO0FBQ0EsV0FIb0IsQ0FJckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0EsU0FYUyxFQVdQLElBWE8sQ0FBVjtBQVlBLFlBQUlDLDRCQUFKLENBQWVuQixRQUFmO0FBQ0E7QUFDRDs7QUFFRG9CLFFBQUksQ0FBQ0MsU0FBRCxFQUFZO0FBQ2YsV0FBS0MsS0FBTCxDQUFXRCxTQUFYOztBQUNBLFdBQUtFLGVBQUw7QUFDQTs7QUFFREQsU0FBSyxDQUFDRCxTQUFELEVBQVc7QUFDZixVQUFJRyxLQUFLLEdBQUcsSUFBWjs7QUFDQSxZQUFNQyxhQUFhLEdBQUdKLFNBQVMsSUFBSUssUUFBbkM7QUFFQSxVQUFJbEQsUUFBUSxHQUFHaUQsYUFBYSxDQUFDRSxnQkFBZCxDQUErQixRQUEvQixDQUFmOztBQUVBLFVBQUluRCxRQUFRLENBQUNvRCxNQUFULElBQW1CLENBQW5CLElBQXdCSCxhQUFhLENBQUNJLFNBQXRDLElBQW1ESixhQUFhLENBQUNJLFNBQWQsQ0FBd0JDLFFBQXhCLENBQWlDLE9BQWpDLENBQXZELEVBQWtHO0FBQ2pHdEQsZ0JBQVEsR0FBRyxDQUFDaUQsYUFBRCxDQUFYO0FBQ0E7O0FBR0RqRCxjQUFRLENBQUN1RCxPQUFULENBQWlCLFVBQVMxQixPQUFULEVBQWlCMkIsS0FBakIsRUFBdUI7QUFDdkMsWUFBSUMsYUFBSixFQUFzQjtBQUNyQixjQUFJQSxjQUFpQkMsY0FBakIsQ0FBZ0M3QixPQUFoQyxFQUF5QyxnQkFBekMsQ0FBSixFQUFnRTtBQUMvRDtBQUNBO0FBQ0Q7O0FBQ0QsWUFBRztBQUVGO0FBQ0w7QUFDQTtBQUVLLGNBQUlqQixNQUFNLEdBQUdvQyxLQUFLLENBQUN6QyxhQUFOLENBQW9Cc0IsT0FBcEIsQ0FBYjs7QUFDQW1CLGVBQUssQ0FBQ3BCLFdBQU4sQ0FBa0JDLE9BQWxCLEVBQTJCakIsTUFBM0I7O0FBQ0FvQyxlQUFLLENBQUNXLFNBQU4sQ0FBZ0I5QixPQUFoQixFQUF5QmpCLE1BQXpCOztBQUVBLGNBQUk2QyxhQUFKLEVBQXNCO0FBQ3JCQSwwQkFBaUJHLGNBQWpCLENBQWdDL0IsT0FBaEMsRUFBeUMsZ0JBQXpDO0FBQ0E7O0FBQ0RtQixlQUFLLENBQUNoRCxRQUFOLENBQWVxQixJQUFmLENBQW9CUSxPQUFwQjtBQUVBLFNBZkQsQ0FlQyxPQUFNZ0MsS0FBTixFQUFhO0FBRWJuRCxpQkFBTyxDQUFDbUQsS0FBUixDQUFjQSxLQUFkLEVBRmEsQ0FHYjtBQUVBO0FBRUQsT0E1QkQsRUFYZSxDQXVDWjtBQUNIOztBQUVEZCxtQkFBZSxHQUFHO0FBQ2pCLFlBQU1lLElBQUksR0FBRyxJQUFiLENBRGlCLENBRWpCO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFREgsYUFBUyxDQUFDOUIsT0FBRCxFQUFVakIsTUFBVixFQUFrQjtBQUMxQixVQUFJb0MsS0FBSyxHQUFHLElBQVo7O0FBQ0FwQyxZQUFNLENBQUNtRCxFQUFQLENBQVUsZUFBVixFQUEyQixZQUFVO0FBRXBDLFlBQUlDLEtBQUssR0FBR3BELE1BQU0sQ0FBQ3FELE9BQVAsRUFBWjtBQUNBLFlBQUkvQixFQUFFLEdBQUdMLE9BQU8sQ0FBQ0UsWUFBUixDQUFxQixJQUFyQixDQUFUOztBQUNDaUIsYUFBSyxDQUFDa0IsaUJBQU4sQ0FBd0JyQyxPQUF4Qjs7QUFFRCxZQUFJLENBQUNLLEVBQUwsRUFBUztBQUVULFlBQUlpQyxPQUFPLEdBQUdqQixRQUFRLENBQUNDLGdCQUFULENBQTBCLHNCQUFzQmpCLEVBQXRCLEdBQTJCLElBQXJELENBQWQ7QUFFQWlDLGVBQU8sQ0FBQ1osT0FBUixDQUFpQmEsTUFBRCxJQUFZO0FBQzNCLGNBQUdBLE1BQU0sQ0FBQ0MsUUFBUCxJQUFtQixRQUF0QixFQUErQjtBQUM3QixnQkFBSUMsZUFBZSxHQUFHRixNQUFNLENBQUNHLGVBQTdCO0FBQ0FILGtCQUFNLENBQUNJLE1BQVAsR0FBZ0JSLEtBQWhCO0FBRUQsV0FKRCxNQUlLO0FBQ0osZ0JBQUksT0FBT0ksTUFBTSxDQUFDSyxTQUFkLElBQTRCLFdBQWhDLEVBQTZDO0FBQzVDTCxvQkFBTSxDQUFDSyxTQUFQLEdBQW1CVCxLQUFuQjtBQUNBLGFBRkQsTUFFTSxJQUFJLE9BQU9JLE1BQU0sQ0FBQ0osS0FBZCxJQUF3QixXQUE1QixFQUF5QztBQUM5Q0ksb0JBQU0sQ0FBQ0osS0FBUCxHQUFlQSxLQUFmO0FBQ0EsYUFGSyxNQUVDLElBQUksT0FBT0ksTUFBTSxDQUFDTSxXQUFkLElBQThCLFdBQWxDLEVBQStDO0FBQ3JETixvQkFBTSxDQUFDTSxXQUFQLEdBQXFCVixLQUFyQjtBQUNBO0FBQ0Q7QUFDRCxTQWREO0FBZUEsT0F6QkQ7QUEwQkFuQyxhQUFPLENBQUNqQyxnQkFBUixDQUF5QixpQkFBekIsRUFBNEMsVUFBUytFLEtBQVQsRUFBZTtBQUMxRCxjQUFNQyxRQUFRLEdBQUdoRSxNQUFNLENBQUNxRCxPQUFQLEVBQWpCOztBQUNBakIsYUFBSyxDQUFDcEIsV0FBTixDQUFrQkMsT0FBbEIsRUFBMkJqQixNQUEzQixFQUFtQ2dFLFFBQW5DOztBQUNBNUIsYUFBSyxDQUFDNkIsY0FBTixDQUFxQmhELE9BQXJCLEVBQThCK0MsUUFBOUI7QUFFQSxPQUxEO0FBT0EvQyxhQUFPLENBQUNqQyxnQkFBUixDQUF5QixtQkFBekIsRUFBOEMsWUFBVztBQUN4RCxjQUFNZ0YsUUFBUSxHQUFHaEUsTUFBTSxDQUFDcUQsT0FBUCxFQUFqQjs7QUFDQWpCLGFBQUssQ0FBQzZCLGNBQU4sQ0FBcUJoRCxPQUFyQixFQUE4QitDLFFBQTlCOztBQUNBaEUsY0FBTSxDQUFDa0UsT0FBUCxDQUFlRixRQUFmO0FBQ0EsT0FKRDtBQUtBOztBQUVERyxvQkFBZ0IsQ0FBQ2xELE9BQUQsRUFBVTtBQUN6QixVQUFJO0FBRUgsWUFBSUMsVUFBVSxHQUFHRCxPQUFPLENBQUNFLFlBQVIsQ0FBcUIsaUJBQXJCLEtBQTJDLEdBQTVEO0FBQ0EsWUFBSUUsV0FBVyxHQUFHSixPQUFPLENBQUNFLFlBQVIsQ0FBcUIsa0JBQXJCLEtBQTRDLEdBQTlEO0FBQ0EsWUFBSUMsSUFBSSxHQUFHSCxPQUFPLENBQUNFLFlBQVIsQ0FBcUIsTUFBckIsS0FBZ0MsR0FBM0M7QUFFQSxPQU5ELENBTUMsT0FBTThCLEtBQU4sRUFBYTtBQUVibkQsZUFBTyxDQUFDbUQsS0FBUixDQUFjQSxLQUFkO0FBQ0EsZUFBTyxLQUFQO0FBRUE7O0FBQ0QsWUFBTW1CLElBQUksR0FBRztBQUFDQyxXQUFHLEVBQUM3RSxNQUFNLENBQUNELGVBQVo7QUFBOEIyQixrQkFBOUI7QUFBMENHLG1CQUExQztBQUF1REQ7QUFBdkQsT0FBYjtBQUNBLGFBQU9rRCxJQUFJLENBQUNDLElBQUksQ0FBQ0MsU0FBTCxDQUFlSixJQUFmLENBQUQsQ0FBWDtBQUNBOztBQUVEZCxxQkFBaUIsQ0FBQ3JDLE9BQUQsRUFBVTtBQUMxQixZQUFNSSxXQUFXLEdBQUdKLE9BQU8sQ0FBQ0UsWUFBUixDQUFxQixrQkFBckIsQ0FBcEI7QUFDQSxZQUFNc0QsUUFBUSxHQUFHeEQsT0FBTyxDQUFDRSxZQUFSLENBQXFCLGVBQXJCLEtBQXlDLE9BQTFEOztBQUNBLFVBQUksQ0FBQ0UsV0FBRCxJQUFnQm9ELFFBQXBCLEVBQThCO0FBQzdCQyxzQkFBYUMsT0FBYixDQUFxQjtBQUFDMUQ7QUFBRCxTQUFyQjs7QUFDQUEsZUFBTyxDQUFDMkQsWUFBUixDQUFxQixrQkFBckIsRUFBeUMsU0FBekM7QUFDQTtBQUNEOztBQUVEWCxrQkFBYyxDQUFDaEQsT0FBRCxFQUFVbUMsS0FBVixFQUFpQjtBQUM5QixZQUFNbEMsVUFBVSxHQUFHRCxPQUFPLENBQUNFLFlBQVIsQ0FBcUIsaUJBQXJCLENBQW5CO0FBQ0EsWUFBTUUsV0FBVyxHQUFHSixPQUFPLENBQUNFLFlBQVIsQ0FBcUIsa0JBQXJCLENBQXBCO0FBQ0EsWUFBTUMsSUFBSSxHQUFHSCxPQUFPLENBQUNFLFlBQVIsQ0FBcUIsTUFBckIsQ0FBYjs7QUFDQSxVQUFJRixPQUFPLENBQUNFLFlBQVIsQ0FBcUIsaUJBQXJCLEtBQTJDLE9BQTNDLElBQXNERSxXQUFXLElBQUksTUFBekUsRUFBaUY7QUFDaEY7QUFDQTs7QUFDREUsbUJBQUtzRCxXQUFMLENBQWlCO0FBQ2hCM0Qsa0JBRGdCO0FBQ0pHLG1CQURJO0FBRWhCeUQsWUFBSSxFQUFFO0FBQ0wsV0FBQzFELElBQUQsR0FBUWdDO0FBREg7QUFGVSxPQUFqQjtBQU1BOztBQUVEMkIsaUJBQWEsQ0FBQzNELElBQUQsRUFBTztBQUNuQixZQUFNMEQsSUFBSSxHQUFHUCxJQUFJLENBQUNTLEtBQUwsQ0FBV0MsSUFBSSxDQUFDN0QsSUFBRCxDQUFmLENBQWI7QUFDQSxhQUFPMEQsSUFBUDtBQUNBOztBQWhRcUIsR0FWYyxDQTRRcEM7OztBQUVELFFBQU1JLGlCQUFpQixHQUFHLElBQUlqRyxnQkFBSixDQUFxQixRQUFyQixDQUExQjtBQUNBO0FBQ0Q7QUFDQTs7QUFDQ2lHLG1CQUFpQixDQUFDbEQsSUFBbEIsR0FsUnFDLENBb1JyQzs7QUFDQWpELFFBQU0sQ0FBQ29HLGFBQVAsR0FBdUJELGlCQUF2Qjs7QUFFQSxNQUFJckMsYUFBSixFQUFzQjtBQUNyQkEsa0JBQWlCYixJQUFqQixDQUFzQjtBQUNyQlosVUFBSSxFQUFFLGVBRGU7QUFFckJnRSxhQUFPLEVBQUUsQ0FBQyxTQUFELEVBQVksV0FBWixDQUZZO0FBR3JCQyxhQUFPLEVBQUUsUUFIWTtBQUlyQkMsY0FBUSxFQUFFLFVBQVNDLFFBQVQsRUFBbUI7QUFDNUJKLHFCQUFhLENBQUNqRCxLQUFkLENBQW9CcUQsUUFBUSxDQUFDL0IsTUFBN0I7QUFDQTtBQU5vQixLQUF0QjtBQVNBOztBQUVELE1BQUlrQixhQUFKLEVBQWtCO0FBQ2pCQSxrQkFBYTFDLElBQWIsQ0FBa0I7QUFDakJaLFVBQUksRUFBRSxlQURXO0FBRWpCakMsY0FBUSxFQUFFLFFBRk87QUFHakJtRyxjQUFRLEVBQUUsVUFBU0UsRUFBVCxFQUFhLENBRXRCO0FBTGdCLEtBQWxCO0FBT0E7QUFFRCxDQTdTRCxFLENBNlNHIiwiZmlsZSI6Ii4vc3JjL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKiBlc2xpbnQtZW52IGJyb3dzZXIgKi9cbi8vIEB0cy1pZ25vcmVcblxuaW1wb3J0ICogYXMgWSBmcm9tICd5anMnXG5pbXBvcnQgeyBRdWlsbEJpbmRpbmcgfSBmcm9tICcuL2pzL3ktcXVpbGxfYmluZGluZydcbmltcG9ydCBRdWlsbCBmcm9tICdxdWlsbCdcbmltcG9ydCBRdWlsbEN1cnNvcnMgZnJvbSAncXVpbGwtY3Vyc29ycydcbmltcG9ydCB7IFVzZXJDdXJzb3IgfSBmcm9tICdAY29jcmVhdGUvY3JkdC9zcmMvdXRpbHMvY3Vyc29yL3VzZXJDdXJzb3JfY2xhc3MnXG5cbmltcG9ydCBjcmR0IGZyb20gJ0Bjb2NyZWF0ZS9jcmR0L3NyYydcbmltcG9ydCBDb0NyZWF0ZUZvcm0gZnJvbSAnQGNvY3JlYXRlL2Zvcm0vc3JjJ1xuaW1wb3J0IENvQ3JlYXRlT2JzZXJ2ZXIgZnJvbSAnQGNvY3JlYXRlL29ic2VydmVyL3NyYydcblxuUXVpbGwucmVnaXN0ZXIoJ21vZHVsZXMvY3Vyc29ycycsIFF1aWxsQ3Vyc29ycylcblxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcblx0LyoqXG5cdCAqIENyZWF0ZSBhbGwgIFF1aWxscyB3aXRoIGNsYXNzIC5xdWlsbFxuXHQgKiBAcHJpdmF0ZVxuXHQgKlxuXHQgKiBAZGV2ZWxvcG1lbnQgamVhbm1lbmRvemFyQGdtYWlsLmNvbVxuXHQgKiBAcGFyYW0ge05vbmV9XG5cdCAqL1xuIFxuXG5cdGNsYXNzIENvQ3JlYXRlWWpzUXVpbGwge1xuXHRcdFxuXHRcdGNvbnN0cnVjdG9yKHNlbGVjdG9yKSB7XG5cdFx0XHR0aGlzLmVsZW1lbnRzID0gW107XG5cdFx0XHR0aGlzLnNlbGVjdG9yID0gc2VsZWN0b3I7XG5cdFx0XHR0aGlzLmVkaXRvcnMgPSBbXTtcblx0XHRcdHRoaXMuYmluZGluZ3MgPSBbXTtcblx0XHRcdHRoaXMub3JnYW5pemF0aW9uX0lkID0gY29uZmlnLm9yZ2FuaXphdGlvbl9JZCB8fCAncmFuZG9tT3JnYW5pemF0aW9uSUQnO1xuXHRcdFx0dGhpcy50aGVtZVF1aWxsID0gJ3Nub3cnXG5cdFx0XHR0aGlzLm9uTmV3RWRpdG9yID0gbnVsbDtcblx0XHRcdC8vdGhpcy50aGVtZVF1aWxsID0gdHlwZW9mIHdpbmRvdy5jb25maWcudGhlbWVRdWlsbCAhPSAndW5kZWZpbmVkJyA/IHdpbmRvdy5jb25maWcudGhlbWVRdWlsbCA6ICdzbm93Jztcblx0XHR9XG5cdFx0XG5cdFx0X2NyZWF0ZUVkaXRvcihlZGl0b3JDb250YWluZXIpe1xuXHRcdFx0bGV0IHRoZW1lUXVpbGwgPSBlZGl0b3JDb250YWluZXIuZGF0YXNldFsndGhlbWUnXSA/IGVkaXRvckNvbnRhaW5lci5kYXRhc2V0Wyd0aGVtZSddIDogdGhpcy50aGVtZVF1aWxsXG5cdFx0XHRjb25zb2xlLmxvZyhcIlRoZW1lUXVpbGwgPT4gXCIrdGhlbWVRdWlsbClcblx0XHRcdHZhciBlZGl0b3IgPSBuZXcgUXVpbGwoZWRpdG9yQ29udGFpbmVyLCB7XG5cdFx0XHRcdFx0bW9kdWxlczoge1xuXHRcdFx0XHRcdFx0Y3Vyc29yczogdHJ1ZSxcblx0XHRcdFx0XHRcdHRvb2xiYXI6IFtcblx0XHRcdFx0XHRcdFx0W3sgaGVhZGVyOiBbMSwgMiwgZmFsc2VdIH1dLFxuXHRcdFx0XHRcdFx0XHRbJ2JvbGQnLCAnaXRhbGljJywgJ3VuZGVybGluZSddLFxuXHRcdFx0XHRcdFx0XHRbJ2ltYWdlJywgJ2NvZGUtYmxvY2snXVxuXHRcdFx0XHRcdFx0XSxcblx0XHRcdFx0XHRcdGhpc3Rvcnk6IHtcblx0XHRcdFx0XHRcdFx0dXNlck9ubHk6IHRydWVcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHBsYWNlaG9sZGVyOiAnU3RhcnQgY29sbGFib3JhdGluZy4uLicsXG5cdFx0XHRcdFx0dGhlbWU6IHRoZW1lUXVpbGwgLy8gJ3Nub3cnIG9yICAnYnViYmxlJ1xuXHRcdFx0XHR9KTtcblx0XHRcdHRoaXMuZWRpdG9ycy5wdXNoKGVkaXRvcik7XG5cdFx0XHRpZih0aGlzLm9uTmV3RWRpdG9yKVxuXHRcdFx0XHR0aGlzLm9uTmV3RWRpdG9yKGVkaXRvcik7XG5cdFx0XHRyZXR1cm4gZWRpdG9yO1xuXHRcdH1cblx0XHRcblx0XHRfY3JlYXRlQmluZGluZyh0eXBlX2VsZW1lbnQsIGVkaXRvciwgcHJvdmlkZXIpe1xuXHRcdFx0XHRsZXQgYmluZGluZyA9IG5ldyBRdWlsbEJpbmRpbmcodHlwZV9lbGVtZW50LCBlZGl0b3IsIHByb3ZpZGVyLmF3YXJlbmVzcylcblx0XHRcdFx0dGhpcy5iaW5kaW5ncy5wdXNoKGJpbmRpbmcpO1xuXHRcdFx0cmV0dXJuIGJpbmRpbmc7XG5cdFx0fVxuXHRcdFxuXHRcdGluaXRZU29ja2V0KGVsZW1lbnQsIGVkaXRvcikge1xuXHRcdFx0bGV0IGNvbGxlY3Rpb24gPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2xsZWN0aW9uJylcblx0XHRcdGxldCBuYW1lID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ25hbWUnKVxuXHRcdFx0bGV0IGRvY3VtZW50X2lkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKVxuXG5cdFx0XHRpZiAoY29sbGVjdGlvbiAmJiBuYW1lICYmIGRvY3VtZW50X2lkKSB7XG5cdFx0XHRcdGNvbnN0IGlkID0gY3JkdC5nZW5lcmF0ZUlEKGNvbmZpZy5vcmdhbml6YXRpb25fSWQsIGNvbGxlY3Rpb24sIGRvY3VtZW50X2lkLCBuYW1lKTtcblx0XHRcdFx0Y3JkdC5jcmVhdGVEb2MoaWQsIGVsZW1lbnQpO1xuXHRcdFx0XHRcblx0XHRcdFx0bGV0IHByb3ZpZGVyID0gY3JkdC5nZXRQcm92aWRlcihpZClcblx0XHRcdFx0bGV0IGRvY190eXBlID0gY3JkdC5nZXRUeXBlKGlkKVxuXHRcdFx0XHRcblx0XHRcdFx0bGV0IGJpbmRpbmcgPSB0aGlzLl9jcmVhdGVCaW5kaW5nKGRvY190eXBlLCBlZGl0b3IsIHByb3ZpZGVyKVxuXHRcdFx0XHRcblx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoZWxlbWVudC5jcnVkU2V0dGVkKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC8vIENvQ3JlYXRlLmdldERvY3VtZW50KHtcblx0XHRcdFx0XHQvLyBcdGNvbGxlY3Rpb246IGNvbGxlY3Rpb24sXG5cdFx0XHRcdFx0Ly8gXHRkb2N1bWVudF9pZDogZG9jdW1lbnRfaWQsXG5cdFx0XHRcdFx0Ly8gXHRtZXRhZGF0YToge1xuXHRcdFx0XHRcdC8vIFx0XHR0eXBlOiAnY3JkdCdcblx0XHRcdFx0XHQvLyBcdH1cblx0XHRcdFx0XHQvLyB9KVxuXHRcdFx0XHR9LCAxMDAwKTtcblx0XHRcdFx0bmV3IFVzZXJDdXJzb3IocHJvdmlkZXIpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHRpbml0KGNvbnRhaW5lcikge1xuXHRcdFx0dGhpcy5faW5pdChjb250YWluZXIpXG5cdFx0XHR0aGlzLmluaXRTb2NrZXRFdmVudCgpXG5cdFx0fVxuXHRcdFxuXHRcdF9pbml0KGNvbnRhaW5lcil7XG5cdFx0XHR2YXIgX3RoaXMgPSB0aGlzO1xuXHRcdFx0Y29uc3QgbWFpbkNvbnRhaW5lciA9IGNvbnRhaW5lciB8fCBkb2N1bWVudDtcblx0XHRcdFxuXHRcdFx0bGV0IGVsZW1lbnRzID0gbWFpbkNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcucXVpbGwnKVxuXHRcdFx0XG5cdFx0XHRpZiAoZWxlbWVudHMubGVuZ3RoID09IDAgJiYgbWFpbkNvbnRhaW5lci5jbGFzc0xpc3QgJiYgbWFpbkNvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoJ3F1aWxsJykpIHtcblx0XHRcdFx0ZWxlbWVudHMgPSBbbWFpbkNvbnRhaW5lcl07XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdFxuXHRcdFx0ZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50LGluZGV4KXtcblx0XHRcdFx0aWYgKENvQ3JlYXRlT2JzZXJ2ZXIpIHtcblx0XHRcdFx0XHRpZiAoQ29DcmVhdGVPYnNlcnZlci5nZXRJbml0aWFsaXplZChlbGVtZW50LCBcImNvY3JlYXRlLXF1aWxsXCIpKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHRyeXsgIFxuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdC8qKlxuXHRcdFx0XHRcdCAqIENyZWFuZG8gbGEgaW5zdGFuY2lhIENvZGVtaXJyb3Jcblx0XHRcdFx0XHQqL1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGxldCBlZGl0b3IgPSBfdGhpcy5fY3JlYXRlRWRpdG9yKGVsZW1lbnQpO1xuXHRcdFx0XHRcdF90aGlzLmluaXRZU29ja2V0KGVsZW1lbnQsIGVkaXRvcilcblx0XHRcdFx0XHRfdGhpcy5pbml0RXZlbnQoZWxlbWVudCwgZWRpdG9yKVxuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGlmIChDb0NyZWF0ZU9ic2VydmVyKSB7XG5cdFx0XHRcdFx0XHRDb0NyZWF0ZU9ic2VydmVyLnNldEluaXRpYWxpemVkKGVsZW1lbnQsIFwiY29jcmVhdGUtcXVpbGxcIilcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0X3RoaXMuZWxlbWVudHMucHVzaChlbGVtZW50KVxuXHRcdFx0XHRcdFxuXHRcdFx0XHR9Y2F0Y2goZXJyb3IpIHtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yKGVycm9yKTsgICAgXG5cdFx0XHRcdFx0Ly9yZXR1cm4gZmFsc2UgXG5cdFx0XHRcdFx0XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHR9KTsvL2VuZCBmb3JFYWNoXG5cdFx0fVxuXHRcdFxuXHRcdGluaXRTb2NrZXRFdmVudCgpIHtcblx0XHRcdGNvbnN0IHNlbGYgPSB0aGlzO1xuXHRcdFx0Ly8gQ29DcmVhdGVTb2NrZXQubGlzdGVuKCdnZXREb2N1bWVudCcsIGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdC8vIFx0aWYgKCFkYXRhLm1ldGFkYXRhIHx8IGRhdGEubWV0YWRhdGEudHlwZSAhPSBcImNyZHRcIikge1xuXHRcdFx0Ly8gXHRcdHJldHVybjtcblx0XHRcdC8vIFx0fVxuXHRcdFx0XHRcblx0XHRcdC8vIFx0c2VsZi5lbGVtZW50cy5mb3JFYWNoKChxdWlsbCkgPT4ge1xuXHRcdFx0Ly8gXHRcdGNvbnN0IGNvbGxlY3Rpb24gPSBxdWlsbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjdGlvbicpXG5cdFx0XHQvLyBcdFx0Y29uc3QgaWQgPSBxdWlsbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKVxuXHRcdFx0Ly8gXHRcdGNvbnN0IG5hbWUgPSBxdWlsbC5nZXRBdHRyaWJ1dGUoJ25hbWUnKVxuXHRcdFx0XHRcdFxuXHRcdFx0Ly8gXHRcdGlmIChxdWlsbC5jcnVkU2V0dGVkID09PSB0cnVlKSB7XG5cdFx0XHQvLyBcdFx0XHRyZXR1cm47XG5cdFx0XHQvLyBcdFx0fVxuXHRcdFx0Ly8gXHRcdGlmIChkYXRhWydjb2xsZWN0aW9uJ10gPT0gY29sbGVjdGlvbiAmJiBkYXRhWydkb2N1bWVudF9pZCddID09IGlkICYmIChuYW1lIGluIGRhdGEuZGF0YSkpIHtcblx0XHRcdC8vIFx0XHRcdGNyZHQucmVwbGFjZVRleHQoe1xuXHRcdFx0Ly8gXHRcdFx0XHRjb2xsZWN0aW9uOiBjb2xsZWN0aW9uLFxuXHRcdFx0Ly8gXHRcdFx0XHRkb2N1bWVudF9pZDogaWQsXG5cdFx0XHQvLyBcdFx0XHRcdG5hbWU6IG5hbWUsXG5cdFx0XHQvLyBcdFx0XHRcdHZhbHVlOiBkYXRhWydkYXRhJ11bbmFtZV0sXG5cdFx0XHQvLyBcdFx0XHR9KVxuXHRcdFx0Ly8gXHRcdFx0cXVpbGwuY3J1ZFNldHRlZCA9IHRydWU7XG5cblx0XHRcdC8vIFx0XHR9XG5cdFx0XHQvLyBcdH0pO1xuXHRcdFx0Ly8gXHQvLyBzZWxmLmVkaXRvcnMuZm9yRWFjaCgoZWRpdG9yKSA9PiB7XG5cdFx0XHQvLyBcdC8vIFx0Y29uc3QgZWwgPSBlZGl0b3Iub3B0aW9ucy5jb250YWluZXJcblx0XHRcdC8vIFx0Ly8gXHRjb25zdCBjb2xsZWN0aW9uID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbGxlY3Rpb24nKVxuXHRcdFx0Ly8gXHQvLyBcdGNvbnN0IGlkID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJylcblx0XHRcdC8vIFx0Ly8gXHRjb25zdCBuYW1lID0gZWwuZ2V0QXR0cmlidXRlKCduYW1lJylcblx0XHRcdFx0XHRcblx0XHRcdC8vIFx0Ly8gXHRpZiAoZWwuY3J1ZFNldHRlZCA9PT0gdHJ1ZSkge1xuXHRcdFx0Ly8gXHQvLyBcdFx0cmV0dXJuO1xuXHRcdFx0Ly8gXHQvLyBcdH1cblx0XHRcdC8vIFx0Ly8gXHRpZiAoZGF0YVsnY29sbGVjdGlvbiddID09IGNvbGxlY3Rpb24gJiYgZGF0YVsnZG9jdW1lbnRfaWQnXSA9PSBpZCAmJiAobmFtZSBpbiBkYXRhLmRhdGEpKSB7XG5cdFx0XHQvLyBcdC8vIFx0XHQvLyBjcmR0LnJlcGxhY2VUZXh0KHtcblx0XHRcdC8vIFx0Ly8gXHRcdC8vIFx0Y29sbGVjdGlvbjogY29sbGVjdGlvbixcblx0XHRcdC8vIFx0Ly8gXHRcdC8vIFx0ZG9jdW1lbnRfaWQ6IGlkLFxuXHRcdFx0Ly8gXHQvLyBcdFx0Ly8gXHRuYW1lOiBuYW1lLFxuXHRcdFx0Ly8gXHQvLyBcdFx0Ly8gXHR2YWx1ZTogZGF0YVsnZGF0YSddW25hbWVdLFxuXHRcdFx0Ly8gXHQvLyBcdFx0Ly8gfSlcblx0XHRcdFx0XHRcdFxuXHRcdFx0Ly8gXHQvLyBcdFx0ZWRpdG9yLnNldFRleHQoZGF0YVsnZGF0YSddW25hbWVdKTtcblx0XHRcdC8vIFx0Ly8gXHRcdGVsLmNydWRTZXR0ZWQgPSB0cnVlO1xuXHRcdFx0Ly8gXHQvLyBcdH1cblx0XHRcdC8vIFx0Ly8gfSk7XG5cdFx0XHQvLyB9KTtcblx0XHR9XG5cdFx0XG5cdFx0aW5pdEV2ZW50KGVsZW1lbnQsIGVkaXRvcikge1xuXHRcdFx0bGV0IF90aGlzID0gdGhpcztcblx0XHRcdGVkaXRvci5vbignZWRpdG9yLWNoYW5nZScsIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFxuXHRcdFx0XHR2YXIgdmFsdWUgPSBlZGl0b3IuZ2V0VGV4dCgpO1xuXHRcdFx0XHR2YXIgaWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnaWQnKTtcblx0XHRcdFx0IF90aGlzLnJlcXVlc3REb2N1bWVudElEKGVsZW1lbnQpXG5cdFx0XHRcdCBcblx0XHRcdFx0aWYgKCFpZCkgcmV0dXJuO1xuXHRcdFx0XHRcblx0XHRcdFx0dmFyIHRhcmdldHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1nZXRfdmFsdWU9XCInICsgaWQgKyAnXCJdJyk7XG5cdFx0XHRcdFxuXHRcdFx0XHR0YXJnZXRzLmZvckVhY2goKHRhcmdldCkgPT4ge1xuXHRcdFx0XHRcdGlmKHRhcmdldC5ub2RlTmFtZSA9PSAnSUZSQU1FJyl7XG5cdFx0XHRcdFx0XHRcdGxldCBkb2N1bWVudF9pZnJhbWUgPSB0YXJnZXQuY29udGVudERvY3VtZW50O1xuXHRcdFx0XHRcdFx0XHR0YXJnZXQuc3JjZG9jID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdH1lbHNle1xuXHRcdFx0XHRcdFx0aWYgKHR5cGVvZih0YXJnZXQuaW5uZXJIVE1MKSAhPSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHRcdFx0XHRcdHRhcmdldC5pbm5lckhUTUwgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdH1lbHNlIGlmICh0eXBlb2YodGFyZ2V0LnZhbHVlKSAhPSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHRcdFx0XHRcdHRhcmdldC52YWx1ZSA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmICh0eXBlb2YodGFyZ2V0LnRleHRDb250ZW50KSAhPSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHRcdFx0XHRcdHRhcmdldC50ZXh0Q29udGVudCA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHRcdGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2V0LWRvY3VtZW50X2lkJywgZnVuY3Rpb24oZXZlbnQpe1xuXHRcdFx0XHRjb25zdCBvbGRfZGF0YSA9IGVkaXRvci5nZXRUZXh0KCk7XG5cdFx0XHRcdF90aGlzLmluaXRZU29ja2V0KGVsZW1lbnQsIGVkaXRvciwgb2xkX2RhdGEpO1xuXHRcdFx0XHRfdGhpcy5zYXZlRGF0YUludG9EQihlbGVtZW50LCBvbGRfZGF0YSk7XG5cdFx0XHRcdFxuXHRcdFx0fSlcblx0XHRcdFxuXHRcdFx0ZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGlja2VkLXN1Ym1pdEJ0bicsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRjb25zdCBvbGRfZGF0YSA9IGVkaXRvci5nZXRUZXh0KCk7XG5cdFx0XHRcdF90aGlzLnNhdmVEYXRhSW50b0RCKGVsZW1lbnQsIG9sZF9kYXRhKTtcblx0XHRcdFx0ZWRpdG9yLnNldFRleHQob2xkX2RhdGEpXG5cdFx0XHR9KVxuXHRcdH1cblx0XHRcblx0XHRnZW5lcmF0ZVR5cGVOYW1lKGVsZW1lbnQpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdFxuXHRcdFx0XHR2YXIgY29sbGVjdGlvbiA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbGxlY3Rpb24nKSB8fCAnXyc7XG5cdFx0XHRcdHZhciBkb2N1bWVudF9pZCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJykgfHwgJ18nO1xuXHRcdFx0XHR2YXIgbmFtZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCduYW1lJykgfHwgJ18nO1xuXHRcdFx0XHRcblx0XHRcdH1jYXRjaChlcnJvcikge1xuXHRcdFx0XHRcblx0XHRcdFx0Y29uc29sZS5lcnJvcihlcnJvcik7ICAgIFxuXHRcdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHRcdFx0XG5cdFx0XHR9XG5cdFx0XHRjb25zdCBpbmZvID0ge29yZzpjb25maWcub3JnYW5pemF0aW9uX0lkICwgY29sbGVjdGlvbiwgZG9jdW1lbnRfaWQsIG5hbWV9XG5cdFx0XHRyZXR1cm4gYnRvYShKU09OLnN0cmluZ2lmeShpbmZvKSk7IFxuXHRcdH1cblxuXHRcdHJlcXVlc3REb2N1bWVudElEKGVsZW1lbnQpIHtcblx0XHRcdGNvbnN0IGRvY3VtZW50X2lkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKTtcblx0XHRcdGNvbnN0IHJlYWx0aW1lID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcmVhbHRpbWUnKSAhPSBcImZhbHNlXCI7XG5cdFx0XHRpZiAoIWRvY3VtZW50X2lkICYmIHJlYWx0aW1lKSB7XG5cdFx0XHRcdENvQ3JlYXRlRm9ybS5yZXF1ZXN0KHtlbGVtZW50fSlcblx0XHRcdFx0ZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnLCAncGVuZGluZycpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHRzYXZlRGF0YUludG9EQihlbGVtZW50LCB2YWx1ZSkge1xuXHRcdFx0Y29uc3QgY29sbGVjdGlvbiA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbGxlY3Rpb24nKVxuXHRcdFx0Y29uc3QgZG9jdW1lbnRfaWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcpXG5cdFx0XHRjb25zdCBuYW1lID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ25hbWUnKVxuXHRcdFx0aWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXNhdmVfdmFsdWUnKSA9PSAnZmFsc2UnIHx8IGRvY3VtZW50X2lkID09ICdudWxsJykge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRjcmR0LnJlcGxhY2VUZXh0KHtcblx0XHRcdFx0Y29sbGVjdGlvbiwgZG9jdW1lbnRfaWQsIFxuXHRcdFx0XHRkYXRhOiB7XG5cdFx0XHRcdFx0W25hbWVdOiB2YWx1ZSxcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHR9XG5cblx0XHRwYXJzZVR5cGVOYW1lKG5hbWUpIHtcblx0XHRcdGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGF0b2IobmFtZSkpO1xuXHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0fVxuXHRcblx0fS8vZW5kIENsYXNzIENvQ3JlYXRlWWpzUXVpbGxcblx0XG5cdGNvbnN0IG9ial9jb2NyZWF0ZXF1aWxsID0gbmV3IENvQ3JlYXRlWWpzUXVpbGwoJy5xdWlsbCcpO1xuXHQvKipcblx0ICogSW5pdGlhbGl6YXRpb24gYWxsIE9CSlMgd2l0aCBjbGFzcyAucXVpbGxcblx0Ki9cblx0b2JqX2NvY3JlYXRlcXVpbGwuaW5pdCgpXG5cblx0Ly8gQHRzLWlnbm9yZVxuXHR3aW5kb3cuQ29DcmVhdGVRdWlsbCA9IG9ial9jb2NyZWF0ZXF1aWxsXG5cblx0aWYgKENvQ3JlYXRlT2JzZXJ2ZXIpIHtcblx0XHRDb0NyZWF0ZU9ic2VydmVyLmluaXQoe1xuXHRcdFx0bmFtZTogJ0NvQ3JlYXRlUXVpbGwnLCBcblx0XHRcdG9ic2VydmU6IFsnc3VidHJlZScsICdjaGlsZExpc3QnXSxcblx0XHRcdGluY2x1ZGU6ICcucXVpbGwnLCBcblx0XHRcdGNhbGxiYWNrOiBmdW5jdGlvbihtdXRhdGlvbikge1xuXHRcdFx0XHRDb0NyZWF0ZVF1aWxsLl9pbml0KG11dGF0aW9uLnRhcmdldClcblx0XHRcdH1cblx0XHR9KVxuXHRcdFxuXHR9XG5cdFxuXHRpZiAoQ29DcmVhdGVGb3JtKSB7XG5cdFx0Q29DcmVhdGVGb3JtLmluaXQoe1xuXHRcdFx0bmFtZTogJ0NvQ3JlYXRlUXVpbGwnLFxuXHRcdFx0c2VsZWN0b3I6ICcucXVpbGwnLFxuXHRcdFx0Y2FsbGJhY2s6IGZ1bmN0aW9uKGVsKSB7XG5cdFx0XHRcdFxuXHRcdFx0fVxuXHRcdH0pXG5cdH1cblx0XG59KTsvL2VuZCB3aW5kb3cgTE9BRFxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/index.js\n")},"./src/js/RelativePosition.js":function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.compareRelativePositions = exports.createAbsolutePositionFromRelativePosition = exports.decodeRelativePosition = exports.readRelativePosition = exports.encodeRelativePosition = exports.writeRelativePosition = exports.createRelativePositionFromTypeIndex = exports.createRelativePosition = exports.createAbsolutePosition = exports.AbsolutePosition = exports.createRelativePositionFromJSON = exports.RelativePosition = void 0;\n\nvar _internals = __webpack_require__(/*! yjs/src/internals.js */ "./node_modules/yjs/src/internals.js");\n\nvar encoding = _interopRequireWildcard(__webpack_require__(/*! lib0/encoding.js */ "./node_modules/lib0/encoding.js"));\n\nvar decoding = _interopRequireWildcard(__webpack_require__(/*! lib0/decoding.js */ "./node_modules/lib0/decoding.js"));\n\nvar error = _interopRequireWildcard(__webpack_require__(/*! lib0/error.js */ "./node_modules/lib0/error.js"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\n * A relative position is based on the Yjs model and is not affected by document changes.\n * E.g. If you place a relative position before a certain character, it will always point to this character.\n * If you place a relative position at the end of a type, it will always point to the end of the type.\n *\n * A numeric position is often unsuited for user selections, because it does not change when content is inserted\n * before or after.\n *\n * ```Insert(0, \'x\')(\'a|bc\') = \'xa|bc\'``` Where | is the relative position.\n *\n * One of the properties must be defined.\n *\n * @example\n *   // Current cursor position is at position 10\n *   const relativePosition = createRelativePositionFromIndex(yText, 10)\n *   // modify yText\n *   yText.insert(0, \'abc\')\n *   yText.delete(3, 10)\n *   // Compute the cursor position\n *   const absolutePosition = createAbsolutePositionFromRelativePosition(y, relativePosition)\n *   absolutePosition.type === yText // => true\n *   console.log(\'cursor location is \' + absolutePosition.index) // => cursor location is 3\n *\n */\nclass RelativePosition {\n  /**\n   * @param {ID|null} type\n   * @param {string|null} tname\n   * @param {ID|null} item\n   */\n  constructor(type, tname, item) {\n    /**\n     * @type {ID|null}\n     */\n    this.type = type;\n    /**\n     * @type {string|null}\n     */\n\n    this.tname = tname;\n    /**\n     * @type {ID | null}\n     */\n\n    this.item = item;\n  }\n\n}\n/**\n * @param {Object} json\n * @return {RelativePosition}\n *\n * @function\n */\n\n\nexports.RelativePosition = RelativePosition;\n\nconst createRelativePositionFromJSON = json => new RelativePosition(json.type == null ? null : (0, _internals.createID)(json.type.client, json.type.clock), json.tname || null, json.item == null ? null : (0, _internals.createID)(json.item.client, json.item.clock));\n\nexports.createRelativePositionFromJSON = createRelativePositionFromJSON;\n\nclass AbsolutePosition {\n  /**\n   * @param {AbstractType<any>} type\n   * @param {number} index\n   */\n  constructor(type, index) {\n    /**\n     * @type {AbstractType<any>}\n     */\n    this.type = type;\n    /**\n     * @type {number}\n     */\n\n    this.index = index;\n  }\n\n}\n/**\n * @param {AbstractType<any>} type\n * @param {number} index\n *\n * @function\n */\n\n\nexports.AbsolutePosition = AbsolutePosition;\n\nconst createAbsolutePosition = (type, index) => new AbsolutePosition(type, index);\n/**\n * @param {AbstractType<any>} type\n * @param {ID|null} item\n *\n * @function\n */\n\n\nexports.createAbsolutePosition = createAbsolutePosition;\n\nconst createRelativePosition = (type, item) => {\n  let typeid = null;\n  let tname = null;\n\n  if (type._item === null) {\n    tname = (0, _internals.findRootTypeKey)(type);\n  } else {\n    typeid = type._item.id;\n  }\n\n  return new RelativePosition(typeid, tname, item);\n};\n/**\n * Create a relativePosition based on a absolute position.\n *\n * @param {AbstractType<any>} type The base type (e.g. YText or YArray).\n * @param {number} index The absolute position.\n * @return {RelativePosition}\n *\n * @function\n */\n\n\nexports.createRelativePosition = createRelativePosition;\n\nconst createRelativePositionFromTypeIndex = (type, index) => {\n  let t = type._start;\n\n  while (t !== null) {\n    if (!t.deleted && t.countable) {\n      if (t.length > index) {\n        // case 1: found position somewhere in the linked list\n        return createRelativePosition(type, (0, _internals.createID)(t.id.client, t.id.clock + index));\n      }\n\n      index -= t.length;\n    }\n\n    t = t.right;\n  }\n\n  return createRelativePosition(type, null);\n};\n/**\n * @param {encoding.Encoder} encoder\n * @param {RelativePosition} rpos\n *\n * @function\n */\n\n\nexports.createRelativePositionFromTypeIndex = createRelativePositionFromTypeIndex;\n\nconst writeRelativePosition = (encoder, rpos) => {\n  const {\n    type,\n    tname,\n    item\n  } = rpos;\n\n  if (item !== null) {\n    encoding.writeVarUint(encoder, 0);\n    (0, _internals.writeID)(encoder, item);\n  } else if (tname !== null) {\n    // case 2: found position at the end of the list and type is stored in y.share\n    encoding.writeUint8(encoder, 1);\n    encoding.writeVarString(encoder, tname);\n  } else if (type !== null) {\n    // case 3: found position at the end of the list and type is attached to an item\n    encoding.writeUint8(encoder, 2);\n    (0, _internals.writeID)(encoder, type);\n  } else {\n    throw error.unexpectedCase();\n  }\n\n  return encoder;\n};\n/**\n * @param {RelativePosition} rpos\n * @return {Uint8Array}\n */\n\n\nexports.writeRelativePosition = writeRelativePosition;\n\nconst encodeRelativePosition = rpos => {\n  const encoder = encoding.createEncoder();\n  writeRelativePosition(encoder, rpos);\n  return encoding.toUint8Array(encoder);\n};\n/**\n * @param {decoding.Decoder} decoder\n * @return {RelativePosition|null}\n *\n * @function\n */\n\n\nexports.encodeRelativePosition = encodeRelativePosition;\n\nconst readRelativePosition = decoder => {\n  let type = null;\n  let tname = null;\n  let itemID = null;\n\n  switch (decoding.readVarUint(decoder)) {\n    case 0:\n      // case 1: found position somewhere in the linked list\n      itemID = (0, _internals.readID)(decoder);\n      break;\n\n    case 1:\n      // case 2: found position at the end of the list and type is stored in y.share\n      tname = decoding.readVarString(decoder);\n      break;\n\n    case 2:\n      {\n        // case 3: found position at the end of the list and type is attached to an item\n        type = (0, _internals.readID)(decoder);\n      }\n  }\n\n  return new RelativePosition(type, tname, itemID);\n};\n/**\n * @param {Uint8Array} uint8Array\n * @return {RelativePosition|null}\n */\n\n\nexports.readRelativePosition = readRelativePosition;\n\nconst decodeRelativePosition = uint8Array => readRelativePosition(decoding.createDecoder(uint8Array));\n/**\n * @param {RelativePosition} rpos\n * @param {Doc} doc\n * @return {AbsolutePosition|null}\n *\n * @function\n */\n\n\nexports.decodeRelativePosition = decodeRelativePosition;\n\nconst createAbsolutePositionFromRelativePosition = (rpos, doc) => {\n  const store = doc.store;\n  const rightID = rpos.item;\n  const typeID = rpos.type;\n  const tname = rpos.tname;\n  let type = null;\n  let index = 0;\n\n  if (rightID !== null) {\n    if ((0, _internals.getState)(store, rightID.client) <= rightID.clock) {\n      return null;\n    }\n\n    const right = (0, _internals.getItem)(store, rightID);\n    /*if (!(right instanceof Item)) {\n      return null\n    }*/\n\n    index = right.deleted || !right.countable ? 0 : rightID.clock - right.id.clock;\n    let n = right.left;\n\n    while (n !== null) {\n      if (!n.deleted && n.countable) {\n        index += n.length;\n      }\n\n      n = n.left;\n    }\n\n    type = right.parent;\n  } else {\n    if (tname !== null) {\n      type = doc.get(tname);\n    } else if (typeID !== null) {\n      if ((0, _internals.getState)(store, typeID.client) <= typeID.clock) {\n        // type does not exist yet\n        return null;\n      }\n\n      const struct = (0, _internals.getItem)(store, typeID);\n\n      if (struct instanceof _internals.Item && struct.content instanceof _internals.ContentType) {\n        type = struct.content.type;\n      } else {\n        // struct is garbage collected\n        return null;\n      }\n    } else {\n      throw error.unexpectedCase();\n    }\n\n    index = type._length;\n  }\n\n  if (type._item !== null && type._item.deleted) {\n    return null;\n  }\n\n  return createAbsolutePosition(type, index);\n};\n/**\n * @param {RelativePosition|null} a\n * @param {RelativePosition|null} b\n *\n * @function\n */\n\n\nexports.createAbsolutePositionFromRelativePosition = createAbsolutePositionFromRelativePosition;\n\nconst compareRelativePositions = (a, b) => a === b || a !== null && b !== null && a.tname === b.tname && (0, _internals.compareIDs)(a.item, b.item) && (0, _internals.compareIDs)(a.type, b.type);\n\nexports.compareRelativePositions = compareRelativePositions;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5xdWlsbC8uL3NyYy9qcy9SZWxhdGl2ZVBvc2l0aW9uLmpzPzA2MmQiXSwibmFtZXMiOlsiUmVsYXRpdmVQb3NpdGlvbiIsImNvbnN0cnVjdG9yIiwidHlwZSIsInRuYW1lIiwiaXRlbSIsImNyZWF0ZVJlbGF0aXZlUG9zaXRpb25Gcm9tSlNPTiIsImpzb24iLCJjbGllbnQiLCJjbG9jayIsIkFic29sdXRlUG9zaXRpb24iLCJpbmRleCIsImNyZWF0ZUFic29sdXRlUG9zaXRpb24iLCJjcmVhdGVSZWxhdGl2ZVBvc2l0aW9uIiwidHlwZWlkIiwiX2l0ZW0iLCJpZCIsImNyZWF0ZVJlbGF0aXZlUG9zaXRpb25Gcm9tVHlwZUluZGV4IiwidCIsIl9zdGFydCIsImRlbGV0ZWQiLCJjb3VudGFibGUiLCJsZW5ndGgiLCJyaWdodCIsIndyaXRlUmVsYXRpdmVQb3NpdGlvbiIsImVuY29kZXIiLCJycG9zIiwiZW5jb2RpbmciLCJ3cml0ZVZhclVpbnQiLCJ3cml0ZVVpbnQ4Iiwid3JpdGVWYXJTdHJpbmciLCJlcnJvciIsInVuZXhwZWN0ZWRDYXNlIiwiZW5jb2RlUmVsYXRpdmVQb3NpdGlvbiIsImNyZWF0ZUVuY29kZXIiLCJ0b1VpbnQ4QXJyYXkiLCJyZWFkUmVsYXRpdmVQb3NpdGlvbiIsImRlY29kZXIiLCJpdGVtSUQiLCJkZWNvZGluZyIsInJlYWRWYXJVaW50IiwicmVhZFZhclN0cmluZyIsImRlY29kZVJlbGF0aXZlUG9zaXRpb24iLCJ1aW50OEFycmF5IiwiY3JlYXRlRGVjb2RlciIsImNyZWF0ZUFic29sdXRlUG9zaXRpb25Gcm9tUmVsYXRpdmVQb3NpdGlvbiIsImRvYyIsInN0b3JlIiwicmlnaHRJRCIsInR5cGVJRCIsIm4iLCJsZWZ0IiwicGFyZW50IiwiZ2V0Iiwic3RydWN0IiwiSXRlbSIsImNvbnRlbnQiLCJDb250ZW50VHlwZSIsIl9sZW5ndGgiLCJjb21wYXJlUmVsYXRpdmVQb3NpdGlvbnMiLCJhIiwiYiJd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InNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHtcbiAgZ2V0SXRlbSxcbiAgY3JlYXRlSUQsXG4gIHdyaXRlSUQsXG4gIHJlYWRJRCxcbiAgY29tcGFyZUlEcyxcbiAgZ2V0U3RhdGUsXG4gIGZpbmRSb290VHlwZUtleSxcbiAgSXRlbSxcbiAgQ29udGVudFR5cGUsXG4gIElELCBEb2MsIEFic3RyYWN0VHlwZSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG59IGZyb20gJ3lqcy9zcmMvaW50ZXJuYWxzLmpzJ1xuXG5pbXBvcnQgKiBhcyBlbmNvZGluZyBmcm9tICdsaWIwL2VuY29kaW5nLmpzJ1xuaW1wb3J0ICogYXMgZGVjb2RpbmcgZnJvbSAnbGliMC9kZWNvZGluZy5qcydcbmltcG9ydCAqIGFzIGVycm9yIGZyb20gJ2xpYjAvZXJyb3IuanMnXG5cbi8qKlxuICogQSByZWxhdGl2ZSBwb3NpdGlvbiBpcyBiYXNlZCBvbiB0aGUgWWpzIG1vZGVsIGFuZCBpcyBub3QgYWZmZWN0ZWQgYnkgZG9jdW1lbnQgY2hhbmdlcy5cbiAqIEUuZy4gSWYgeW91IHBsYWNlIGEgcmVsYXRpdmUgcG9zaXRpb24gYmVmb3JlIGEgY2VydGFpbiBjaGFyYWN0ZXIsIGl0IHdpbGwgYWx3YXlzIHBvaW50IHRvIHRoaXMgY2hhcmFjdGVyLlxuICogSWYgeW91IHBsYWNlIGEgcmVsYXRpdmUgcG9zaXRpb24gYXQgdGhlIGVuZCBvZiBhIHR5cGUsIGl0IHdpbGwgYWx3YXlzIHBvaW50IHRvIHRoZSBlbmQgb2YgdGhlIHR5cGUuXG4gKlxuICogQSBudW1lcmljIHBvc2l0aW9uIGlzIG9mdGVuIHVuc3VpdGVkIGZvciB1c2VyIHNlbGVjdGlvbnMsIGJlY2F1c2UgaXQgZG9lcyBub3QgY2hhbmdlIHdoZW4gY29udGVudCBpcyBpbnNlcnRlZFxuICogYmVmb3JlIG9yIGFmdGVyLlxuICpcbiAqIGBgYEluc2VydCgwLCAneCcpKCdhfGJjJykgPSAneGF8YmMnYGBgIFdoZXJlIHwgaXMgdGhlIHJlbGF0aXZlIHBvc2l0aW9uLlxuICpcbiAqIE9uZSBvZiB0aGUgcHJvcGVydGllcyBtdXN0IGJlIGRlZmluZWQuXG4gKlxuICogQGV4YW1wbGVcbiAqICAgLy8gQ3VycmVudCBjdXJzb3IgcG9zaXRpb24gaXMgYXQgcG9zaXRpb24gMTBcbiAqICAgY29uc3QgcmVsYXRpdmVQb3NpdGlvbiA9IGNyZWF0ZVJlbGF0aXZlUG9zaXRpb25Gcm9tSW5kZXgoeVRleHQsIDEwKVxuICogICAvLyBtb2RpZnkgeVRleHRcbiAqICAgeVRleHQuaW5zZXJ0KDAsICdhYmMnKVxuICogICB5VGV4dC5kZWxldGUoMywgMTApXG4gKiAgIC8vIENvbXB1dGUgdGhlIGN1cnNvciBwb3NpdGlvblxuICogICBjb25zdCBhYnNvbHV0ZVBvc2l0aW9uID0gY3JlYXRlQWJzb2x1dGVQb3NpdGlvbkZyb21SZWxhdGl2ZVBvc2l0aW9uKHksIHJlbGF0aXZlUG9zaXRpb24pXG4gKiAgIGFic29sdXRlUG9zaXRpb24udHlwZSA9PT0geVRleHQgLy8gPT4gdHJ1ZVxuICogICBjb25zb2xlLmxvZygnY3Vyc29yIGxvY2F0aW9uIGlzICcgKyBhYnNvbHV0ZVBvc2l0aW9uLmluZGV4KSAvLyA9PiBjdXJzb3IgbG9jYXRpb24gaXMgM1xuICpcbiAqL1xuZXhwb3J0IGNsYXNzIFJlbGF0aXZlUG9zaXRpb24ge1xuICAvKipcbiAgICogQHBhcmFtIHtJRHxudWxsfSB0eXBlXG4gICAqIEBwYXJhbSB7c3RyaW5nfG51bGx9IHRuYW1lXG4gICAqIEBwYXJhbSB7SUR8bnVsbH0gaXRlbVxuICAgKi9cbiAgY29uc3RydWN0b3IgKHR5cGUsIHRuYW1lLCBpdGVtKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge0lEfG51bGx9XG4gICAgICovXG4gICAgdGhpcy50eXBlID0gdHlwZVxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtzdHJpbmd8bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLnRuYW1lID0gdG5hbWVcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7SUQgfCBudWxsfVxuICAgICAqL1xuICAgIHRoaXMuaXRlbSA9IGl0ZW1cbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7T2JqZWN0fSBqc29uXG4gKiBAcmV0dXJuIHtSZWxhdGl2ZVBvc2l0aW9ufVxuICpcbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgY29uc3QgY3JlYXRlUmVsYXRpdmVQb3NpdGlvbkZyb21KU09OID0ganNvbiA9PiBuZXcgUmVsYXRpdmVQb3NpdGlvbihqc29uLnR5cGUgPT0gbnVsbCA/IG51bGwgOiBjcmVhdGVJRChqc29uLnR5cGUuY2xpZW50LCBqc29uLnR5cGUuY2xvY2spLCBqc29uLnRuYW1lIHx8IG51bGwsIGpzb24uaXRlbSA9PSBudWxsID8gbnVsbCA6IGNyZWF0ZUlEKGpzb24uaXRlbS5jbGllbnQsIGpzb24uaXRlbS5jbG9jaykpXG5cbmV4cG9ydCBjbGFzcyBBYnNvbHV0ZVBvc2l0aW9uIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7QWJzdHJhY3RUeXBlPGFueT59IHR5cGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gICAqL1xuICBjb25zdHJ1Y3RvciAodHlwZSwgaW5kZXgpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7QWJzdHJhY3RUeXBlPGFueT59XG4gICAgICovXG4gICAgdGhpcy50eXBlID0gdHlwZVxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pbmRleCA9IGluZGV4XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0Fic3RyYWN0VHlwZTxhbnk+fSB0eXBlXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAqXG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUFic29sdXRlUG9zaXRpb24gPSAodHlwZSwgaW5kZXgpID0+IG5ldyBBYnNvbHV0ZVBvc2l0aW9uKHR5cGUsIGluZGV4KVxuXG4vKipcbiAqIEBwYXJhbSB7QWJzdHJhY3RUeXBlPGFueT59IHR5cGVcbiAqIEBwYXJhbSB7SUR8bnVsbH0gaXRlbVxuICpcbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgY29uc3QgY3JlYXRlUmVsYXRpdmVQb3NpdGlvbiA9ICh0eXBlLCBpdGVtKSA9PiB7XG4gIGxldCB0eXBlaWQgPSBudWxsXG4gIGxldCB0bmFtZSA9IG51bGxcbiAgaWYgKHR5cGUuX2l0ZW0gPT09IG51bGwpIHtcbiAgICB0bmFtZSA9IGZpbmRSb290VHlwZUtleSh0eXBlKVxuICB9IGVsc2Uge1xuICAgIHR5cGVpZCA9IHR5cGUuX2l0ZW0uaWRcbiAgfVxuICByZXR1cm4gbmV3IFJlbGF0aXZlUG9zaXRpb24odHlwZWlkLCB0bmFtZSwgaXRlbSlcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSByZWxhdGl2ZVBvc2l0aW9uIGJhc2VkIG9uIGEgYWJzb2x1dGUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtBYnN0cmFjdFR5cGU8YW55Pn0gdHlwZSBUaGUgYmFzZSB0eXBlIChlLmcuIFlUZXh0IG9yIFlBcnJheSkuXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXggVGhlIGFic29sdXRlIHBvc2l0aW9uLlxuICogQHJldHVybiB7UmVsYXRpdmVQb3NpdGlvbn1cbiAqXG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVJlbGF0aXZlUG9zaXRpb25Gcm9tVHlwZUluZGV4ID0gKHR5cGUsIGluZGV4KSA9PiB7XG4gIGxldCB0ID0gdHlwZS5fc3RhcnRcbiAgd2hpbGUgKHQgIT09IG51bGwpIHtcbiAgICBpZiAoIXQuZGVsZXRlZCAmJiB0LmNvdW50YWJsZSkge1xuICAgICAgaWYgKHQubGVuZ3RoID4gaW5kZXgpIHtcbiAgICAgICAgLy8gY2FzZSAxOiBmb3VuZCBwb3NpdGlvbiBzb21ld2hlcmUgaW4gdGhlIGxpbmtlZCBsaXN0XG4gICAgICAgIHJldHVybiBjcmVhdGVSZWxhdGl2ZVBvc2l0aW9uKHR5cGUsIGNyZWF0ZUlEKHQuaWQuY2xpZW50LCB0LmlkLmNsb2NrICsgaW5kZXgpKVxuICAgICAgfVxuICAgICAgaW5kZXggLT0gdC5sZW5ndGhcbiAgICB9XG4gICAgdCA9IHQucmlnaHRcbiAgfVxuICByZXR1cm4gY3JlYXRlUmVsYXRpdmVQb3NpdGlvbih0eXBlLCBudWxsKVxufVxuXG4vKipcbiAqIEBwYXJhbSB7ZW5jb2RpbmcuRW5jb2Rlcn0gZW5jb2RlclxuICogQHBhcmFtIHtSZWxhdGl2ZVBvc2l0aW9ufSBycG9zXG4gKlxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCB3cml0ZVJlbGF0aXZlUG9zaXRpb24gPSAoZW5jb2RlciwgcnBvcykgPT4ge1xuICBjb25zdCB7IHR5cGUsIHRuYW1lLCBpdGVtIH0gPSBycG9zXG4gIGlmIChpdGVtICE9PSBudWxsKSB7XG4gICAgZW5jb2Rpbmcud3JpdGVWYXJVaW50KGVuY29kZXIsIDApXG4gICAgd3JpdGVJRChlbmNvZGVyLCBpdGVtKVxuICB9IGVsc2UgaWYgKHRuYW1lICE9PSBudWxsKSB7XG4gICAgLy8gY2FzZSAyOiBmb3VuZCBwb3NpdGlvbiBhdCB0aGUgZW5kIG9mIHRoZSBsaXN0IGFuZCB0eXBlIGlzIHN0b3JlZCBpbiB5LnNoYXJlXG4gICAgZW5jb2Rpbmcud3JpdGVVaW50OChlbmNvZGVyLCAxKVxuICAgIGVuY29kaW5nLndyaXRlVmFyU3RyaW5nKGVuY29kZXIsIHRuYW1lKVxuICB9IGVsc2UgaWYgKHR5cGUgIT09IG51bGwpIHtcbiAgICAvLyBjYXNlIDM6IGZvdW5kIHBvc2l0aW9uIGF0IHRoZSBlbmQgb2YgdGhlIGxpc3QgYW5kIHR5cGUgaXMgYXR0YWNoZWQgdG8gYW4gaXRlbVxuICAgIGVuY29kaW5nLndyaXRlVWludDgoZW5jb2RlciwgMilcbiAgICB3cml0ZUlEKGVuY29kZXIsIHR5cGUpXG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgZXJyb3IudW5leHBlY3RlZENhc2UoKVxuICB9XG4gIHJldHVybiBlbmNvZGVyXG59XG5cbi8qKlxuICogQHBhcmFtIHtSZWxhdGl2ZVBvc2l0aW9ufSBycG9zXG4gKiBAcmV0dXJuIHtVaW50OEFycmF5fVxuICovXG5leHBvcnQgY29uc3QgZW5jb2RlUmVsYXRpdmVQb3NpdGlvbiA9IHJwb3MgPT4ge1xuICBjb25zdCBlbmNvZGVyID0gZW5jb2RpbmcuY3JlYXRlRW5jb2RlcigpXG4gIHdyaXRlUmVsYXRpdmVQb3NpdGlvbihlbmNvZGVyLCBycG9zKVxuICByZXR1cm4gZW5jb2RpbmcudG9VaW50OEFycmF5KGVuY29kZXIpXG59XG5cbi8qKlxuICogQHBhcmFtIHtkZWNvZGluZy5EZWNvZGVyfSBkZWNvZGVyXG4gKiBAcmV0dXJuIHtSZWxhdGl2ZVBvc2l0aW9ufG51bGx9XG4gKlxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCByZWFkUmVsYXRpdmVQb3NpdGlvbiA9IGRlY29kZXIgPT4ge1xuICBsZXQgdHlwZSA9IG51bGxcbiAgbGV0IHRuYW1lID0gbnVsbFxuICBsZXQgaXRlbUlEID0gbnVsbFxuICBzd2l0Y2ggKGRlY29kaW5nLnJlYWRWYXJVaW50KGRlY29kZXIpKSB7XG4gICAgY2FzZSAwOlxuICAgICAgLy8gY2FzZSAxOiBmb3VuZCBwb3NpdGlvbiBzb21ld2hlcmUgaW4gdGhlIGxpbmtlZCBsaXN0XG4gICAgICBpdGVtSUQgPSByZWFkSUQoZGVjb2RlcilcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAxOlxuICAgICAgLy8gY2FzZSAyOiBmb3VuZCBwb3NpdGlvbiBhdCB0aGUgZW5kIG9mIHRoZSBsaXN0IGFuZCB0eXBlIGlzIHN0b3JlZCBpbiB5LnNoYXJlXG4gICAgICB0bmFtZSA9IGRlY29kaW5nLnJlYWRWYXJTdHJpbmcoZGVjb2RlcilcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAyOiB7XG4gICAgICAvLyBjYXNlIDM6IGZvdW5kIHBvc2l0aW9uIGF0IHRoZSBlbmQgb2YgdGhlIGxpc3QgYW5kIHR5cGUgaXMgYXR0YWNoZWQgdG8gYW4gaXRlbVxuICAgICAgdHlwZSA9IHJlYWRJRChkZWNvZGVyKVxuICAgIH1cbiAgfVxuICByZXR1cm4gbmV3IFJlbGF0aXZlUG9zaXRpb24odHlwZSwgdG5hbWUsIGl0ZW1JRClcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IHVpbnQ4QXJyYXlcbiAqIEByZXR1cm4ge1JlbGF0aXZlUG9zaXRpb258bnVsbH1cbiAqL1xuZXhwb3J0IGNvbnN0IGRlY29kZVJlbGF0aXZlUG9zaXRpb24gPSB1aW50OEFycmF5ID0+IHJlYWRSZWxhdGl2ZVBvc2l0aW9uKGRlY29kaW5nLmNyZWF0ZURlY29kZXIodWludDhBcnJheSkpXG5cbi8qKlxuICogQHBhcmFtIHtSZWxhdGl2ZVBvc2l0aW9ufSBycG9zXG4gKiBAcGFyYW0ge0RvY30gZG9jXG4gKiBAcmV0dXJuIHtBYnNvbHV0ZVBvc2l0aW9ufG51bGx9XG4gKlxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVBYnNvbHV0ZVBvc2l0aW9uRnJvbVJlbGF0aXZlUG9zaXRpb24gPSAocnBvcywgZG9jKSA9PiB7XG4gIGNvbnN0IHN0b3JlID0gZG9jLnN0b3JlXG4gIGNvbnN0IHJpZ2h0SUQgPSBycG9zLml0ZW1cbiAgY29uc3QgdHlwZUlEID0gcnBvcy50eXBlXG4gIGNvbnN0IHRuYW1lID0gcnBvcy50bmFtZVxuICBsZXQgdHlwZSA9IG51bGxcbiAgbGV0IGluZGV4ID0gMFxuICBpZiAocmlnaHRJRCAhPT0gbnVsbCkge1xuICAgIGlmIChnZXRTdGF0ZShzdG9yZSwgcmlnaHRJRC5jbGllbnQpIDw9IHJpZ2h0SUQuY2xvY2spIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICAgIGNvbnN0IHJpZ2h0ID0gZ2V0SXRlbShzdG9yZSwgcmlnaHRJRClcbiAgICAvKmlmICghKHJpZ2h0IGluc3RhbmNlb2YgSXRlbSkpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfSovXG4gICAgaW5kZXggPSByaWdodC5kZWxldGVkIHx8ICFyaWdodC5jb3VudGFibGUgPyAwIDogcmlnaHRJRC5jbG9jayAtIHJpZ2h0LmlkLmNsb2NrXG4gICAgbGV0IG4gPSByaWdodC5sZWZ0XG4gICAgd2hpbGUgKG4gIT09IG51bGwpIHtcbiAgICAgIGlmICghbi5kZWxldGVkICYmIG4uY291bnRhYmxlKSB7XG4gICAgICAgIGluZGV4ICs9IG4ubGVuZ3RoXG4gICAgICB9XG4gICAgICBuID0gbi5sZWZ0XG4gICAgfVxuICAgIHR5cGUgPSByaWdodC5wYXJlbnRcbiAgfSBlbHNlIHtcbiAgICBpZiAodG5hbWUgIT09IG51bGwpIHtcbiAgICAgIHR5cGUgPSBkb2MuZ2V0KHRuYW1lKVxuICAgIH0gZWxzZSBpZiAodHlwZUlEICE9PSBudWxsKSB7XG4gICAgICBpZiAoZ2V0U3RhdGUoc3RvcmUsIHR5cGVJRC5jbGllbnQpIDw9IHR5cGVJRC5jbG9jaykge1xuICAgICAgICAvLyB0eXBlIGRvZXMgbm90IGV4aXN0IHlldFxuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgfVxuICAgICAgY29uc3Qgc3RydWN0ID0gZ2V0SXRlbShzdG9yZSwgdHlwZUlEKVxuICAgICAgaWYgKHN0cnVjdCBpbnN0YW5jZW9mIEl0ZW0gJiYgc3RydWN0LmNvbnRlbnQgaW5zdGFuY2VvZiBDb250ZW50VHlwZSkge1xuICAgICAgICB0eXBlID0gc3RydWN0LmNvbnRlbnQudHlwZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gc3RydWN0IGlzIGdhcmJhZ2UgY29sbGVjdGVkXG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IGVycm9yLnVuZXhwZWN0ZWRDYXNlKClcbiAgICB9XG4gICAgaW5kZXggPSB0eXBlLl9sZW5ndGhcbiAgfVxuICBpZiAodHlwZS5faXRlbSAhPT0gbnVsbCAmJiB0eXBlLl9pdGVtLmRlbGV0ZWQpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG4gIHJldHVybiBjcmVhdGVBYnNvbHV0ZVBvc2l0aW9uKHR5cGUsIGluZGV4KVxufVxuXG4vKipcbiAqIEBwYXJhbSB7UmVsYXRpdmVQb3NpdGlvbnxudWxsfSBhXG4gKiBAcGFyYW0ge1JlbGF0aXZlUG9zaXRpb258bnVsbH0gYlxuICpcbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgY29uc3QgY29tcGFyZVJlbGF0aXZlUG9zaXRpb25zID0gKGEsIGIpID0+IGEgPT09IGIgfHwgKFxuICBhICE9PSBudWxsICYmIGIgIT09IG51bGwgJiYgYS50bmFtZSA9PT0gYi50bmFtZSAmJiBjb21wYXJlSURzKGEuaXRlbSwgYi5pdGVtKSAmJiBjb21wYXJlSURzKGEudHlwZSwgYi50eXBlKVxuKVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/RelativePosition.js\n')},"./src/js/y-quill_binding.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.QuillBinding = exports.normQuillDelta = void 0;\n\nvar _mutex = __webpack_require__(/*! lib0/mutex.js */ \"./node_modules/lib0/mutex.js\");\n\nvar Y = _interopRequireWildcard(__webpack_require__(/*! yjs */ \"./node_modules/yjs/dist/yjs.mjs\"));\n\nvar _awareness = __webpack_require__(/*! y-protocols/awareness.js */ \"./node_modules/y-protocols/awareness.js\");\n\nvar Ys = _interopRequireWildcard(__webpack_require__(/*! ./RelativePosition.js */ \"./src/js/RelativePosition.js\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\n * @module bindings/quill\n */\n// eslint-disable-line\n// eslint-disable-line\n\n/**\n * Removes the pending '\\n's if it has no attributes.\n */\nconst normQuillDelta = delta => {\n  if (delta.length > 0) {\n    const d = delta[delta.length - 1];\n    const insert = d.insert;\n\n    if (d.attributes === undefined && insert !== undefined && insert.slice(-1) === '\\n') {\n      delta = delta.slice();\n      let ins = insert.slice(0, -1);\n\n      while (ins.slice(-1) === '\\n') {\n        ins = ins.slice(0, -1);\n      }\n\n      delta[delta.length - 1] = {\n        insert: ins\n      };\n\n      if (ins.length === 0) {\n        delta.pop();\n      }\n\n      return delta;\n    }\n  }\n\n  return delta;\n};\n/**\n * @param {any} quillCursors\n */\n\n\nexports.normQuillDelta = normQuillDelta;\n\nconst updateCursor = (quillCursors, aw, clientId, doc, type) => {\n  try {\n    if (aw && aw.cursor && clientId !== doc.clientID) {\n      const user = aw.user || {};\n      const color = user.color || '#ffa500';\n      const name = user.name || `User: ${clientId}`;\n      quillCursors.createCursor(clientId.toString(), name, color);\n      const anchor = Ys.createAbsolutePositionFromRelativePosition(Y.createRelativePositionFromJSON(aw.cursor.anchor), doc);\n      const head = Ys.createAbsolutePositionFromRelativePosition(Y.createRelativePositionFromJSON(aw.cursor.head), doc);\n\n      if (anchor && head && anchor.type === type) {\n        quillCursors.moveCursor(clientId.toString(), {\n          index: anchor.index,\n          length: head.index - anchor.index\n        });\n      }\n    } else {\n      quillCursors.removeCursor(clientId.toString());\n    }\n  } catch (err) {\n    console.error(err);\n  }\n};\n\nclass QuillBinding {\n  /**\n   * @param {Y.Text} type\n   * @param {any} quill\n   * @param {Awareness} [awareness]\n   */\n  constructor(type, quill, awareness) {\n    const mux = (0, _mutex.createMutex)();\n    const doc =\n    /** @type {Y.Doc} */\n    type.doc;\n    this.mux = mux;\n    this.type = type;\n    this.doc = doc;\n    this.quill = quill;\n    const quillCursors = quill.getModule('cursors') || null;\n    this.quillCursors = quillCursors; // This object contains all attributes used in the quill instance\n\n    this._negatedUsedFormats = {};\n    this.awareness = awareness;\n\n    this._awarenessChange = ({\n      added,\n      removed,\n      updated\n    }) => {\n      const states =\n      /** @type {Awareness} */\n      awareness.getStates();\n      added.forEach(id => {\n        updateCursor(quillCursors, states.get(id), id, doc, type);\n      });\n      updated.forEach(id => {\n        updateCursor(quillCursors, states.get(id), id, doc, type);\n      });\n      removed.forEach(id => {\n        quillCursors.removeCursor(id.toString());\n      });\n    };\n\n    this._typeObserver = event => {\n      mux(() => {\n        const eventDelta = event.delta; // We always explicitly set attributes, otherwise concurrent edits may\n        // result in quill assuming that a text insertion shall inherit existing\n        // attributes.\n\n        const el = quill.options.container;\n        const readValue = el.getAttribute('data-read_value') != 'false';\n\n        if (!readValue) {\n          return;\n        }\n\n        const delta = [];\n\n        for (let i = 0; i < eventDelta.length; i++) {\n          const d = eventDelta[i];\n\n          if (d.insert !== undefined) {\n            delta.push(Object.assign({}, d, {\n              attributes: Object.assign({}, this._negatedUsedFormats, d.attributes || {})\n            }));\n          } else {\n            delta.push(d);\n          }\n        }\n\n        quill.updateContents(delta, 'yjs');\n        el.crudSetted = true;\n      });\n    };\n\n    type.observe(this._typeObserver);\n\n    this._quillObserver = (eventType, delta) => {\n      const el = quill.options.container;\n      const realtime = el.getAttribute('data-realtime') != 'false';\n      const saveValue = el.getAttribute('data-save_value') != 'false';\n      const readValue = el.getAttribute('data-read_value') != 'false';\n      if (!realtime || !saveValue) return;\n\n      if (!readValue) {\n        //. total value\n        type.delete(0, type.toString().length);\n        type.insert(0, quill.getText());\n        return;\n      }\n\n      if (delta && delta.ops) {\n        // update content\n        const ops = delta.ops;\n        ops.forEach(op => {\n          if (op.attributes !== undefined) {\n            for (let key in op.attributes) {\n              if (this._negatedUsedFormats[key] === undefined) {\n                this._negatedUsedFormats[key] = false;\n              }\n            }\n          }\n        });\n        mux(() => {\n          type.applyDelta(ops);\n        });\n      } // always check selection\n\n\n      if (awareness && quillCursors) {\n        const sel = quill.getSelection();\n        const aw = awareness.getLocalState();\n\n        if (sel === null) {\n          if (awareness.getLocalState() !== null) {\n            awareness.setLocalStateField('cursor', null);\n          }\n        } else {\n          const anchor = Y.createRelativePositionFromTypeIndex(type, sel.index);\n          const head = Y.createRelativePositionFromTypeIndex(type, sel.index + sel.length);\n\n          if (!aw || !aw.cursor || !Y.compareRelativePositions(anchor, aw.cursor.anchor) || !Y.compareRelativePositions(head, aw.cursor.head)) {\n            awareness.setLocalStateField('cursor', {\n              anchor,\n              head\n            });\n          }\n        } // update all remote cursor locations\n\n\n        awareness.getStates().forEach((aw, clientId) => {\n          updateCursor(quillCursors, aw, clientId, doc, type);\n        });\n      }\n    };\n\n    quill.on('editor-change', this._quillObserver);\n    mux(() => {\n      // This indirectly initializes _negatedUsedFormats.\n      // Make sure that this call this after the _quillObserver is set.\n      quill.setContents(type.toDelta());\n    }); // init remote cursors\n\n    if (quillCursors !== null && awareness) {\n      awareness.getStates().forEach((aw, clientId) => {\n        updateCursor(quillCursors, aw, clientId, doc, type);\n      });\n      awareness.on('change', this._awarenessChange);\n    }\n  }\n\n  destroy() {\n    this.type.unobserve(this._typeObserver);\n    this.quill.off(this._quillObserver);\n\n    if (this.awareness) {\n      this.awareness.off('change', this._awarenessChange);\n    }\n  }\n\n}\n\nexports.QuillBinding = QuillBinding;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5xdWlsbC8uL3NyYy9qcy95LXF1aWxsX2JpbmRpbmcuanM/NTA4ZiJdLCJuYW1lcyI6WyJub3JtUXVpbGxEZWx0YSIsImRlbHRhIiwibGVuZ3RoIiwiZCIsImluc2VydCIsImF0dHJpYnV0ZXMiLCJ1bmRlZmluZWQiLCJzbGljZSIsImlucyIsInBvcCIsInVwZGF0ZUN1cnNvciIsInF1aWxsQ3Vyc29ycyIsImF3IiwiY2xpZW50SWQiLCJkb2MiLCJ0eXBlIiwiY3Vyc29yIiwiY2xpZW50SUQiLCJ1c2VyIiwiY29sb3IiLCJuYW1lIiwiY3JlYXRlQ3Vyc29yIiwidG9TdHJpbmciLCJhbmNob3IiLCJZcyIsImNyZWF0ZUFic29sdXRlUG9zaXRpb25Gcm9tUmVsYXRpdmVQb3NpdGlvbiIsIlkiLCJjcmVhdGVSZWxhdGl2ZVBvc2l0aW9uRnJvbUpTT04iLCJoZWFkIiwibW92ZUN1cnNvciIsImluZGV4IiwicmVtb3ZlQ3Vyc29yIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiUXVpbGxCaW5kaW5nIiwiY29uc3RydWN0b3IiLCJxdWlsbCIsImF3YXJlbmVzcyIsIm11eCIsImdldE1vZHVsZSIsIl9uZWdhdGVkVXNlZEZvcm1hdHMiLCJfYXdhcmVuZXNzQ2hhbmdlIiwiYWRkZWQiLCJyZW1vdmVkIiwidXBkYXRlZCIsInN0YXRlcyIsImdldFN0YXRlcyIsImZvckVhY2giLCJpZCIsImdldCIsIl90eXBlT2JzZXJ2ZXIiLCJldmVudCIsImV2ZW50RGVsdGEiLCJlbCIsIm9wdGlvbnMiLCJjb250YWluZXIiLCJyZWFkVmFsdWUiLCJnZXRBdHRyaWJ1dGUiLCJpIiwicHVzaCIsIk9iamVjdCIsImFzc2lnbiIsInVwZGF0ZUNvbnRlbnRzIiwiY3J1ZFNldHRlZCIsIm9ic2VydmUiLCJfcXVpbGxPYnNlcnZlciIsImV2ZW50VHlwZSIsInJlYWx0aW1lIiwic2F2ZVZhbHVlIiwiZGVsZXRlIiwiZ2V0VGV4dCIsIm9wcyIsIm9wIiwia2V5IiwiYXBwbHlEZWx0YSIsInNlbCIsImdldFNlbGVjdGlvbiIsImdldExvY2FsU3RhdGUiLCJzZXRMb2NhbFN0YXRlRmllbGQiLCJjcmVhdGVSZWxhdGl2ZVBvc2l0aW9uRnJvbVR5cGVJbmRleCIsImNvbXBhcmVSZWxhdGl2ZVBvc2l0aW9ucyIsIm9uIiwic2V0Q29udGVudHMiLCJ0b0RlbHRhIiwiZGVzdHJveSIsInVub2JzZXJ2ZSIsIm9mZiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUlBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7QUFQQTtBQUNBO0FBQ0E7QUFHeUI7QUFDNEI7O0FBR3JEO0FBQ0E7QUFDQTtBQUNPLE1BQU1BLGNBQWMsR0FBR0MsS0FBSyxJQUFJO0FBQ3JDLE1BQUlBLEtBQUssQ0FBQ0MsTUFBTixHQUFlLENBQW5CLEVBQXNCO0FBQ3BCLFVBQU1DLENBQUMsR0FBR0YsS0FBSyxDQUFDQSxLQUFLLENBQUNDLE1BQU4sR0FBZSxDQUFoQixDQUFmO0FBQ0EsVUFBTUUsTUFBTSxHQUFHRCxDQUFDLENBQUNDLE1BQWpCOztBQUNBLFFBQUlELENBQUMsQ0FBQ0UsVUFBRixLQUFpQkMsU0FBakIsSUFBOEJGLE1BQU0sS0FBS0UsU0FBekMsSUFBc0RGLE1BQU0sQ0FBQ0csS0FBUCxDQUFhLENBQUMsQ0FBZCxNQUFxQixJQUEvRSxFQUFxRjtBQUNuRk4sV0FBSyxHQUFHQSxLQUFLLENBQUNNLEtBQU4sRUFBUjtBQUNBLFVBQUlDLEdBQUcsR0FBR0osTUFBTSxDQUFDRyxLQUFQLENBQWEsQ0FBYixFQUFnQixDQUFDLENBQWpCLENBQVY7O0FBQ0EsYUFBT0MsR0FBRyxDQUFDRCxLQUFKLENBQVUsQ0FBQyxDQUFYLE1BQWtCLElBQXpCLEVBQStCO0FBQzdCQyxXQUFHLEdBQUdBLEdBQUcsQ0FBQ0QsS0FBSixDQUFVLENBQVYsRUFBYSxDQUFDLENBQWQsQ0FBTjtBQUNEOztBQUNETixXQUFLLENBQUNBLEtBQUssQ0FBQ0MsTUFBTixHQUFlLENBQWhCLENBQUwsR0FBMEI7QUFBRUUsY0FBTSxFQUFF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QUFlQyxFQUFmLEVBQW1CQyxRQUFuQixFQUE2QkMsR0FBN0IsRUFBa0NDLElBQWxDLENBQVo7QUFDRCxPQUZEO0FBR0F1QixlQUFTLENBQUM0QyxFQUFWLENBQWEsUUFBYixFQUF1QixLQUFLeEMsZ0JBQTVCO0FBQ0Q7QUFDRjs7QUFDRDJDLFNBQU8sR0FBSTtBQUNULFNBQUt0RSxJQUFMLENBQVV1RSxTQUFWLENBQW9CLEtBQUtuQyxhQUF6QjtBQUNBLFNBQUtkLEtBQUwsQ0FBV2tELEdBQVgsQ0FBZSxLQUFLckIsY0FBcEI7O0FBQ0EsUUFBSSxLQUFLNUIsU0FBVCxFQUFvQjtBQUNsQixXQUFLQSxTQUFMLENBQWVpRCxHQUFmLENBQW1CLFFBQW5CLEVBQTZCLEtBQUs3QyxnQkFBbEM7QUFDRDtBQUNGOztBQWpJdUIiLCJmaWxlIjoiLi9zcmMvanMveS1xdWlsbF9iaW5kaW5nLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbW9kdWxlIGJpbmRpbmdzL3F1aWxsXG4gKi9cblxuaW1wb3J0IHsgY3JlYXRlTXV0ZXggfSBmcm9tICdsaWIwL211dGV4LmpzJ1xuaW1wb3J0ICogYXMgWSBmcm9tICd5anMnIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbmltcG9ydCB7IEF3YXJlbmVzcyB9IGZyb20gJ3ktcHJvdG9jb2xzL2F3YXJlbmVzcy5qcycgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuaW1wb3J0ICogYXMgWXMgZnJvbSAnLi9SZWxhdGl2ZVBvc2l0aW9uLmpzJ1xuXG4vKipcbiAqIFJlbW92ZXMgdGhlIHBlbmRpbmcgJ1xcbidzIGlmIGl0IGhhcyBubyBhdHRyaWJ1dGVzLlxuICovXG5leHBvcnQgY29uc3Qgbm9ybVF1aWxsRGVsdGEgPSBkZWx0YSA9PiB7XG4gIGlmIChkZWx0YS5sZW5ndGggPiAwKSB7XG4gICAgY29uc3QgZCA9IGRlbHRhW2RlbHRhLmxlbmd0aCAtIDFdXG4gICAgY29uc3QgaW5zZXJ0ID0gZC5pbnNlcnRcbiAgICBpZiAoZC5hdHRyaWJ1dGVzID09PSB1bmRlZmluZWQgJiYgaW5zZXJ0ICE9PSB1bmRlZmluZWQgJiYgaW5zZXJ0LnNsaWNlKC0xKSA9PT0gJ1xcbicpIHtcbiAgICAgIGRlbHRhID0gZGVsdGEuc2xpY2UoKVxuICAgICAgbGV0IGlucyA9IGluc2VydC5zbGljZSgwLCAtMSlcbiAgICAgIHdoaWxlIChpbnMuc2xpY2UoLTEpID09PSAnXFxuJykge1xuICAgICAgICBpbnMgPSBpbnMuc2xpY2UoMCwgLTEpXG4gICAgICB9XG4gICAgICBkZWx0YVtkZWx0YS5sZW5ndGggLSAxXSA9IHsgaW5zZXJ0OiBpbnMgfVxuICAgICAgaWYgKGlucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZGVsdGEucG9wKClcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWx0YVxuICAgIH1cbiAgfVxuICByZXR1cm4gZGVsdGFcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2FueX0gcXVpbGxDdXJzb3JzXG4gKi9cbmNvbnN0IHVwZGF0ZUN1cnNvciA9IChxdWlsbEN1cnNvcnMsIGF3LCBjbGllbnRJZCwgZG9jLCB0eXBlKSA9PiB7XG4gIHRyeSB7XG4gICAgaWYgKGF3ICYmIGF3LmN1cnNvciAmJiBjbGllbnRJZCAhPT0gZG9jLmNsaWVudElEKSB7XG4gICAgICBjb25zdCB1c2VyID0gYXcudXNlciB8fCB7fVxuICAgICAgY29uc3QgY29sb3IgPSB1c2VyLmNvbG9yIHx8ICcjZmZhNTAwJ1xuICAgICAgY29uc3QgbmFtZSA9IHVzZXIubmFtZSB8fCBgVXNlcjogJHtjbGllbnRJZH1gXG4gICAgICBxdWlsbEN1cnNvcnMuY3JlYXRlQ3Vyc29yKGNsaWVudElkLnRvU3RyaW5nKCksIG5hbWUsIGNvbG9yKVxuICAgICAgY29uc3QgYW5jaG9yID0gWXMuY3JlYXRlQWJzb2x1dGVQb3NpdGlvbkZyb21SZWxhdGl2ZVBvc2l0aW9uKFkuY3JlYXRlUmVsYXRpdmVQb3NpdGlvbkZyb21KU09OKGF3LmN1cnNvci5hbmNob3IpLCBkb2MpXG4gICAgICBjb25zdCBoZWFkID0gWXMuY3JlYXRlQWJzb2x1dGVQb3NpdGlvbkZyb21SZWxhdGl2ZVBvc2l0aW9uKFkuY3JlYXRlUmVsYXRpdmVQb3NpdGlvbkZyb21KU09OKGF3LmN1cnNvci5oZWFkKSwgZG9jKVxuICAgICAgaWYgKGFuY2hvciAmJiBoZWFkICYmIGFuY2hvci50eXBlID09PSB0eXBlKSB7XG4gICAgICAgIHF1aWxsQ3Vyc29ycy5tb3ZlQ3Vyc29yKGNsaWVudElkLnRvU3RyaW5nKCksIHsgaW5kZXg6IGFuY2hvci5pbmRleCwgbGVuZ3RoOiBoZWFkLmluZGV4IC0gYW5jaG9yLmluZGV4IH0pXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHF1aWxsQ3Vyc29ycy5yZW1vdmVDdXJzb3IoY2xpZW50SWQudG9TdHJpbmcoKSlcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBRdWlsbEJpbmRpbmcge1xuICAvKipcbiAgICogQHBhcmFtIHtZLlRleHR9IHR5cGVcbiAgICogQHBhcmFtIHthbnl9IHF1aWxsXG4gICAqIEBwYXJhbSB7QXdhcmVuZXNzfSBbYXdhcmVuZXNzXVxuICAgKi9cbiAgY29uc3RydWN0b3IgKHR5cGUsIHF1aWxsLCBhd2FyZW5lc3MpIHtcbiAgICBjb25zdCBtdXggPSBjcmVhdGVNdXRleCgpXG4gICAgY29uc3QgZG9jID0gLyoqIEB0eXBlIHtZLkRvY30gKi8gKHR5cGUuZG9jKVxuICAgIHRoaXMubXV4ID0gbXV4XG4gICAgdGhpcy50eXBlID0gdHlwZVxuICAgIHRoaXMuZG9jID0gZG9jXG4gICAgdGhpcy5xdWlsbCA9IHF1aWxsXG4gICAgY29uc3QgcXVpbGxDdXJzb3JzID0gcXVpbGwuZ2V0TW9kdWxlKCdjdXJzb3JzJykgfHwgbnVsbFxuICAgIHRoaXMucXVpbGxDdXJzb3JzID0gcXVpbGxDdXJzb3JzXG4gICAgLy8gVGhpcyBvYmplY3QgY29udGFpbnMgYWxsIGF0dHJpYnV0ZXMgdXNlZCBpbiB0aGUgcXVpbGwgaW5zdGFuY2VcbiAgICB0aGlzLl9uZWdhdGVkVXNlZEZvcm1hdHMgPSB7fVxuICAgIHRoaXMuYXdhcmVuZXNzID0gYXdhcmVuZXNzXG4gICAgdGhpcy5fYXdhcmVuZXNzQ2hhbmdlID0gKHsgYWRkZWQsIHJlbW92ZWQsIHVwZGF0ZWQgfSkgPT4ge1xuICAgICAgY29uc3Qgc3RhdGVzID0gLyoqIEB0eXBlIHtBd2FyZW5lc3N9ICovIChhd2FyZW5lc3MpLmdldFN0YXRlcygpXG4gICAgICBhZGRlZC5mb3JFYWNoKGlkID0+IHtcbiAgICAgICAgdXBkYXRlQ3Vyc29yKHF1aWxsQ3Vyc29ycywgc3RhdGVzLmdldChpZCksIGlkLCBkb2MsIHR5cGUpXG4gICAgICB9KVxuICAgICAgdXBkYXRlZC5mb3JFYWNoKGlkID0+IHtcbiAgICAgICAgdXBkYXRlQ3Vyc29yKHF1aWxsQ3Vyc29ycywgc3RhdGVzLmdldChpZCksIGlkLCBkb2MsIHR5cGUpXG4gICAgICB9KVxuICAgICAgcmVtb3ZlZC5mb3JFYWNoKGlkID0+IHtcbiAgICAgICAgcXVpbGxDdXJzb3JzLnJlbW92ZUN1cnNvcihpZC50b1N0cmluZygpKVxuICAgICAgfSlcbiAgICB9XG4gICAgdGhpcy5fdHlwZU9ic2VydmVyID0gZXZlbnQgPT4ge1xuICAgICAgbXV4KCgpID0+IHtcbiAgICAgICAgY29uc3QgZXZlbnREZWx0YSA9IGV2ZW50LmRlbHRhXG4gICAgICAgIC8vIFdlIGFsd2F5cyBleHBsaWNpdGx5IHNldCBhdHRyaWJ1dGVzLCBvdGhlcndpc2UgY29uY3VycmVudCBlZGl0cyBtYXlcbiAgICAgICAgLy8gcmVzdWx0IGluIHF1aWxsIGFzc3VtaW5nIHRoYXQgYSB0ZXh0IGluc2VydGlvbiBzaGFsbCBpbmhlcml0IGV4aXN0aW5nXG4gICAgICAgIC8vIGF0dHJpYnV0ZXMuXG4gICAgICAgIGNvbnN0IGVsID0gcXVpbGwub3B0aW9ucy5jb250YWluZXJcbiAgICAgICAgY29uc3QgcmVhZFZhbHVlID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXJlYWRfdmFsdWUnKSAhPSAnZmFsc2UnO1xuICAgICAgICBpZiAoIXJlYWRWYWx1ZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWx0YSA9IFtdXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXZlbnREZWx0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGQgPSBldmVudERlbHRhW2ldXG4gICAgICAgICAgaWYgKGQuaW5zZXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRlbHRhLnB1c2goT2JqZWN0LmFzc2lnbih7fSwgZCwgeyBhdHRyaWJ1dGVzOiBPYmplY3QuYXNzaWduKHt9LCB0aGlzLl9uZWdhdGVkVXNlZEZvcm1hdHMsIGQuYXR0cmlidXRlcyB8fCB7fSkgfSkpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlbHRhLnB1c2goZClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVpbGwudXBkYXRlQ29udGVudHMoZGVsdGEsICd5anMnKVxuICAgICAgICBlbC5jcnVkU2V0dGVkID0gdHJ1ZTtcbiAgICAgIH0pXG4gICAgfVxuICAgIHR5cGUub2JzZXJ2ZSh0aGlzLl90eXBlT2JzZXJ2ZXIpXG4gICAgdGhpcy5fcXVpbGxPYnNlcnZlciA9IChldmVudFR5cGUsIGRlbHRhKSA9PiB7XG4gICAgICBjb25zdCBlbCA9IHF1aWxsLm9wdGlvbnMuY29udGFpbmVyXG4gICAgICBjb25zdCByZWFsdGltZSA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1yZWFsdGltZScpICE9ICdmYWxzZSdcbiAgICAgIGNvbnN0IHNhdmVWYWx1ZSA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zYXZlX3ZhbHVlJykgIT0gJ2ZhbHNlJztcbiAgICAgIGNvbnN0IHJlYWRWYWx1ZSA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1yZWFkX3ZhbHVlJykgIT0gJ2ZhbHNlJztcbiAgICAgIGlmICghcmVhbHRpbWUgfHwgIXNhdmVWYWx1ZSkgcmV0dXJuO1xuICAgICAgXG4gICAgICBpZiAoIXJlYWRWYWx1ZSkge1xuICAgICAgICAvLy4gdG90YWwgdmFsdWVcbiAgICAgICAgdHlwZS5kZWxldGUoMCwgdHlwZS50b1N0cmluZygpLmxlbmd0aCk7XG4gICAgICAgIHR5cGUuaW5zZXJ0KDAsIHF1aWxsLmdldFRleHQoKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKGRlbHRhICYmIGRlbHRhLm9wcykge1xuICAgICAgICAvLyB1cGRhdGUgY29udGVudFxuICAgICAgICBjb25zdCBvcHMgPSBkZWx0YS5vcHNcbiAgICAgICAgb3BzLmZvckVhY2gob3AgPT4ge1xuICAgICAgICAgIGlmIChvcC5hdHRyaWJ1dGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBvcC5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgIGlmICh0aGlzLl9uZWdhdGVkVXNlZEZvcm1hdHNba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmVnYXRlZFVzZWRGb3JtYXRzW2tleV0gPSBmYWxzZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBtdXgoKCkgPT4ge1xuICAgICAgICAgIHR5cGUuYXBwbHlEZWx0YShvcHMpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICAvLyBhbHdheXMgY2hlY2sgc2VsZWN0aW9uXG4gICAgICBpZiAoYXdhcmVuZXNzICYmIHF1aWxsQ3Vyc29ycykge1xuICAgICAgICBjb25zdCBzZWwgPSBxdWlsbC5nZXRTZWxlY3Rpb24oKVxuICAgICAgICBjb25zdCBhdyA9IGF3YXJlbmVzcy5nZXRMb2NhbFN0YXRlKClcbiAgICAgICAgaWYgKHNlbCA9PT0gbnVsbCkge1xuICAgICAgICAgIGlmIChhd2FyZW5lc3MuZ2V0TG9jYWxTdGF0ZSgpICE9PSBudWxsKSB7XG4gICAgICAgICAgICBhd2FyZW5lc3Muc2V0TG9jYWxTdGF0ZUZpZWxkKCdjdXJzb3InLCBudWxsKVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBhbmNob3IgPSBZLmNyZWF0ZVJlbGF0aXZlUG9zaXRpb25Gcm9tVHlwZUluZGV4KHR5cGUsIHNlbC5pbmRleClcbiAgICAgICAgICBjb25zdCBoZWFkID0gWS5jcmVhdGVSZWxhdGl2ZVBvc2l0aW9uRnJvbVR5cGVJbmRleCh0eXBlLCBzZWwuaW5kZXggKyBzZWwubGVuZ3RoKVxuICAgICAgICAgIGlmICghYXcgfHwgIWF3LmN1cnNvciB8fCAhWS5jb21wYXJlUmVsYXRpdmVQb3NpdGlvbnMoYW5jaG9yLCBhdy5jdXJzb3IuYW5jaG9yKSB8fCAhWS5jb21wYXJlUmVsYXRpdmVQb3NpdGlvbnMoaGVhZCwgYXcuY3Vyc29yLmhlYWQpKSB7XG4gICAgICAgICAgICBhd2FyZW5lc3Muc2V0TG9jYWxTdGF0ZUZpZWxkKCdjdXJzb3InLCB7XG4gICAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgICAgaGVhZFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gdXBkYXRlIGFsbCByZW1vdGUgY3Vyc29yIGxvY2F0aW9uc1xuICAgICAgICBhd2FyZW5lc3MuZ2V0U3RhdGVzKCkuZm9yRWFjaCgoYXcsIGNsaWVudElkKSA9PiB7XG4gICAgICAgICAgdXBkYXRlQ3Vyc29yKHF1aWxsQ3Vyc29ycywgYXcsIGNsaWVudElkLCBkb2MsIHR5cGUpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICAgIHF1aWxsLm9uKCdlZGl0b3ItY2hhbmdlJywgdGhpcy5fcXVpbGxPYnNlcnZlcilcbiAgICBtdXgoKCkgPT4ge1xuICAgICAgLy8gVGhpcyBpbmRpcmVjdGx5IGluaXRpYWxpemVzIF9uZWdhdGVkVXNlZEZvcm1hdHMuXG4gICAgICAvLyBNYWtlIHN1cmUgdGhhdCB0aGlzIGNhbGwgdGhpcyBhZnRlciB0aGUgX3F1aWxsT2JzZXJ2ZXIgaXMgc2V0LlxuICAgICAgcXVpbGwuc2V0Q29udGVudHModHlwZS50b0RlbHRhKCkpXG4gICAgfSlcbiAgICAvLyBpbml0IHJlbW90ZSBjdXJzb3JzXG4gICAgaWYgKHF1aWxsQ3Vyc29ycyAhPT0gbnVsbCAmJiBhd2FyZW5lc3MpIHtcbiAgICAgIGF3YXJlbmVzcy5nZXRTdGF0ZXMoKS5mb3JFYWNoKChhdywgY2xpZW50SWQpID0+IHtcbiAgICAgICAgdXBkYXRlQ3Vyc29yKHF1aWxsQ3Vyc29ycywgYXcsIGNsaWVudElkLCBkb2MsIHR5cGUpXG4gICAgICB9KVxuICAgICAgYXdhcmVuZXNzLm9uKCdjaGFuZ2UnLCB0aGlzLl9hd2FyZW5lc3NDaGFuZ2UpXG4gICAgfVxuICB9XG4gIGRlc3Ryb3kgKCkge1xuICAgIHRoaXMudHlwZS51bm9ic2VydmUodGhpcy5fdHlwZU9ic2VydmVyKVxuICAgIHRoaXMucXVpbGwub2ZmKHRoaXMuX3F1aWxsT2JzZXJ2ZXIpXG4gICAgaWYgKHRoaXMuYXdhcmVuZXNzKSB7XG4gICAgICB0aGlzLmF3YXJlbmVzcy5vZmYoJ2NoYW5nZScsIHRoaXMuX2F3YXJlbmVzc0NoYW5nZSlcbiAgICB9XG4gIH1cbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/y-quill_binding.js\n")}}).default}));