/*! For license information please see CoCreate-quill.js.LICENSE */
!function(Q,F){"object"==typeof exports&&"object"==typeof module?module.exports=F():"function"==typeof define&&define.amd?define([],F):"object"==typeof exports?exports.quill=F():(Q.CoCreate=Q.CoCreate||{},Q.CoCreate.quill=F())}(this,(function(){return function(Q){function F(F){for(var U,l,s=F[0],e=F[1],c=F[2],i=0,I=[];i<s.length;i++)l=s[i],Object.prototype.hasOwnProperty.call(n,l)&&n[l]&&I.push(n[l][0]),n[l]=0;for(U in e)Object.prototype.hasOwnProperty.call(e,U)&&(Q[U]=e[U]);for(d&&d(F);I.length;)I.shift()();return t.push.apply(t,c||[]),B()}function B(){for(var Q,F=0;F<t.length;F++){for(var B=t[F],U=!0,s=1;s<B.length;s++){var e=B[s];0!==n[e]&&(U=!1)}U&&(t.splice(F--,1),Q=l(l.s=B[0]))}return Q}var U={},n={"CoCreate-quill":0},t=[];function l(F){if(U[F])return U[F].exports;var B=U[F]={i:F,l:!1,exports:{}};return Q[F].call(B.exports,B,B.exports,l),B.l=!0,B.exports}l.m=Q,l.c=U,l.d=function(Q,F,B){l.o(Q,F)||Object.defineProperty(Q,F,{enumerable:!0,get:B})},l.r=function(Q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},l.t=function(Q,F){if(1&F&&(Q=l(Q)),8&F)return Q;if(4&F&&"object"==typeof Q&&Q&&Q.__esModule)return Q;var B=Object.create(null);if(l.r(B),Object.defineProperty(B,"default",{enumerable:!0,value:Q}),2&F&&"string"!=typeof Q)for(var U in Q)l.d(B,U,function(F){return Q[F]}.bind(null,U));return B},l.n=function(Q){var F=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return l.d(F,"a",F),F},l.o=function(Q,F){return Object.prototype.hasOwnProperty.call(Q,F)},l.p="";var s=this.webpackJsonp=this.webpackJsonp||[],e=s.push.bind(s);s.push=F,s=s.slice();for(var c=0;c<s.length;c++)F(s[c]);var d=e;return t.push(["./src/index.js","vendors~CoCreate-quill"]),B()}({"../../CoCreate-components/CoCreate-action/src/index.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n// -testing1\nconst CoCreateAction = {\n  attribute: 'data-actions',\n  actions: {},\n  selectedStage: [],\n  stageIndex: 0,\n  selectedElement: null,\n  completedEventName: 'completedEvent',\n  __init: function () {\n    this.actionButtonEvent();\n  },\n  actionButtonEvent: function () {\n    const self = this;\n    document.addEventListener('click', function (event) {\n      let btn = event.target;\n\n      if (!btn.getAttribute('data-actions')) {\n        btn = event.target.closest('[data-actions]');\n      }\n\n      if (!btn) return;\n      event.preventDefault();\n      let actions = (btn.getAttribute(self.attribute) || \"\").replace(/\\s/g, '').split(',');\n      if (actions.length == 0) return;\n      self.stageIndex = 0;\n      self.selectedStage = actions; //. run function\n\n      self.selectedElement = btn;\n\n      self.__runActionFunc();\n    });\n  },\n  init: function ({\n    action,\n    callback,\n    endEvent\n  }) {\n    this.registerEvent(action, callback, null, endEvent);\n  },\n\n  /**\n   * key: string\n   * runFunc: function\n   * instance: object\n   * endEvent: string\n   **/\n  registerEvent: function (key, runFunc, instance, endEvent) {\n    if (this.actions[key]) {\n      return;\n    }\n\n    this.actions[key] = {\n      key: key,\n      runFunc: runFunc,\n      instance: instance || window,\n      endEvent: endEvent\n    }; //. register events\n\n    for (let __key in this.actions) {\n      if (__key != key && this.actions[__key]['endEvent'] === endEvent) {\n        return;\n      }\n    } //. register events\n\n\n    const _this = this;\n\n    document.addEventListener(endEvent, function (e) {\n      _this.__nextAction(endEvent, e.detail);\n    });\n  },\n  __runActionFunc: function (data) {\n    if (this.stageIndex >= this.selectedStage.length) {\n      //. if latest case, it will be run aTag\n      if (this.stageIndex == this.selectedStage.length) {\n        this.__runAtag(this.selectedElement);\n      }\n\n      return;\n    }\n\n    const actionName = this.selectedStage[this.stageIndex]; //. run function\n\n    const action = this.actions[actionName];\n\n    if (action) {\n      if (action.runFunc) {\n        action.runFunc.call(null, this.selectedElement, data);\n      } else {\n        this.__nextAction(action.endEvent, {});\n      }\n    } else {\n      let status = this.__runSpecialAction(actionName, data);\n\n      if (status === \"next\") {\n        this.__moveNextAction();\n      }\n    }\n  },\n  __nextAction: function (eventName, data) {\n    const key = this.selectedStage[this.stageIndex];\n\n    if (!key) {\n      return;\n    }\n\n    if (eventName !== this.actions[key].endEvent) {\n      return;\n    }\n\n    this.__moveNextAction(data);\n  },\n  __runAtag: function (button) {\n    var aTag = button.querySelector('a');\n\n    if (aTag) {// CoCreate.logic.setLinkProcess(aTag)\n    }\n  },\n  //. special action\n  __runSpecialAction: function (actionName, data) {\n    let matches = /(\\w+)\\{([a-zA-Z0-9_ \\-#$.]+)\\}/gm.exec(actionName);\n\n    if (!matches || matches.length < 3) {\n      return \"next\";\n    }\n\n    let type = matches[1],\n        param = matches[2].trim();\n    if (!param) return \"next\";\n    const self = this;\n\n    switch (type) {\n      case 'event':\n        console.log(\"Waiting Event....\");\n        document.addEventListener(param, eventData => {\n          console.log('Event Action (Received event from other section) ====== ' + param);\n\n          self.__moveNextAction(eventData);\n        }, {\n          once: true\n        });\n        break;\n\n      case 'timeout':\n        let delayTime = parseInt(param);\n\n        if (delayTime > 0) {\n          setTimeout(function () {\n            console.log(\"Timeout ======= \" + param);\n\n            self.__moveNextAction(data);\n          }, parseInt(param));\n        }\n\n        break;\n\n      case 'action':\n        let btn = document.querySelector(param);\n\n        if (btn) {\n          btn.click();\n        }\n\n        break;\n\n      default:\n        return \"next\";\n    }\n  },\n  __moveNextAction: function (data) {\n    this.stageIndex++;\n\n    this.__runActionFunc(data);\n  }\n};\n\nCoCreateAction.__init();\n\nvar _default = CoCreateAction;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5xdWlsbC8vaG9tZS91YnVudHUvZW52aXJvbm1lbnQvcHVibGljL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtYWN0aW9uL3NyYy9pbmRleC5qcz8zOGJhIl0sIm5hbWVzIjpbIkNvQ3JlYXRlQWN0aW9uIiwiYXR0cmlidXRlIiwiYWN0aW9ucyIsInNlbGVjdGVkU3RhZ2UiLCJzdGFnZUluZGV4Iiwic2VsZWN0ZWRFbGVtZW50IiwiY29tcGxldGVkRXZlbnROYW1lIiwiX19pbml0IiwiYWN0aW9uQnV0dG9uRXZlbnQiLCJzZWxmIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJidG4iLCJ0YXJnZXQiLCJnZXRBdHRyaWJ1dGUiLCJjbG9zZXN0IiwicHJldmVudERlZmF1bHQiLCJyZXBsYWNlIiwic3BsaXQiLCJsZW5ndGgiLCJfX3J1bkFjdGlvbkZ1bmMiLCJpbml0IiwiYWN0aW9uIiwiY2FsbGJhY2siLCJlbmRFdmVudCIsInJlZ2lzdGVyRXZlbnQiLCJrZXkiLCJydW5GdW5jIiwiaW5zdGFuY2UiLCJ3aW5kb3ciLCJfX2tleSIsIl90aGlzIiwiZSIsIl9fbmV4dEFjdGlvbiIsImRldGFpbCIsImRhdGEiLCJfX3J1bkF0YWciLCJhY3Rpb25OYW1lIiwiY2FsbCIsInN0YXR1cyIsIl9fcnVuU3BlY2lhbEFjdGlvbiIsIl9fbW92ZU5leHRBY3Rpb24iLCJldmVudE5hbWUiLCJidXR0b24iLCJhVGFnIiwicXVlcnlTZWxlY3RvciIsIm1hdGNoZXMiLCJleGVjIiwidHlwZSIsInBhcmFtIiwidHJpbSIsImNvbnNvbGUiLCJsb2ciLCJldmVudERhdGEiLCJvbmNlIiwiZGVsYXlUaW1lIiwicGFyc2VJbnQiLCJzZXRUaW1lb3V0IiwiY2xpY2siXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0EsTUFBTUEsY0FBYyxHQUFHO0FBQ3JCQyxXQUFTLEVBQUUsY0FEVTtBQUVyQkMsU0FBTyxFQUFFLEVB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QUw7QUFDRSxZQUFJckMsR0FBRyxHQUFHSCxRQUFRLENBQUNvQyxhQUFULENBQXVCSSxLQUF2QixDQUFWOztBQUNBLFlBQUlyQyxHQUFKLEVBQVM7QUFDUEEsYUFBRyxDQUFDOEMsS0FBSjtBQUNEOztBQUNEOztBQUNGO0FBQ0UsZUFBTyxNQUFQO0FBeEJKO0FBMEJELEdBNUpvQjtBQThKckJqQixrQkFBZ0IsRUFBRSxVQUFTTixJQUFULEVBQWU7QUFDL0IsU0FBS2hDLFVBQUw7O0FBQ0EsU0FBS2lCLGVBQUwsQ0FBcUJlLElBQXJCO0FBQ0Q7QUFqS29CLENBQXZCOztBQXFLQXBDLGNBQWMsQ0FBQ08sTUFBZjs7ZUFFZVAsYyIsImZpbGUiOiIuLi8uLi9Db0NyZWF0ZS1jb21wb25lbnRzL0NvQ3JlYXRlLWFjdGlvbi9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyAtdGVzdGluZzFcbmNvbnN0IENvQ3JlYXRlQWN0aW9uID0ge1xuICBhdHRyaWJ1dGU6ICdkYXRhLWFjdGlvbnMnLFxuICBhY3Rpb25zOiB7fSxcbiAgc2VsZWN0ZWRTdGFnZTogW10sXG4gIHN0YWdlSW5kZXg6IDAsXG4gIHNlbGVjdGVkRWxlbWVudDogbnVsbCxcbiAgXG4gIGNvbXBsZXRlZEV2ZW50TmFtZTogJ2NvbXBsZXRlZEV2ZW50JyxcbiAgXG4gIF9faW5pdDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5hY3Rpb25CdXR0b25FdmVudCgpXG4gIH0sXG5cbiAgYWN0aW9uQnV0dG9uRXZlbnQ6IGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIGxldCBidG4gPSBldmVudC50YXJnZXQ7XG4gICAgICBpZiAoIWJ0bi5nZXRBdHRyaWJ1dGUoJ2RhdGEtYWN0aW9ucycpKSB7XG4gICAgICAgIGJ0biA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS1hY3Rpb25zXScpO1xuICAgICAgfVxuICAgICAgaWYgKCFidG4pIHJldHVybjtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIGxldCBhY3Rpb25zID0gKGJ0bi5nZXRBdHRyaWJ1dGUoc2VsZi5hdHRyaWJ1dGUpIHx8IFwiXCIpLnJlcGxhY2UoL1xccy9nLCAnJykuc3BsaXQoJywnKTtcbiAgICAgIGlmIChhY3Rpb25zLmxlbmd0aCA9PSAwKSByZXR1cm47XG4gICAgICBzZWxmLnN0YWdlSW5kZXggPSAwO1xuICAgICAgc2VsZi5zZWxlY3RlZFN0YWdlID0gYWN0aW9ucztcbiAgICAgIFxuICAgICAgLy8uIHJ1biBmdW5jdGlvblxuICAgICAgc2VsZi5zZWxlY3RlZEVsZW1lbnQgPSBidG47XG4gICAgICBzZWxmLl9fcnVuQWN0aW9uRnVuYygpO1xuICAgIH0pXG4gIH0sXG4gIFxuICBpbml0OiBmdW5jdGlvbih7YWN0aW9uLCBjYWxsYmFjaywgZW5kRXZlbnR9KSB7XG4gICAgdGhpcy5yZWdpc3RlckV2ZW50KGFjdGlvbiwgY2FsbGJhY2ssIG51bGwsIGVuZEV2ZW50KTtcbiAgfSxcbiAgXG4gIC8qKlxuICAgKiBrZXk6IHN0cmluZ1xuICAgKiBydW5GdW5jOiBmdW5jdGlvblxuICAgKiBpbnN0YW5jZTogb2JqZWN0XG4gICAqIGVuZEV2ZW50OiBzdHJpbmdcbiAgICoqL1xuICByZWdpc3RlckV2ZW50OiBmdW5jdGlvbihrZXksIHJ1bkZ1bmMsIGluc3RhbmNlLCBlbmRFdmVudCkge1xuICAgIGlmICh0aGlzLmFjdGlvbnNba2V5XSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICB0aGlzLmFjdGlvbnNba2V5XSA9IHtcbiAgICAgIGtleToga2V5LFxuICAgICAgcnVuRnVuYzogcnVuRnVuYyxcbiAgICAgIGluc3RhbmNlOiBpbnN0YW5jZSB8fCB3aW5kb3csXG4gICAgICBlbmRFdmVudDogZW5kRXZlbnRcbiAgICB9XG4gICAgLy8uIHJlZ2lzdGVyIGV2ZW50c1xuICAgIFxuICAgIGZvciAobGV0IF9fa2V5IGluIHRoaXMuYWN0aW9ucykge1xuICAgICAgaWYgKF9fa2V5ICE9IGtleSAmJiB0aGlzLmFjdGlvbnNbX19rZXldWydlbmRFdmVudCddID09PSBlbmRFdmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vLiByZWdpc3RlciBldmVudHNcbiAgICBjb25zdCBfdGhpcyA9IHRoaXM7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihlbmRFdmVudCwgZnVuY3Rpb24oZSkge1xuICAgICAgX3RoaXMuX19uZXh0QWN0aW9uKGVuZEV2ZW50LCBlLmRldGFpbClcbiAgICB9KTtcbiAgfSxcbiAgXG4gIF9fcnVuQWN0aW9uRnVuYzogZnVuY3Rpb24oZGF0YSkge1xuXG4gICAgaWYgKHRoaXMuc3RhZ2VJbmRleCA+PSB0aGlzLnNlbGVjdGVkU3RhZ2UubGVuZ3RoKSB7XG5cbiAgICAgIC8vLiBpZiBsYXRlc3QgY2FzZSwgaXQgd2lsbCBiZSBydW4gYVRhZ1xuICAgICAgaWYgKHRoaXMuc3RhZ2VJbmRleCA9PSB0aGlzLnNlbGVjdGVkU3RhZ2UubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuX19ydW5BdGFnKHRoaXMuc2VsZWN0ZWRFbGVtZW50KTsgICAgICAgIFxuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBhY3Rpb25OYW1lID0gdGhpcy5zZWxlY3RlZFN0YWdlW3RoaXMuc3RhZ2VJbmRleF07XG4gICAgLy8uIHJ1biBmdW5jdGlvblxuICAgIGNvbnN0IGFjdGlvbiA9IHRoaXMuYWN0aW9uc1thY3Rpb25OYW1lXTtcbiAgICBpZiAoYWN0aW9uKSB7XG4gICAgICBpZiAoYWN0aW9uLnJ1bkZ1bmMpIHtcbiAgICAgICAgYWN0aW9uLnJ1bkZ1bmMuY2FsbChudWxsLCB0aGlzLnNlbGVjdGVkRWxlbWVudCwgZGF0YSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9fbmV4dEFjdGlvbihhY3Rpb24uZW5kRXZlbnQsIHt9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHN0YXR1cyA9IHRoaXMuX19ydW5TcGVjaWFsQWN0aW9uKGFjdGlvbk5hbWUsIGRhdGEpO1xuICAgICAgaWYgKHN0YXR1cyA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgdGhpcy5fX21vdmVOZXh0QWN0aW9uKCk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBcbiAgX19uZXh0QWN0aW9uOiBmdW5jdGlvbihldmVudE5hbWUsIGRhdGEpIHtcbiAgICBjb25zdCBrZXkgPSB0aGlzLnNlbGVjdGVkU3RhZ2VbdGhpcy5zdGFnZUluZGV4XTtcbiAgICBpZiAoIWtleSkge1xuICAgICAgcmV0dXJuIDtcbiAgICB9XG4gICAgaWYgKGV2ZW50TmFtZSAhPT0gdGhpcy5hY3Rpb25zW2tleV0uZW5kRXZlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fX21vdmVOZXh0QWN0aW9uKGRhdGEpO1xuICB9LFxuICBcbiAgX19ydW5BdGFnOiBmdW5jdGlvbihidXR0b24pIHtcbiAgICB2YXIgYVRhZyA9IGJ1dHRvbi5xdWVyeVNlbGVjdG9yKCdhJyk7XG4gICAgICAgICAgXG4gICAgaWYgKGFUYWcpIHtcbiAgICAgIC8vIENvQ3JlYXRlLmxvZ2ljLnNldExpbmtQcm9jZXNzKGFUYWcpXG4gICAgfVxuICB9LFxuICBcbiAgLy8uIHNwZWNpYWwgYWN0aW9uXG4gIFxuICBfX3J1blNwZWNpYWxBY3Rpb246IGZ1bmN0aW9uKGFjdGlvbk5hbWUsIGRhdGEpIHtcbiAgICBsZXQgbWF0Y2hlcyA9IC8oXFx3KylcXHsoW2EtekEtWjAtOV8gXFwtIyQuXSspXFx9L2dtLmV4ZWMoYWN0aW9uTmFtZSlcbiAgICBcbiAgICBpZiAoIW1hdGNoZXMgfHwgbWF0Y2hlcy5sZW5ndGggPCAzKSB7XG4gICAgICByZXR1cm4gXCJuZXh0XCI7XG4gICAgfVxuICAgIFxuICAgIGxldCB0eXBlID0gbWF0Y2hlc1sxXSwgcGFyYW0gPSBtYXRjaGVzWzJdLnRyaW0oKVxuICAgIGlmICghcGFyYW0pIHJldHVybiBcIm5leHRcIjtcbiAgICBcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ2V2ZW50JzpcbiAgICAgICAgY29uc29sZS5sb2coXCJXYWl0aW5nIEV2ZW50Li4uLlwiKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihwYXJhbSwgKGV2ZW50RGF0YSkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdFdmVudCBBY3Rpb24gKFJlY2VpdmVkIGV2ZW50IGZyb20gb3RoZXIgc2VjdGlvbikgPT09PT09ICcgKyBwYXJhbSk7XG4gICAgICAgICAgc2VsZi5fX21vdmVOZXh0QWN0aW9uKGV2ZW50RGF0YSk7XG4gICAgICAgIH0sIHsgb25jZTogdHJ1ZSB9KVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RpbWVvdXQnOlxuICAgICAgICBsZXQgZGVsYXlUaW1lID0gcGFyc2VJbnQocGFyYW0pO1xuICAgICAgICBpZiAoZGVsYXlUaW1lID4gMCkge1xuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRpbWVvdXQgPT09PT09PSBcIiArIHBhcmFtKVxuICAgICAgICAgICAgc2VsZi5fX21vdmVOZXh0QWN0aW9uKGRhdGEpO1xuICAgICAgICAgIH0sIHBhcnNlSW50KHBhcmFtKSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdhY3Rpb24nOlxuICAgICAgICBsZXQgYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihwYXJhbSk7XG4gICAgICAgIGlmIChidG4pIHtcbiAgICAgICAgICBidG4uY2xpY2soKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBcIm5leHRcIjtcbiAgICB9XG4gIH0sXG4gIFxuICBfX21vdmVOZXh0QWN0aW9uOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgdGhpcy5zdGFnZUluZGV4ICsrO1xuICAgIHRoaXMuX19ydW5BY3Rpb25GdW5jKGRhdGEpO1xuICB9LFxufVxuXG5cbkNvQ3JlYXRlQWN0aW9uLl9faW5pdCgpO1xuXG5leHBvcnQgZGVmYXVsdCBDb0NyZWF0ZUFjdGlvbjsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../CoCreate-components/CoCreate-action/src/index.js\n")},"../../CoCreate-components/CoCreate-crdt/src/core.js":function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nvar Y = _interopRequireWildcard(__webpack_require__(/*! yjs */ "../../CoCreate-components/CoCreate-crdt/node_modules/yjs/dist/yjs.mjs"));\n\nvar _yWebsocket = __webpack_require__(/*! y-websocket */ "../../CoCreate-components/CoCreate-crdt/node_modules/y-websocket/src/y-websocket.js");\n\nvar _yIndexeddb = __webpack_require__(/*! y-indexeddb */ "../../CoCreate-components/CoCreate-crdt/node_modules/y-indexeddb/src/y-indexeddb.js");\n\nvar _crud = _interopRequireDefault(__webpack_require__(/*! @cocreate/crud */ "../../CoCreate-components/CoCreate-crud/src/index.js"));\n\nvar _utils = _interopRequireDefault(__webpack_require__(/*! @cocreate/utils */ "../../CoCreate-components/CoCreate-utils/src/index.js"));\n\nvar _cursors = _interopRequireDefault(__webpack_require__(/*! @cocreate/cursors */ "../../CoCreate-components/CoCreate-cursors/src/index.js"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst debug = false;\n\nclass CoCreateYSocket {\n  constructor(org, ydoc) {\n    this.doc = ydoc;\n    this.orgName = org;\n    this.docs = {};\n    this._awarenessListener = null;\n    this.character = \'_\';\n\n    this.listenAwereness = function () {};\n  }\n\n  createDoc(id, element) {\n    if (!id || id == "") {\n      return null;\n    }\n\n    let newInfo = this.parseType(id); // if(debug)\n    // \tconsole.log(newInfo);\n\n    const newId = newInfo.id;\n\n    if (this.docs[newId]) {\n      if (element && !this.__checkExistElement(this.docs[newId].elements, element)) {\n        this.docs[newId].elements.push(element);\n      }\n\n      if (!this.docs[newId].types.some(type => type === id)) {\n        // register event\n        this.docs[newId].types.push(id);\n        this.registerUpdateEvent(this.docs[newId], id);\n      }\n\n      return false;\n    }\n\n    const yDoc = this.doc;\n\n    const url_socket = this.__getSocketUrl(); //draw cursor dinamially\n    // new UserCursor(socketProvider);\n\n\n    var socketProvider = new _yWebsocket.WebsocketProvider(url_socket, newId, yDoc);\n    let indexeddbProvider = null;\n\n    if (newInfo.document_id != "null") {\n      indexeddbProvider = new _yIndexeddb.IndexeddbPersistence(newId, this.doc);\n      indexeddbProvider.whenSynced.then(() => {\n        console.log(\'loaded data from indexed db\');\n      });\n    }\n\n    let awareness = socketProvider.awareness;\n    this._cursors = new Map();\n\n    this._awarenessListener = event => {\n      const f = clientId => {\n        if (clientId !== this.doc.clientID) {\n          this.updateRemoteSelection(yDoc, id, yDoc.getText(id), this._cursors, clientId, awareness);\n        }\n      };\n\n      event.added.forEach(f);\n      event.removed.forEach(f);\n      event.updated.forEach(f);\n    };\n\n    awareness.on(\'change\', this._awarenessListener);\n    /*\n    awareness.getStates().forEach((aw, clientId) => {\n    \tconsole.log("Update --")\n          })\n          */\n\n    this.docs[newId] = {\n      id: newId,\n      doc: yDoc,\n      socket: socketProvider,\n      awareness: awareness,\n      elements: element ? [element] : [],\n      types: [id],\n      indexeddb: indexeddbProvider\n    };\n    this.registerUpdateEvent(this.docs[newId], id);\n    return true;\n  }\n\n  registerUpdateEvent(docObject, id) {\n    const yDoc = docObject.doc;\n    const shardType = yDoc.getText(id);\n\n    let _this = this;\n\n    shardType.observe(event => {\n      _this.__setTypeObserveEvent(event, docObject.elements, id);\n    });\n  }\n\n  __checkExistElement(elements, element) {\n    for (var i = 0; i < elements.length; i++) {\n      if (elements[i].isSameNode(element)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  __getSocketUrl() {\n    console.log("get_socket url");\n    let w_location = window.location || window.parent.location;\n    let w_protocol = w_location.protocol;\n    let w_host = w_location.host;\n\n    if (w_location.protocol === "about:") {\n      w_protocol = w_location.protocol;\n      w_host = document.referrer;\n    }\n\n    let protocol = w_protocol === \'http:\' ? \'ws\' : \'wss\';\n    let url_socket = `${protocol}://${w_host}:8080/`;\n\n    if (window.config && window.config.host) {\n      if (window.config.host.includes("://")) {\n        url_socket = `${window.config.host}/`;\n      } else {\n        url_socket = `${protocol}://${window.config.host}/`;\n      }\n    }\n\n    console.log(url_socket);\n    url_socket += "crdt/";\n    return url_socket;\n  }\n\n  __setTypeObserveEvent(event, elements, id) {\n    if (!id) return;\n    const eventDelta = event.delta;\n    const info = JSON.parse(atob(id));\n    let is_save_value = false;\n    const wholestring = event.target.toString();\n    const store_event = new CustomEvent(\'store-content-db\', {\n      detail: wholestring\n    });\n    const update_event = new CustomEvent(\'cocreate-y-update\', {\n      detail: eventDelta\n    });\n    elements.forEach(el => {\n      if (_utils.default.isReadValue(el) && el.getAttribute(\'name\') === info.name) {\n        el.dispatchEvent(update_event);\n      }\n    });\n\n    if (typeof info !== \'object\') {\n      return;\n    }\n\n    if (event.transaction.local) {\n      if (elements.length == 0) {\n        is_save_value = true;\n      }\n\n      elements.forEach(el => {\n        if (el.getAttribute(\'data-save_value\') != \'false\' && el.getAttribute(\'name\') === info.name && info.document_id != "null") {\n          is_save_value = true;\n          el.dispatchEvent(store_event);\n        }\n      });\n\n      if (is_save_value) {\n        _crud.default.updateDocument({\n          collection: info.collection,\n          document_id: info.document_id,\n          data: {\n            [info.name]: wholestring\n          },\n          metadata: \'yjs-change\'\n        });\n      }\n    } else {}\n  }\n\n  deleteDoc(id) {\n    const info = this.parseType(id);\n\n    if (this.docs[info.id]) {\n      delete this.docs[info.id];\n    }\n  }\n\n  generateDocName(collection, document_id, name) {\n    const info = {\n      org: this.orgName,\n      collection,\n      document_id,\n      name\n    };\n    return btoa(JSON.stringify(info)); // return this.orgName + "_" + collection + "_" + document_id + "_" + name;\n  }\n\n  insertData(id, index, content, attribute) {\n    const info = this.parseType(id);\n\n    if (this.docs[info.id]) {\n      if (attribute) {\n        this.docs[info.id].doc.getText(id).insert(index, content, attribute);\n      } else {\n        this.docs[info.id].doc.getText(id).insert(index, content);\n      }\n    }\n  }\n\n  deleteData(id, index, length) {\n    const info = this.parseType(id);\n\n    if (this.docs[info.id]) {\n      this.docs[info.id].doc.getText(id).delete(index, length);\n    }\n  }\n\n  getWholeString(id) {\n    const info = this.parseType(id);\n\n    if (this.docs[info.id]) {\n      console.log("!Get data");\n      return this.docs[info.id].doc.getText(id).toString();\n    } else {\n      return "--";\n    }\n  }\n\n  updateRemoteSelection(y, cm, type, cursors, clientId, awareness) {\n    if (debug) console.log("CHANGE ---- DOCID ", this.doc.clientID, \' OTHER CLIENTEID \', clientId);\n\n    if (clientId !== this.doc.clientID) {\n      //console.log("TEXT -> updateRemoteSelection ",clientId,awareness,cursor)\n      //console.log("AW status",awareness.getLocalState())\n      // destroy current text mark\n      const m = cursors.get(clientId);\n\n      if (m !== undefined) {\n        m.caret.clear();\n\n        if (m.sel !== null) {\n          m.sel.clear();\n        }\n\n        cursors.delete(clientId);\n      } // redraw caret and selection for clientId\n\n\n      const aw = awareness.getStates().get(clientId);\n      if (debug) console.log(aw);\n\n      if (aw === undefined) {\n        if (debug) console.log(" Cursor OUT ", clientId); //awareness.setLocalStateField(\'cursor\', null);\n\n        let elements = document.querySelectorAll(\'[id*="socket_\' + clientId + \'"]\');\n        elements.forEach(function (element, index, array) {\n          element.parentNode.removeChild(element);\n        });\n        let sel_elements = document.querySelectorAll(\'[id*="sel-\' + clientId + \'"]\');\n        sel_elements.forEach(function (sel_element, index, array) {\n          sel_element.parentNode.removeChild(sel_element);\n        });\n        /*\n         let element = document.getElementById("socket_"+clientId)\n         let sel_element = document.getElementById("sel-"+clientId)\n         if(element)\n        element.parentNode.removeChild(element);\n        if(sel_element)\n        sel_element.parentNode.removeChild(sel_element);\n         */\n\n        return;\n      }\n\n      const user = aw.user || {};\n\n      if (user.color == null) {\n        user.color = \'#ffa500\';\n      }\n\n      if (user.name == null) {\n        user.name = `User: ${clientId}`;\n      }\n\n      const cursor = aw.cursor;\n      if (debug) console.log("Cursor ", cursor);\n\n      if (cursor == null || cursor.anchor == null || cursor.head == null) {\n        //let element = document.getElementById("socket_"+clientId)\n        let elements = document.querySelectorAll(\'[id*="socket_\' + clientId + \'"]\');\n        elements.forEach(function (element, index, array) {\n          element.parentNode.removeChild(element);\n        }); //let sel_element = document.getElementById("sel-"+clientId)  \n\n        let sel_elements = document.querySelectorAll(\'[id*="sel-\' + clientId + \'"]\');\n        sel_elements.forEach(function (sel_element, index, array) {\n          sel_element.parentNode.removeChild(sel_element);\n        });\n        return;\n      }\n\n      const anchor = Y.createAbsolutePositionFromRelativePosition(Y.createRelativePositionFromJSON(cursor.anchor), y);\n      const head = Y.createAbsolutePositionFromRelativePosition(Y.createRelativePositionFromJSON(cursor.head), y); //CoCreate.cursors.draw_cursor(1,11,12,66,{},true);\n\n      if (debug) {\n        console.log("PRE Draw Cursor ");\n        console.log("anchor  ", anchor, " head ", head, \' Type \', type);\n        console.log("anchor  Type", anchor.type === type);\n        console.log("anchor  Type", head.type === type);\n      } //if (anchor !== null && head !== null && anchor.type === type && head.type === type) {\n\n\n      if (anchor !== null && head !== null) {\n        let from, to;\n\n        if (head.index < anchor.index) {\n          from = head.index;\n          to = anchor.index;\n        } else {\n          if (debug) console.log(anchor.index);\n          from = anchor.index;\n          to = head.index;\n        }\n\n        if (debug) console.log("Draw Cursor ", from, to, clientId, aw.user);\n        let t_info = this.parseTypeName(cursor.anchor[\'tname\']);\n        let id_mirror = t_info.document_id + t_info.name + \'--mirror-div\';\n        let json = {};\n        let selector = \'[data-collection="\' + t_info.collection + \'"][data-document_id="\' + t_info.document_id + \'"][name="\' + t_info.name + \'"]\';\n        selector += \':not(.codemirror):not(.quill):not(.monaco)\';\n        let elements = document.querySelectorAll(selector);\n        let that = this;\n        elements.forEach(function (element, index, array) {\n          json = {\n            element: element,\n            startPosition: from,\n            selector: selector,\n            endPositon: to,\n            clientId: clientId,\n            user: {\n              \'color\': user.color,\n              \'name\': user.name\n            }\n          };\n          console.log(json);\n\n          _cursors.default.draw_cursor(json); //sent custom position\n\n\n          that.listen(json);\n        });\n      }\n    }\n  }\n\n  changeListenAwereness(callback) {\n    this.listenAwereness = callback;\n  }\n\n  listen(json) {\n    this.listenAwereness.apply(this, [json]);\n  }\n\n  destroyObserver(id, element) {\n    const info = this.parseType(id);\n    this.docs[info.id].doc.getText(id).unobserve(event => {});\n    this.docs[info.id].socket.awareness.off(\'change\', this._awarenessListener);\n  }\n\n  getProvider(id) {\n    const info = this.parseType(id);\n\n    if (!this.docs[info.id]) {\n      return null;\n    }\n\n    return this.docs[info.id].socket;\n  }\n\n  getType(id) {\n    const info = this.parseType(id);\n\n    if (!this.docs[info.id]) {\n      return null;\n    }\n\n    return this.docs[info.id].doc.getText(id);\n  }\n\n  setCursorNull(id) {\n    const info = this.parseType(id);\n\n    if (!this.docs[info.id]) {\n      return null;\n    }\n\n    this.docs[info.id].socket.awareness.setLocalStateField(\'cursor\', null);\n  }\n\n  setPositionYJS(id, from, to) {\n    const info = this.parseType(id);\n    const type = this.getType(id); //console.log("Type ",type)\n\n    if (!type) {\n      return;\n    }\n\n    var anchor = Y.createRelativePositionFromTypeIndex(type, from);\n    var head = Y.createRelativePositionFromTypeIndex(type, to);\n    if (debug) console.log("Sending Cursor ", {\n      anchor,\n      head\n    }, {\n      \'to\': to,\n      \'from\': from,\n      \'info.id\': info.id\n    });\n    this.docs[info.id].socket.awareness.setLocalStateField(\'cursor\', {\n      anchor,\n      head\n    });\n    /*\n    if(debug)\n    \tconsole.log("Cursor Send")\n    \t*/\n  } //send Position Custom\n\n\n  sendPosition(json) {\n    let collection = json[\'collection\'];\n    let document_id = json[\'document_id\'];\n    let name = json[\'name\'];\n    let from = json[\'startPosition\'];\n    let to = json[\'endPositon\'];\n    let id = this.generateID(config.organization_Id, collection, document_id, name);\n    this.setPositionYJS(id, from, to);\n  }\n\n  generateID(org, collection, document_id, name) {\n    const info = {\n      org,\n      collection,\n      document_id,\n      name\n    };\n    return btoa(JSON.stringify(info));\n  }\n\n  parseTypeName(name) {\n    const data = JSON.parse(atob(name));\n    return data;\n  }\n\n  parseType(id) {\n    let data = JSON.parse(atob(id));\n    let newId = {\n      org: data.org,\n      collection: data.collection,\n      document_id: data.document_id\n    };\n    return {\n      id: btoa(JSON.stringify(newId)),\n      name: data.name,\n      document_id: data.document_id\n    };\n  }\n\n}\n\nvar _default = CoCreateYSocket;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5xdWlsbC8vaG9tZS91YnVudHUvZW52aXJvbm1lbnQvcHVibGljL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtY3JkdC9zcmMvY29yZS5qcz8yMDQwIl0sIm5hbWVzIjpbImRlYnVnIiwiQ29DcmVhdGVZU29ja2V0IiwiY29uc3RydWN0b3IiLCJvcmciLCJ5ZG9jIiwiZG9jIiwib3JnTmFtZSIsImRvY3MiLCJfYXdhcmVuZXNzTGlzdGVuZXIiLCJjaGFyYWN0ZXIiLCJsaXN0ZW5Bd2VyZW5lc3MiLCJjcmVhdGVEb2MiLCJpZCIsImVsZW1lbnQiLCJuZXdJbmZvIiwicGFyc2VUeXBlIiwibmV3SWQiLCJfX2NoZWNrRXhpc3RFbGVtZW50IiwiZWxlbWVudHMiLCJwdXNoIiwidHlwZXMiLCJzb21lIiwidHlwZSIsInJlZ2lzdGVyVXBkYXRlRXZlbnQiLCJ5RG9jIiwidXJsX3NvY2tldCIsIl9fZ2V0U29ja2V0VXJsIiwic29ja2V0UHJvdmlkZXIiLCJXZWJzb2NrZXRQcm92aWRlciIsImluZGV4ZWRkYlByb3ZpZGVyIiwiZG9jdW1lbnRfaWQiLCJJbmRleGVkZGJQZXJzaXN0ZW5jZSIsIndoZW5TeW5jZWQiLCJ0aGVuIiwiY29uc29sZSIsImxvZyIsImF3YXJlbmVzcyIsIl9jdXJzb3JzIiwiTWFwIiwiZXZlbnQiLCJmIiwiY2xpZW50SWQiLCJjbGllbnRJRCIsInVwZGF0ZVJlbW90ZVNlbGVjdGlvbiIsImdldFRleHQiLCJhZGRlZCIsImZvckVhY2giLCJyZW1vdmVkIiwidXBkYXRlZCIsIm9uIiwic29ja2V0IiwiaW5kZXhlZGRiIiwiZG9jT2JqZWN0Iiwic2hhcmRUeXBlIiwiX3RoaXMiLCJvYnNlcnZlIiwiX19zZXRUeXBlT2JzZXJ2ZUV2ZW50IiwiaSIsImxlbmd0aCIsImlzU2FtZU5vZGUiLCJ3X2xvY2F0aW9uIiwid2luZG93IiwibG9jYXRpb24iLCJwYXJlbnQiLCJ3X3Byb3RvY29sIiwicHJvdG9jb2wiLCJ3X2hvc3QiLCJob3N0IiwiZG9jdW1lbnQiLCJyZWZlcnJlciIsImNvbmZpZyIsImluY2x1ZGVzIiwiZXZlbnREZWx0YSIsImRlbHRhIiwiaW5mbyIsIkpTT04iLCJwYXJzZSIsImF0b2IiLCJpc19zYXZlX3ZhbHVlIiwid2hvbGVzdHJpbmciLCJ0YXJnZXQiLCJ0b1N0cmluZyIsInN0b3JlX2V2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJ1cGRhdGVfZXZlbnQiLCJlbCIsInV0aWxzIiwiaXNSZWFkVmFsdWUiLCJnZXRBdHRyaWJ1dGUiLCJuYW1lIiwiZGlzcGF0Y2hFdmVudCIsInRyYW5zYWN0aW9uIiwibG9jYWwiLCJjcnVkIiwidXBkYXRlRG9jdW1lbnQiLCJjb2xsZWN0aW9uIiwiZGF0YSIsIm1ldGFkYXRhIiwiZGVsZXRlRG9jIiwiZ2VuZXJhdGVEb2NOYW1lIiwiYnRvYSIsInN0cmluZ2lmeSIsImluc2VydERhdGEiLCJpbmRleCIsImNvbnRlbnQiLCJhdHRyaWJ1dGUiLCJpbnNlcnQiLCJkZWxldGVEYXRhIiwiZGVsZXRlIiwiZ2V0V2hvbGVTdHJpbmciLCJ5IiwiY20iLCJjdXJzb3JzIiwibSIsImdldCIsInVuZGVmaW5lZCIsImNhcmV0IiwiY2xlYXIiLCJzZWwiLCJhdyIsImdldFN0YXRlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhcnJheSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInNlbF9lbGVtZW50cyIsInNlbF9lbGVtZW50IiwidXNlciIsImNvbG9yIiwiY3Vyc29yIiwiYW5jaG9yIiwiaGVhZCIsIlkiLCJjcmVhdGVBYnNvbHV0ZVBvc2l0aW9uRnJvbVJlbGF0aXZlUG9zaXRpb24iLCJjcmVhdGVSZWxhdGl2ZVBvc2l0aW9uRnJvbUpTT04iLCJmcm9tIiwidG8iLCJ0X2luZm8iLCJwYXJzZVR5cGVOYW1lIiwiaWRfbWlycm9yIiwianNvbiIsInNlbGVjdG9yIiwidGhhdCIsInN0YXJ0UG9zaXRpb24iLCJlbmRQb3NpdG9uIiwiQ29DcmVhdGVDdXJzb3JzIiwiZHJhd19jdXJzb3IiLCJsaXN0ZW4iLCJjaGFuZ2VMaXN0ZW5Bd2VyZW5lc3MiLCJjYWxsYmFjayIsImFwcGx5IiwiZGVzdHJveU9ic2VydmVyIiwidW5vYnNlcnZlIiwib2ZmIiwiZ2V0UHJvdmlkZXIiLCJnZXRUeXBlIiwic2V0Q3Vyc29yTnVsbCIsInNldExvY2FsU3RhdGVGaWVsZCIsInNldFBvc2l0aW9uWUpTIiwiY3JlYXRlUmVsYXRpdmVQb3NpdGlvbkZyb21UeXBlSW5kZXgiLCJzZW5kUG9zaXRpb24iLCJnZW5lcmF0ZUlEIiwib3JnYW5pemF0aW9uX0lkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7Ozs7O0FBRUEsTUFBTUEsS0FBSyxHQUFHLEtBQWQ7O0FBRUEsTUFBTUMsZUFBTixDQUFzQjtBQUNyQkMsYUFBVyxDQUFDQyxHQUFELEVBQU1DLElBQU4sRUFBWTtBQUN0QixTQUFLQyxHQUFMLEdBQVdELElBQVg7QUFDQSxTQUFLRSxPQUFMLEdBQWVILEdBQWY7QUFDQSxTQUFLSSxJQUFMLEdBQVksRUFBWjtBQUNBLFNBQUtDLGtCQUFMLEdBQTBCLElBQTFCO0FBQ0EsU0FBS0MsU0FBTCxHQUFpQixHQUFqQjs7QUFDQSxTQUFLQyxlQUFMLEdBQXVCLFlBQVUsQ0FBRSxDQUFuQztBQUNBOztBQUVEQyxXQUFTLENBQUNDLEVBQUQsRUFBS0MsT0FBTCxFQUFjO0FBQ3RCLFFBQUksQ0FBQ0QsRUFBRCxJQUFPQSxFQUFFLElBQUksRUFBakIsRUFBcUI7QUFDcEIsYUFBTyxJQUFQO0FBQ0E7O0FBRUQsUUFBSUUsT0FBTyxHQUFHLEtBQUtDLFNBQUwsQ0FBZUgsRUFBZixDQUFkLENBTHNCLENBTXRCO0FBQ0E7O0FBRUEsVUFBTUksS0FBSyxHQUFHRixPQUFPLENBQUNGLEVBQXRCOztBQUVBLFFBQUksS0FBS0wsSUFBTCxDQUFVUyxLQUFWLENBQUosRUFBc0I7QUFDckIsVUFBSUgsT0FBTyxJQUFJLENBQUMsS0FBS0ksbUJBQUwsQ0FBeUIsS0FB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Q0FBQzFCLElBQUksQ0FBQzJCLFNBQUwsQ0FBZTVCLElBQWYsQ0FBRCxDQUFYO0FBQ0E7O0FBRURpRSxlQUFhLENBQUNqRCxJQUFELEVBQU87QUFDbkIsVUFBTU8sSUFBSSxHQUFHdEIsSUFBSSxDQUFDQyxLQUFMLENBQVdDLElBQUksQ0FBQ2EsSUFBRCxDQUFmLENBQWI7QUFDQSxXQUFPTyxJQUFQO0FBQ0E7O0FBRURsRixXQUFTLENBQUNILEVBQUQsRUFBSztBQUNiLFFBQUlxRixJQUFJLEdBQUd0QixJQUFJLENBQUNDLEtBQUwsQ0FBV0MsSUFBSSxDQUFDakUsRUFBRCxDQUFmLENBQVg7QUFFQSxRQUFJSSxLQUFLLEdBQUc7QUFBQ2IsU0FBRyxFQUFFOEYsSUFBSSxDQUFDOUYsR0FBWDtBQUFnQjZGLGdCQUFVLEVBQUVDLElBQUksQ0FBQ0QsVUFBakM7QUFBNkNsRSxpQkFBVyxFQUFFbUUsSUFBSSxDQUFDbkU7QUFBL0QsS0FBWjtBQUNBLFdBQU87QUFDTmxCLFFBQUUsRUFBRXlGLElBQUksQ0FBQzFCLElBQUksQ0FBQzJCLFNBQUwsQ0FBZXRGLEtBQWYsQ0FBRCxDQURGO0FBRU4wRSxVQUFJLEVBQUVPLElBQUksQ0FBQ1AsSUFGTDtBQUdONUQsaUJBQVcsRUFBRW1FLElBQUksQ0FBQ25FO0FBSFosS0FBUDtBQUtBOztBQTNib0I7O2VBOGJQN0IsZSIsImZpbGUiOiIuLi8uLi9Db0NyZWF0ZS1jb21wb25lbnRzL0NvQ3JlYXRlLWNyZHQvc3JjL2NvcmUuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCAqIGFzIFkgZnJvbSAneWpzJ1xuaW1wb3J0IHsgV2Vic29ja2V0UHJvdmlkZXIgfSBmcm9tICd5LXdlYnNvY2tldCdcbmltcG9ydCB7IGZldGNoVXBkYXRlcywgc3RvcmVTdGF0ZSwgSW5kZXhlZGRiUGVyc2lzdGVuY2UgfSBmcm9tICd5LWluZGV4ZWRkYidcbmltcG9ydCBjcnVkIGZyb20gJ0Bjb2NyZWF0ZS9jcnVkJztcbmltcG9ydCB1dGlscyBmcm9tICdAY29jcmVhdGUvdXRpbHMnO1xuaW1wb3J0IENvQ3JlYXRlQ3Vyc29ycyBmcm9tICdAY29jcmVhdGUvY3Vyc29ycydcblxuY29uc3QgZGVidWcgPSBmYWxzZTtcblxuY2xhc3MgQ29DcmVhdGVZU29ja2V0IHtcblx0Y29uc3RydWN0b3Iob3JnLCB5ZG9jKSB7XG5cdFx0dGhpcy5kb2MgPSB5ZG9jO1xuXHRcdHRoaXMub3JnTmFtZSA9IG9yZztcblx0XHR0aGlzLmRvY3MgPSB7fTtcblx0XHR0aGlzLl9hd2FyZW5lc3NMaXN0ZW5lciA9IG51bGw7XG5cdFx0dGhpcy5jaGFyYWN0ZXIgPSAnXyc7XG5cdFx0dGhpcy5saXN0ZW5Bd2VyZW5lc3MgPSBmdW5jdGlvbigpe31cblx0fVxuXHRcblx0Y3JlYXRlRG9jKGlkLCBlbGVtZW50KSB7XG5cdFx0aWYgKCFpZCB8fCBpZCA9PSBcIlwiKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cdFx0XG5cdFx0bGV0IG5ld0luZm8gPSB0aGlzLnBhcnNlVHlwZShpZClcblx0XHQvLyBpZihkZWJ1Zylcblx0XHQvLyBcdGNvbnNvbGUubG9nKG5ld0luZm8pO1xuXHRcdFxuXHRcdGNvbnN0IG5ld0lkID0gbmV3SW5mby5pZDtcblx0XHRcblx0XHRpZiAodGhpcy5kb2NzW25ld0lkXSkgeyBcblx0XHRcdGlmIChlbGVtZW50ICYmICF0aGlzLl9fY2hlY2tFeGlzdEVsZW1lbnQodGhpcy5kb2NzW25ld0lkXS5lbGVtZW50cywgZWxlbWVudCkpIHtcblx0XHRcdFx0dGhpcy5kb2NzW25ld0lkXS5lbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIXRoaXMuZG9jc1tuZXdJZF0udHlwZXMuc29tZSgodHlwZSkgPT4gdHlwZSA9PT0gaWQpKSB7XG5cdFx0XHRcdC8vIHJlZ2lzdGVyIGV2ZW50XG5cdFx0XHRcdHRoaXMuZG9jc1tuZXdJZF0udHlwZXMucHVzaChpZCk7XG5cdFx0XHRcdHRoaXMucmVnaXN0ZXJVcGRhdGVFdmVudCh0aGlzLmRvY3NbbmV3SWRdLCBpZClcblx0XHRcdFx0XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSBcblx0XHRcblx0XHRjb25zdCB5RG9jID0gdGhpcy5kb2Ncblx0XHRcblx0XHRjb25zdCB1cmxfc29ja2V0ID0gdGhpcy5fX2dldFNvY2tldFVybCgpO1xuXHRcdC8vZHJhdyBjdXJzb3IgZGluYW1pYWxseVxuXHRcdC8vIG5ldyBVc2VyQ3Vyc29yKHNvY2tldFByb3ZpZGVyKTtcblxuXHRcdFx0XG5cdFx0dmFyIHNvY2tldFByb3ZpZGVyID0gbmV3IFdlYnNvY2tldFByb3ZpZGVyKHVybF9zb2NrZXQsIG5ld0lkLCB5RG9jKTtcblx0XHRsZXQgaW5kZXhlZGRiUHJvdmlkZXIgPSBudWxsO1xuXHRcdGlmIChuZXdJbmZvLmRvY3VtZW50X2lkICE9IFwibnVsbFwiKSB7XG5cdFx0XHRpbmRleGVkZGJQcm92aWRlciA9IG5ldyBJbmRleGVkZGJQZXJzaXN0ZW5jZShuZXdJZCwgdGhpcy5kb2MpXG5cdFx0XHRpbmRleGVkZGJQcm92aWRlci53aGVuU3luY2VkLnRoZW4oKCkgPT4ge1xuXHRcdFx0ICBjb25zb2xlLmxvZygnbG9hZGVkIGRhdGEgZnJvbSBpbmRleGVkIGRiJylcblx0XHRcdH0pXG5cdFx0fVx0XG5cdFx0XG5cdFx0bGV0IGF3YXJlbmVzcyA9IHNvY2tldFByb3ZpZGVyLmF3YXJlbmVzcztcblx0XHRcblx0XHR0aGlzLl9jdXJzb3JzID0gbmV3IE1hcCgpO1xuXHRcdFxuXHRcdHRoaXMuX2F3YXJlbmVzc0xpc3RlbmVyID0gZXZlbnQgPT4ge1xuXHRcdCAgY29uc3QgZiA9IGNsaWVudElkID0+IHtcblx0XHRcdGlmIChjbGllbnRJZCAhPT0gdGhpcy5kb2MuY2xpZW50SUQpIHtcblx0XHRcdCAgdGhpcy51cGRhdGVSZW1vdGVTZWxlY3Rpb24oeURvYywgaWQsIHlEb2MuZ2V0VGV4dChpZCksIHRoaXMuX2N1cnNvcnMsIGNsaWVudElkLCBhd2FyZW5lc3MpXG5cdFx0XHR9XG5cdFx0ICB9XG5cdFx0ICBldmVudC5hZGRlZC5mb3JFYWNoKGYpXG5cdFx0ICBldmVudC5yZW1vdmVkLmZvckVhY2goZilcblx0XHQgIGV2ZW50LnVwZGF0ZWQuZm9yRWFjaChmKVxuXHRcdH1cblx0XHRcblx0XHRhd2FyZW5lc3Mub24oJ2NoYW5nZScsIHRoaXMuX2F3YXJlbmVzc0xpc3RlbmVyKTtcblx0XHQvKlxuXHRcdGF3YXJlbmVzcy5nZXRTdGF0ZXMoKS5mb3JFYWNoKChhdywgY2xpZW50SWQpID0+IHtcblx0XHRcdGNvbnNvbGUubG9nKFwiVXBkYXRlIC0tXCIpXG4gICAgICAgIH0pXG4gICAgICAgICovXG4gICAgICAgIFxuICAgICAgICB0aGlzLmRvY3NbbmV3SWRdID0ge1xuXHRcdFx0aWQ6IG5ld0lkLFxuXHRcdFx0ZG9jOiB5RG9jLFxuXHRcdFx0c29ja2V0OiBzb2NrZXRQcm92aWRlcixcblx0XHRcdGF3YXJlbmVzczogYXdhcmVuZXNzLFxuXHRcdFx0ZWxlbWVudHM6IGVsZW1lbnQgPyBbZWxlbWVudF0gOiBbXSxcblx0XHRcdHR5cGVzOiBbaWRdLFxuXHRcdFx0aW5kZXhlZGRiOiBpbmRleGVkZGJQcm92aWRlclxuXHRcdH1cblx0XHR0aGlzLnJlZ2lzdGVyVXBkYXRlRXZlbnQodGhpcy5kb2NzW25ld0lkXSwgaWQpXG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXHRcblx0cmVnaXN0ZXJVcGRhdGVFdmVudChkb2NPYmplY3QsIGlkKSB7XG5cdFx0Y29uc3QgeURvYyA9IGRvY09iamVjdC5kb2M7XG5cdFx0Y29uc3Qgc2hhcmRUeXBlID0geURvYy5nZXRUZXh0KGlkKVxuXHRcdGxldCBfdGhpcyA9IHRoaXM7XG5cdFx0XG5cdFx0c2hhcmRUeXBlLm9ic2VydmUoKGV2ZW50KSA9PiB7XG5cdFx0XHRfdGhpcy5fX3NldFR5cGVPYnNlcnZlRXZlbnQoZXZlbnQsIGRvY09iamVjdC5lbGVtZW50cywgaWQpO1xuXHRcdH0pXG5cdH1cblx0XG5cdF9fY2hlY2tFeGlzdEVsZW1lbnQoZWxlbWVudHMsIGVsZW1lbnQpIHtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAoZWxlbWVudHNbaV0uaXNTYW1lTm9kZShlbGVtZW50KSkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdFxuXHRfX2dldFNvY2tldFVybCgpIHtcblx0XHRjb25zb2xlLmxvZyhcImdldF9zb2NrZXQgdXJsXCIpXG5cdFx0bGV0IHdfbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb24gfHwgd2luZG93LnBhcmVudC5sb2NhdGlvbjtcblx0XHRsZXQgd19wcm90b2NvbCA9IHdfbG9jYXRpb24ucHJvdG9jb2w7XG5cdFx0bGV0IHdfaG9zdCA9IHdfbG9jYXRpb24uaG9zdDtcblx0XHRpZiAod19sb2NhdGlvbi5wcm90b2NvbCA9PT0gXCJhYm91dDpcIikge1xuXHRcdFx0d19wcm90b2NvbCA9IHdfbG9jYXRpb24ucHJvdG9jb2w7XG5cdFx0XHR3X2hvc3QgPSBkb2N1bWVudC5yZWZlcnJlcjtcblx0XHR9XG5cdFx0bGV0IHByb3RvY29sID0gd19wcm90b2NvbCA9PT0gJ2h0dHA6JyA/ICd3cycgOiAnd3NzJztcblxuXHRcdGxldCB1cmxfc29ja2V0ID0gYCR7cHJvdG9jb2x9Oi8vJHt3X2hvc3R9OjgwODAvYDtcblx0XHRpZiAod2luZG93LmNvbmZpZyAmJiB3aW5kb3cuY29uZmlnLmhvc3QpIHtcblx0XHRcdGlmICh3aW5kb3cuY29uZmlnLmhvc3QuaW5jbHVkZXMoXCI6Ly9cIikpIHtcblx0XHRcdFx0dXJsX3NvY2tldCA9IGAke3dpbmRvdy5jb25maWcuaG9zdH0vYDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHVybF9zb2NrZXQgPSBgJHtwcm90b2NvbH06Ly8ke3dpbmRvdy5jb25maWcuaG9zdH0vYDtcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0Y29uc29sZS5sb2codXJsX3NvY2tldClcblx0XHR1cmxfc29ja2V0ICs9IFwiY3JkdC9cIjtcblx0XHRcblx0XHRyZXR1cm4gdXJsX3NvY2tldDtcblxuXHR9XG5cdFxuXHRfX3NldFR5cGVPYnNlcnZlRXZlbnQoZXZlbnQsIGVsZW1lbnRzLCBpZCkge1xuXHRcdGlmICghaWQpIHJldHVybjtcblxuXHRcdGNvbnN0IGV2ZW50RGVsdGEgPSBldmVudC5kZWx0YTtcblx0XHRjb25zdCBpbmZvID0gSlNPTi5wYXJzZShhdG9iKGlkKSk7XG5cdFx0bGV0IGlzX3NhdmVfdmFsdWUgPSBmYWxzZVxuXHRcdFxuXHRcdGNvbnN0IHdob2xlc3RyaW5nID0gZXZlbnQudGFyZ2V0LnRvU3RyaW5nKClcblx0XHRjb25zdCBzdG9yZV9ldmVudCA9IG5ldyBDdXN0b21FdmVudCgnc3RvcmUtY29udGVudC1kYicsIHtcblx0XHRcdGRldGFpbDogd2hvbGVzdHJpbmdcblx0XHR9KVxuXHRcdFxuXHRcdGNvbnN0IHVwZGF0ZV9ldmVudCA9IG5ldyBDdXN0b21FdmVudCgnY29jcmVhdGUteS11cGRhdGUnLCB7XG5cdFx0XHRkZXRhaWw6IGV2ZW50RGVsdGFcblx0XHR9KVxuXHRcdGVsZW1lbnRzLmZvckVhY2goKGVsKSA9PiB7XG5cdFx0XHRpZiAodXRpbHMuaXNSZWFkVmFsdWUoZWwpICYmIGVsLmdldEF0dHJpYnV0ZSgnbmFtZScpID09PSBpbmZvLm5hbWUpIHtcblx0XHRcdFx0ZWwuZGlzcGF0Y2hFdmVudCh1cGRhdGVfZXZlbnQpXG5cdFx0XHR9XG5cdFx0fSlcblx0XHRcdFxuXHRcdFxuXHRcdGlmICh0eXBlb2YgaW5mbyAhPT0gJ29iamVjdCcpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoZXZlbnQudHJhbnNhY3Rpb24ubG9jYWwpIHtcblx0XHRcdGlmIChlbGVtZW50cy5sZW5ndGggPT0gMCkge1xuXHRcdFx0XHRpc19zYXZlX3ZhbHVlID0gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdGVsZW1lbnRzLmZvckVhY2goKGVsKSA9PiB7XG5cdFx0XHRcdGlmIChlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2F2ZV92YWx1ZScpICE9ICdmYWxzZScgJiYgZWwuZ2V0QXR0cmlidXRlKCduYW1lJykgPT09IGluZm8ubmFtZSAmJiBpbmZvLmRvY3VtZW50X2lkICE9IFwibnVsbFwiKSB7XG5cdFx0XHRcdFx0aXNfc2F2ZV92YWx1ZSA9IHRydWU7XG5cdFx0XHRcdFx0ZWwuZGlzcGF0Y2hFdmVudChzdG9yZV9ldmVudClcblx0XHRcdFx0fVxuXHRcdFx0fSlcblxuXHRcdFx0aWYgKGlzX3NhdmVfdmFsdWUpIHtcblx0XHRcdFx0Y3J1ZC51cGRhdGVEb2N1bWVudCh7XG5cdFx0XHRcdFx0Y29sbGVjdGlvbjogaW5mby5jb2xsZWN0aW9uLFxuXHRcdFx0XHRcdGRvY3VtZW50X2lkOiBpbmZvLmRvY3VtZW50X2lkLFxuXHRcdFx0XHRcdGRhdGE6IHtcblx0XHRcdFx0XHRcdFtpbmZvLm5hbWVdOiB3aG9sZXN0cmluZ1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0bWV0YWRhdGE6ICd5anMtY2hhbmdlJ1xuXHRcdFx0XHR9KVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cblx0XHR9XG5cdH1cblx0XG5cdGRlbGV0ZURvYyhpZCkge1xuXHRcdGNvbnN0IGluZm8gPSB0aGlzLnBhcnNlVHlwZShpZClcblx0XHRpZiAodGhpcy5kb2NzW2luZm8uaWRdKSB7XG5cdFx0XHRkZWxldGUgdGhpcy5kb2NzW2luZm8uaWRdO1xuXHRcdH1cblx0fVxuXHRcblx0Z2VuZXJhdGVEb2NOYW1lKGNvbGxlY3Rpb24sIGRvY3VtZW50X2lkLCBuYW1lKSB7XG5cdFx0Y29uc3QgaW5mbyA9IHtvcmc6IHRoaXMub3JnTmFtZSwgY29sbGVjdGlvbiwgZG9jdW1lbnRfaWQsIG5hbWV9XG5cdFx0cmV0dXJuIGJ0b2EoSlNPTi5zdHJpbmdpZnkoaW5mbykpOyBcblx0XHQvLyByZXR1cm4gdGhpcy5vcmdOYW1lICsgXCJfXCIgKyBjb2xsZWN0aW9uICsgXCJfXCIgKyBkb2N1bWVudF9pZCArIFwiX1wiICsgbmFtZTtcblx0fVxuXHRcblx0aW5zZXJ0RGF0YShpZCwgaW5kZXgsIGNvbnRlbnQsIGF0dHJpYnV0ZSkge1xuXHRcdGNvbnN0IGluZm8gPSB0aGlzLnBhcnNlVHlwZShpZClcblx0XHRpZiAodGhpcy5kb2NzW2luZm8uaWRdKSB7XG5cdFx0XHRpZiAoYXR0cmlidXRlKSB7XG5cdFx0XHRcdHRoaXMuZG9jc1tpbmZvLmlkXS5kb2MuZ2V0VGV4dChpZCkuaW5zZXJ0KGluZGV4LCBjb250ZW50LCBhdHRyaWJ1dGUpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XG5cdFx0XHRcdHRoaXMuZG9jc1tpbmZvLmlkXS5kb2MuZ2V0VGV4dChpZCkuaW5zZXJ0KGluZGV4LCBjb250ZW50KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0XG5cdGRlbGV0ZURhdGEoaWQsIGluZGV4LCBsZW5ndGgpIHtcblx0XHRjb25zdCBpbmZvID0gdGhpcy5wYXJzZVR5cGUoaWQpXG5cdFx0aWYgKHRoaXMuZG9jc1tpbmZvLmlkXSkge1xuXHRcdFx0dGhpcy5kb2NzW2luZm8uaWRdLmRvYy5nZXRUZXh0KGlkKS5kZWxldGUoaW5kZXgsIGxlbmd0aCk7XG5cdFx0fVxuXHR9XG5cdFxuXHRnZXRXaG9sZVN0cmluZyhpZCkge1xuXHRcdGNvbnN0IGluZm8gPSB0aGlzLnBhcnNlVHlwZShpZClcblx0XHRpZiAodGhpcy5kb2NzW2luZm8uaWRdKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhcIiFHZXQgZGF0YVwiKVxuXHRcdFx0cmV0dXJuIHRoaXMuZG9jc1tpbmZvLmlkXS5kb2MuZ2V0VGV4dChpZCkudG9TdHJpbmcoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIFwiLS1cIjtcblx0XHR9XG5cdH1cblx0XG5cdHVwZGF0ZVJlbW90ZVNlbGVjdGlvbiAoeSwgY20sIHR5cGUsIGN1cnNvcnMsIGNsaWVudElkLCBhd2FyZW5lc3MpICB7XG5cdFx0aWYoZGVidWcpXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiQ0hBTkdFIC0tLS0gRE9DSUQgXCIsdGhpcy5kb2MuY2xpZW50SUQsJyBPVEhFUiBDTElFTlRFSUQgJyxjbGllbnRJZClcblx0XHRpZihjbGllbnRJZCAhPT0gdGhpcy5kb2MuY2xpZW50SUQpe1xuXHRcdFx0XG5cdFx0XHRcdFx0Ly9jb25zb2xlLmxvZyhcIlRFWFQgLT4gdXBkYXRlUmVtb3RlU2VsZWN0aW9uIFwiLGNsaWVudElkLGF3YXJlbmVzcyxjdXJzb3IpXG5cdFx0XHRcdFx0Ly9jb25zb2xlLmxvZyhcIkFXIHN0YXR1c1wiLGF3YXJlbmVzcy5nZXRMb2NhbFN0YXRlKCkpXG5cdFx0XHRcdFx0ICAvLyBkZXN0cm95IGN1cnJlbnQgdGV4dCBtYXJrXG5cdFx0XHRcdFx0ICBjb25zdCBtID0gY3Vyc29ycy5nZXQoY2xpZW50SWQpXG5cdFx0XHRcdFx0ICBpZiAobSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRtLmNhcmV0LmNsZWFyKClcblx0XHRcdFx0XHRcdGlmIChtLnNlbCAhPT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0ICBtLnNlbC5jbGVhcigpXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRjdXJzb3JzLmRlbGV0ZShjbGllbnRJZClcblx0XHRcdFx0XHQgIH1cblx0XHRcdFx0XHQgIC8vIHJlZHJhdyBjYXJldCBhbmQgc2VsZWN0aW9uIGZvciBjbGllbnRJZFxuXHRcdFx0XHRcdCAgY29uc3QgYXcgPSBhd2FyZW5lc3MuZ2V0U3RhdGVzKCkuZ2V0KGNsaWVudElkKTtcblx0XHRcdFx0XHQgIGlmKGRlYnVnKVxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coYXcpXG5cdFx0XHRcdFx0ICBpZiAoYXcgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0ICBpZihkZWJ1Zylcblx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coXCIgQ3Vyc29yIE9VVCBcIixjbGllbnRJZClcblx0XHRcdFx0XHRcdCAgIC8vYXdhcmVuZXNzLnNldExvY2FsU3RhdGVGaWVsZCgnY3Vyc29yJywgbnVsbCk7XG5cdFx0XHRcdFx0XHQgICBsZXQgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbaWQqPVwic29ja2V0XycrY2xpZW50SWQrJ1wiXScpO1xuXHRcdFx0XHRcdFx0XHRlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50LCBpbmRleCwgYXJyYXkpIHtcblx0XHRcdFx0XHRcdFx0XHRlbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG5cdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRsZXQgc2VsX2VsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2lkKj1cInNlbC0nK2NsaWVudElkKydcIl0nKTtcblx0XHRcdFx0XHRcdFx0ICBzZWxfZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoc2VsX2VsZW1lbnQsIGluZGV4LCBhcnJheSkge1xuXHRcdFx0XHRcdFx0XHRcdHNlbF9lbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2VsX2VsZW1lbnQpO1xuXHRcdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0ICAvKlxuXHRcdFx0XHRcdFx0ICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNvY2tldF9cIitjbGllbnRJZClcblx0XHRcdFx0XHRcdCAgIGxldCBzZWxfZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VsLVwiK2NsaWVudElkKVxuXHRcdFx0XHRcdFx0ICAgaWYoZWxlbWVudClcblx0XHRcdFx0XHRcdFx0ZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuXHRcdFx0XHRcdFx0XHRpZihzZWxfZWxlbWVudClcblx0XHRcdFx0XHRcdFx0c2VsX2VsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzZWxfZWxlbWVudCk7XG5cdFx0XHRcdFx0XHQgICAqL1xuXHRcdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdFx0ICB9XG5cdFx0XHRcdFx0ICBjb25zdCB1c2VyID0gYXcudXNlciB8fCB7fVxuXHRcdFx0XHRcdCAgaWYgKHVzZXIuY29sb3IgPT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0dXNlci5jb2xvciA9ICcjZmZhNTAwJ1xuXHRcdFx0XHRcdCAgfVxuXHRcdFx0XHRcdCAgaWYgKHVzZXIubmFtZSA9PSBudWxsKSB7XG5cdFx0XHRcdFx0XHR1c2VyLm5hbWUgPSBgVXNlcjogJHtjbGllbnRJZH1gXG5cdFx0XHRcdFx0ICB9XG5cdFx0XHRcdFx0ICBjb25zdCBjdXJzb3IgPSBhdy5jdXJzb3Jcblx0XHRcdFx0XHQgIGlmKGRlYnVnKVxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coXCJDdXJzb3IgXCIsY3Vyc29yKVxuXHRcdFx0XHRcdCAgaWYgKGN1cnNvciA9PSBudWxsIHx8IGN1cnNvci5hbmNob3IgPT0gbnVsbCB8fCBjdXJzb3IuaGVhZCA9PSBudWxsKSB7XG5cdFx0XHRcdFx0XHQgIC8vbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNvY2tldF9cIitjbGllbnRJZClcblx0XHRcdFx0XHRcdCAgbGV0IGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2lkKj1cInNvY2tldF8nK2NsaWVudElkKydcIl0nKTtcblx0XHRcdFx0XHRcdCAgZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCwgaW5kZXgsIGFycmF5KSB7XG5cdFx0XHRcdFx0XHRcdGVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtZW50KTtcblx0XHRcdFx0XHRcdCAgfSlcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0Ly9sZXQgc2VsX2VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbC1cIitjbGllbnRJZCkgIFxuXHRcdFx0XHRcdFx0bGV0IHNlbF9lbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tpZCo9XCJzZWwtJytjbGllbnRJZCsnXCJdJyk7XG5cdFx0XHRcdFx0XHQgIHNlbF9lbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChzZWxfZWxlbWVudCwgaW5kZXgsIGFycmF5KSB7XG5cdFx0XHRcdFx0XHRcdHNlbF9lbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2VsX2VsZW1lbnQpO1xuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdHJldHVyblxuXHRcdFx0XHRcdCAgfVxuXHRcdFx0XHRcblx0XHRcdFx0XHQgIGNvbnN0IGFuY2hvciA9IFkuY3JlYXRlQWJzb2x1dGVQb3NpdGlvbkZyb21SZWxhdGl2ZVBvc2l0aW9uKFkuY3JlYXRlUmVsYXRpdmVQb3NpdGlvbkZyb21KU09OKGN1cnNvci5hbmNob3IpLCB5KVxuXHRcdFx0XHRcdCAgY29uc3QgaGVhZCA9IFkuY3JlYXRlQWJzb2x1dGVQb3NpdGlvbkZyb21SZWxhdGl2ZVBvc2l0aW9uKFkuY3JlYXRlUmVsYXRpdmVQb3NpdGlvbkZyb21KU09OKGN1cnNvci5oZWFkKSwgeSlcblx0XHRcdFx0XHQgIC8vQ29DcmVhdGUuY3Vyc29ycy5kcmF3X2N1cnNvcigxLDExLDEyLDY2LHt9LHRydWUpO1xuXHRcdFx0XHRcdCAgaWYoZGVidWcpe1xuXHRcdFx0XHRcdFx0ICBjb25zb2xlLmxvZyhcIlBSRSBEcmF3IEN1cnNvciBcIilcblx0XHRcdFx0XHRcdCAgY29uc29sZS5sb2coXCJhbmNob3IgIFwiLGFuY2hvciAsIFwiIGhlYWQgXCIsaGVhZCwnIFR5cGUgJyx0eXBlKVxuXHRcdFx0XHRcdFx0ICBjb25zb2xlLmxvZyhcImFuY2hvciAgVHlwZVwiLGFuY2hvci50eXBlID09PSB0eXBlKVxuXHRcdFx0XHRcdFx0ICBjb25zb2xlLmxvZyhcImFuY2hvciAgVHlwZVwiLGhlYWQudHlwZSA9PT0gdHlwZSlcblx0XHRcdFx0XHQgIH1cblx0XHRcdFx0XHQgIC8vaWYgKGFuY2hvciAhPT0gbnVsbCAmJiBoZWFkICE9PSBudWxsICYmIGFuY2hvci50eXBlID09PSB0eXBlICYmIGhlYWQudHlwZSA9PT0gdHlwZSkge1xuXHRcdFx0XHRcdCAgaWYgKGFuY2hvciAhPT0gbnVsbCAmJiBoZWFkICE9PSBudWxsICkge1xuXHRcdFx0XHRcdFx0bGV0IGZyb20sIHRvO1xuXHRcdFx0XHRcdFx0aWYgKGhlYWQuaW5kZXggPCBhbmNob3IuaW5kZXgpIHtcblx0XHRcdFx0XHRcdCAgZnJvbSA9IGhlYWQuaW5kZXhcblx0XHRcdFx0XHRcdCAgdG8gPSBhbmNob3IuaW5kZXhcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGlmKGRlYnVnKVxuXHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGFuY2hvci5pbmRleClcblx0XHRcdFx0XHRcdCAgZnJvbSA9IGFuY2hvci5pbmRleFxuXHRcdFx0XHRcdFx0ICB0byA9IGhlYWQuaW5kZXhcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmKGRlYnVnKVxuXHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIkRyYXcgQ3Vyc29yIFwiLGZyb20sdG8sY2xpZW50SWQsYXcudXNlcilcblx0XHRcdFx0XHRcdGxldCB0X2luZm8gPSB0aGlzLnBhcnNlVHlwZU5hbWUoY3Vyc29yLmFuY2hvclsndG5hbWUnXSk7XG5cdFx0XHRcdFx0XHRsZXQgaWRfbWlycm9yID0gdF9pbmZvLmRvY3VtZW50X2lkICsgdF9pbmZvLm5hbWUrJy0tbWlycm9yLWRpdic7XG5cdFx0XHRcdFx0XHRsZXQganNvbiA9IHt9O1xuXHRcdFx0XHRcdFx0bGV0IHNlbGVjdG9yID0gJ1tkYXRhLWNvbGxlY3Rpb249XCInK3RfaW5mby5jb2xsZWN0aW9uKydcIl1bZGF0YS1kb2N1bWVudF9pZD1cIicrdF9pbmZvLmRvY3VtZW50X2lkKydcIl1bbmFtZT1cIicrdF9pbmZvLm5hbWUrJ1wiXSdcblx0XHRcdFx0XHRcdHNlbGVjdG9yICs9ICc6bm90KC5jb2RlbWlycm9yKTpub3QoLnF1aWxsKTpub3QoLm1vbmFjbyknO1xuXHRcdFx0XHRcdFx0bGV0IGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG5cdFx0XHRcdFx0XHRsZXQgdGhhdCA9IHRoaXM7XG5cdFx0XHRcdFx0XHRlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50LCBpbmRleCwgYXJyYXkpIHtcblx0XHRcdFx0XHRcdFx0anNvbiA9IHtcblx0XHRcdFx0XHRcdFx0XHRlbGVtZW50OmVsZW1lbnQsXG5cdFx0XHRcdFx0XHRcdFx0c3RhcnRQb3NpdGlvbjpmcm9tLFxuXHRcdFx0XHRcdFx0XHRcdHNlbGVjdG9yOnNlbGVjdG9yLFxuXHRcdFx0XHRcdFx0XHRcdGVuZFBvc2l0b246dG8sXG5cdFx0XHRcdFx0XHRcdFx0Y2xpZW50SWQgOiBjbGllbnRJZCxcblx0XHRcdFx0XHRcdFx0XHR1c2VyOntcblx0XHRcdFx0XHRcdFx0XHRcdCdjb2xvcic6dXNlci5jb2xvcixcblx0XHRcdFx0XHRcdFx0XHRcdCduYW1lJzp1c2VyLm5hbWVcblx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGpzb24pXG5cdFx0XHRcdFx0XHRcdENvQ3JlYXRlQ3Vyc29ycy5kcmF3X2N1cnNvcihqc29uKTtcblx0XHRcdFx0XHRcdFx0Ly9zZW50IGN1c3RvbSBwb3NpdGlvblxuXHRcdFx0XHRcdFx0XHR0aGF0Lmxpc3Rlbihqc29uKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdCAgfVxuXHRcdH1cblx0fVxuXHRcblx0Y2hhbmdlTGlzdGVuQXdlcmVuZXNzKGNhbGxiYWNrKXtcblx0XHR0aGlzLmxpc3RlbkF3ZXJlbmVzcyA9IGNhbGxiYWNrO1xuXHR9XG5cdFxuXHRsaXN0ZW4oanNvbil7XG5cdFx0dGhpcy5saXN0ZW5Bd2VyZW5lc3MuYXBwbHkodGhpcyxbanNvbl0pXG5cdH1cblx0XG5cdGRlc3Ryb3lPYnNlcnZlcihpZCwgZWxlbWVudCkge1xuXHRcdGNvbnN0IGluZm8gPSB0aGlzLnBhcnNlVHlwZShpZClcblx0XHR0aGlzLmRvY3NbaW5mby5pZF0uZG9jLmdldFRleHQoaWQpLnVub2JzZXJ2ZSgoZXZlbnQpID0+IHt9KTtcblx0XHRcblx0XHR0aGlzLmRvY3NbaW5mby5pZF0uc29ja2V0LmF3YXJlbmVzcy5vZmYoJ2NoYW5nZScsIHRoaXMuX2F3YXJlbmVzc0xpc3RlbmVyKTtcblx0fVxuXHRcblx0Z2V0UHJvdmlkZXIoaWQpe1xuXHRcdGNvbnN0IGluZm8gPSB0aGlzLnBhcnNlVHlwZShpZClcblx0XHRpZiAoIXRoaXMuZG9jc1tpbmZvLmlkXSkge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLmRvY3NbaW5mby5pZF0uc29ja2V0O1xuXHR9XG5cdFxuXHRnZXRUeXBlKGlkKXtcblx0XHRjb25zdCBpbmZvID0gdGhpcy5wYXJzZVR5cGUoaWQpXG5cdFx0aWYgKCF0aGlzLmRvY3NbaW5mby5pZF0pIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5kb2NzW2luZm8uaWRdLmRvYy5nZXRUZXh0KGlkKTtcblx0fVxuXG5cdHNldEN1cnNvck51bGwoaWQpe1xuXHRcdGNvbnN0IGluZm8gPSB0aGlzLnBhcnNlVHlwZShpZClcblx0XHRpZiAoIXRoaXMuZG9jc1tpbmZvLmlkXSkge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXHRcdFxuXHRcdHRoaXMuZG9jc1tpbmZvLmlkXS5zb2NrZXQuYXdhcmVuZXNzLnNldExvY2FsU3RhdGVGaWVsZCgnY3Vyc29yJywgbnVsbCk7XG5cdH1cblx0XG5cdHNldFBvc2l0aW9uWUpTKGlkLCBmcm9tLCB0bykge1xuXHRcdGNvbnN0IGluZm8gPSB0aGlzLnBhcnNlVHlwZShpZClcblx0XHRjb25zdCB0eXBlID0gdGhpcy5nZXRUeXBlKGlkKTtcblx0XHQvL2NvbnNvbGUubG9nKFwiVHlwZSBcIix0eXBlKVxuXHRcdGlmICghdHlwZSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHR2YXIgYW5jaG9yID0gWS5jcmVhdGVSZWxhdGl2ZVBvc2l0aW9uRnJvbVR5cGVJbmRleCh0eXBlLCBmcm9tKVxuXHRcdHZhciBoZWFkID0gWS5jcmVhdGVSZWxhdGl2ZVBvc2l0aW9uRnJvbVR5cGVJbmRleCh0eXBlLCB0bylcblx0XHRcblx0XHRpZihkZWJ1Zylcblx0XHRcdGNvbnNvbGUubG9nKFwiU2VuZGluZyBDdXJzb3IgXCIse1xuXHRcdFx0XHRhbmNob3IsXG5cdFx0XHRcdGhlYWRcblx0XHRcdH0seyd0byc6dG8sJ2Zyb20nOmZyb20sJ2luZm8uaWQnOmluZm8uaWR9KVxuXHRcdFxuXHRcdHRoaXMuZG9jc1tpbmZvLmlkXS5zb2NrZXQuYXdhcmVuZXNzLnNldExvY2FsU3RhdGVGaWVsZCgnY3Vyc29yJywge1xuXHRcdFx0YW5jaG9yLFxuXHRcdFx0aGVhZFxuXHRcdH0pXG5cdFx0Lypcblx0XHRpZihkZWJ1Zylcblx0XHRcdGNvbnNvbGUubG9nKFwiQ3Vyc29yIFNlbmRcIilcblx0XHRcdCovXG5cdH1cblx0XG5cdC8vc2VuZCBQb3NpdGlvbiBDdXN0b21cblx0c2VuZFBvc2l0aW9uKGpzb24pIHtcblx0XHRsZXQgY29sbGVjdGlvbiA9IGpzb25bJ2NvbGxlY3Rpb24nXTtcblx0XHRsZXQgZG9jdW1lbnRfaWQgPSBqc29uWydkb2N1bWVudF9pZCddO1xuXHRcdGxldCBuYW1lID0ganNvblsnbmFtZSddO1xuXHRcdGxldCBmcm9tID0ganNvblsnc3RhcnRQb3NpdGlvbiddO1xuXHRcdGxldCB0byA9IGpzb25bJ2VuZFBvc2l0b24nXTtcblx0XHRsZXQgaWQgPSB0aGlzLmdlbmVyYXRlSUQoY29uZmlnLm9yZ2FuaXphdGlvbl9JZCwgY29sbGVjdGlvbiwgZG9jdW1lbnRfaWQsIG5hbWUpO1xuXHRcdHRoaXMuc2V0UG9zaXRpb25ZSlMoaWQsZnJvbSx0byk7XG5cdH1cblx0XG5cdGdlbmVyYXRlSUQob3JnLCBjb2xsZWN0aW9uLCBkb2N1bWVudF9pZCwgbmFtZSkge1xuXHRcdGNvbnN0IGluZm8gPSB7b3JnLCBjb2xsZWN0aW9uLCBkb2N1bWVudF9pZCwgbmFtZX1cblx0XHRyZXR1cm4gYnRvYShKU09OLnN0cmluZ2lmeShpbmZvKSk7ICAgICAgICBcblx0fVxuXHRcblx0cGFyc2VUeXBlTmFtZShuYW1lKSB7XG5cdFx0Y29uc3QgZGF0YSA9IEpTT04ucGFyc2UoYXRvYihuYW1lKSk7XG5cdFx0cmV0dXJuIGRhdGE7XG5cdH1cblx0XG5cdHBhcnNlVHlwZShpZCkge1xuXHRcdGxldCBkYXRhID0gSlNPTi5wYXJzZShhdG9iKGlkKSk7XG5cdFx0XG5cdFx0bGV0IG5ld0lkID0ge29yZzogZGF0YS5vcmcsIGNvbGxlY3Rpb246IGRhdGEuY29sbGVjdGlvbiwgZG9jdW1lbnRfaWQ6IGRhdGEuZG9jdW1lbnRfaWR9XG5cdFx0cmV0dXJuIHtcblx0XHRcdGlkOiBidG9hKEpTT04uc3RyaW5naWZ5KG5ld0lkKSksXG5cdFx0XHRuYW1lOiBkYXRhLm5hbWUsXG5cdFx0XHRkb2N1bWVudF9pZDogZGF0YS5kb2N1bWVudF9pZFxuXHRcdH1cblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb0NyZWF0ZVlTb2NrZXQ7XG5cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../CoCreate-components/CoCreate-crdt/src/core.js\n')},"../../CoCreate-components/CoCreate-crdt/src/index.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _core = _interopRequireDefault(__webpack_require__(/*! ./core.js */ \"../../CoCreate-components/CoCreate-crdt/src/core.js\"));\n\nvar Y = _interopRequireWildcard(__webpack_require__(/*! yjs */ \"../../CoCreate-components/CoCreate-crdt/node_modules/yjs/dist/yjs.mjs\"));\n\nvar _utils = _interopRequireDefault(__webpack_require__(/*! @cocreate/utils */ \"../../CoCreate-components/CoCreate-utils/src/index.js\"));\n\nvar _crud = _interopRequireDefault(__webpack_require__(/*! @cocreate/crud */ \"../../CoCreate-components/CoCreate-crud/src/index.js\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass CoCreateCRDTClass extends _core.default {\n  constructor(org, doc) {\n    super(org, doc);\n  }\n  /*\n  crdt.init({\n    collection: \"module\",\n    document_id: \"\",\n    name: \"\",\n    element: dom_object,\n    metadata: \"xxxx\"\n  })\n  */\n\n\n  init(info) {\n    try {\n      this.__validateKeysJson(info, ['collection', 'document_id', 'name']);\n\n      const id = this.__getYDocId(info['collection'], info['document_id'], info['name']);\n\n      if (!id) return;\n      const status = this.createDoc(id, info.element);\n      console.log(\"InitCrdt\");\n    } catch (e) {\n      console.log('Invalid param', e);\n    }\n  }\n  /*. init data function\n  crdt.replaceText({\n    collection: \"module\",\n    document_id: \"\",\n    name: \"\",\n    value: \"\",\n    updateCrud: true | false,\n    element: dom_object,\n    metadata: \"xxxx\"\n  })\n  */\n\n\n  replaceText(info) {\n    if (!info) return;\n\n    const id = this.__getYDocId(info.collection, info.document_id, info.name);\n\n    if (!id) return;\n    if (info.updateCrud != false) info.updateCrud = true;\n\n    if (this.getType(id)) {\n      let oldData = this.getType(id).toString();\n      let textValue = info.value.toString();\n\n      if (oldData && oldData.length > 0) {\n        this.deleteData(id, 0, Math.max(oldData.length, textValue.length));\n      }\n\n      this.insertData(id, 0, textValue);\n    }\n\n    if (info.updateCrud) {\n      _crud.default.updateDocument({\n        collection: info.collection,\n        document_id: info.document_id,\n        data: {\n          [info.name]: info.value\n        },\n        element: info.element,\n        metadata: info.metadata,\n        namespace: info.namespace,\n        room: info.room,\n        broadcast: info.broadcast,\n        upsert: info.upsert,\n        broadcast_sender: info.broadcast_sender\n      });\n    }\n  }\n  /*\n  crdt.insertText({\n  \tcollection: 'module_activities',\n  \tdocument_id: '5e4802ce3ed96d38e71fc7e5',\n  \tname: 'name',\n  \tvalue: 'T',\n  \tposition: '8',\n  \tattributes: {bold: true}\n  })\n  */\n\n\n  insertText(info) {\n    try {\n      this.__validateKeysJson(info, ['collection', 'document_id', 'name', 'value', 'position']);\n\n      let id = this.__getYDocId(info['collection'], info['document_id'], info['name']);\n\n      if (id) {\n        this.insertData(id, info['position'], info['value'].toString(), info['attributes']);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  /*\n  crdt.deleteText({\n  \tcollection: 'module_activities',\n  \tdocument_id: '5e4802ce3ed96d38e71fc7e5',\n  \tname: 'name',\n  \tposition: '8',\n  \tlength: 2,\n  })\n  */\n\n\n  deleteText(info) {\n    try {\n      this.__validateKeysJson(info, ['collection', 'document_id', 'name', 'position', 'length']);\n\n      let id = this.__getYDocId(info['collection'], info['document_id'], info['name']);\n\n      if (id) {\n        this.deleteData(id, info['position'], info['length']);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  /*\n  crdt.getText({\n  \tcollection: 'module_activities',\n  \tdocument_id: '5e4802ce3ed96d38e71fc7e5',\n  \tname: 'name'\n  })\n  */\n\n\n  getText(info) {\n    try {\n      this.__validateKeysJson(info, ['collection', 'document_id', 'name']);\n\n      let id = this.__getYDocId(info['collection'], info['document_id'], info['name']);\n\n      if (id) {\n        return this.getWholeString(id);\n      } else {\n        return \"\";\n      }\n    } catch (e) {\n      console.error(e);\n      return \"\";\n    }\n  }\n  /* \n  crdt.getPosition(function(data))\n  crdt.getPosition(function(data){console.log(\" EScuchando ahora  \",data)})\n  */\n\n\n  getPosition(callback) {\n    if (typeof miFuncion === 'function') this.changeListenAwereness(callback);else console.error('Callback should be a function');\n  }\n\n  __getYDocId(collection, document_id, name) {\n    if (!_utils.default.checkValue(collection) || !_utils.default.checkValue(document_id) || !_utils.default.checkValue(name)) {\n      return null;\n    }\n\n    return this.generateID(config.organization_Id, collection, document_id, name);\n  }\n\n  __validateKeysJson(json, rules) {\n    let keys_json = Object.keys(json);\n    keys_json.forEach(key => {\n      const index = rules.indexOf(key);\n      if (index != -1) rules.splice(index, 1);\n    });\n    if (rules.length) throw \"Requires the following \" + rules.toString();\n  }\n\n}\n\nconst g_yDoc = new Y.Doc();\nlet CoCreateCrdt = new CoCreateCRDTClass(config.organization_Id, g_yDoc);\nwindow.Y = Y;\nvar _default = CoCreateCrdt;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5xdWlsbC8vaG9tZS91YnVudHUvZW52aXJvbm1lbnQvcHVibGljL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtY3JkdC9zcmMvaW5kZXguanM/ZmMzOCJdLCJuYW1lcyI6WyJDb0NyZWF0ZUNSRFRDbGFzcyIsIkNvQ3JlYXRlWVNvY2tldCIsImNvbnN0cnVjdG9yIiwib3JnIiwiZG9jIiwiaW5pdCIsImluZm8iLCJfX3ZhbGlkYXRlS2V5c0pzb24iLCJpZCIsIl9fZ2V0WURvY0lkIiwic3RhdHVzIiwiY3JlYXRlRG9jIiwiZWxlbWVudCIsImNvbnNvbGUiLCJsb2ciLCJlIiwicmVwbGFjZVRleHQiLCJjb2xsZWN0aW9uIiwiZG9jdW1lbnRfaWQiLCJuYW1lIiwidXBkYXRlQ3J1ZCIsImdldFR5cGUiLCJvbGREYXRhIiwidG9TdHJpbmciLCJ0ZXh0VmFsdWUiLCJ2YWx1ZSIsImxlbmd0aCIsImRlbGV0ZURhdGEiLCJNYXRoIiwibWF4IiwiaW5zZXJ0RGF0YSIsImNydWQiLCJ1cGRhdGVEb2N1bWVudCIsImRhdGEiLCJtZXRhZGF0YSIsIm5hbWVzcGFjZSIsInJvb20iLCJicm9hZGNhc3QiLCJ1cHNlcnQiLCJicm9hZGNhc3Rfc2VuZGVyIiwiaW5zZXJ0VGV4dCIsImVycm9yIiwiZGVsZXRlVGV4dCIsImdldFRleHQiLCJnZXRXaG9sZVN0cmluZyIsImdldFBvc2l0aW9uIiwiY2FsbGJhY2siLCJtaUZ1bmNpb24iLCJjaGFuZ2VMaXN0ZW5Bd2VyZW5lc3MiLCJ1dGlscyIsImNoZWNrVmFsdWUiLCJnZW5lcmF0ZUlEIiwiY29uZmlnIiwib3JnYW5pemF0aW9uX0lkIiwianNvbiIsInJ1bGVzIiwia2V5c19qc29uIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJnX3lEb2MiLCJZIiwiRG9jIiwiQ29DcmVhdGVDcmR0Iiwid2luZG93Il0sIm1hcHBpbmdzIjoi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QWpCLENBQUQsSUFDQSxDQUFDZ0MsZUFBTUMsVUFBTixDQUFpQmhDLFdBQWpCLENBREQsSUFFQSxDQUFDK0IsZUFBTUMsVUFBTixDQUFpQi9CLElBQWpCLENBRkwsRUFHQTtBQUNFLGFBQU8sSUFBUDtBQUNEOztBQUNELFdBQU8sS0FBS2dDLFVBQUwsQ0FBZ0JDLE1BQU0sQ0FBQ0MsZUFBdkIsRUFBd0NwQyxVQUF4QyxFQUFvREMsV0FBcEQsRUFBaUVDLElBQWpFLENBQVA7QUFDRDs7QUFFRFosb0JBQWtCLENBQUMrQyxJQUFELEVBQU1DLEtBQU4sRUFBWTtBQUM1QixRQUFJQyxTQUFTLEdBQUdDLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZSixJQUFaLENBQWhCO0FBQ0FFLGFBQVMsQ0FBQ0csT0FBVixDQUFrQkMsR0FBRyxJQUFFO0FBQ3JCLFlBQU1DLEtBQUssR0FBR04sS0FBSyxDQUFDTyxPQUFOLENBQWNGLEdBQWQsQ0FBZDtBQUNBLFVBQUdDLEtBQUssSUFBSSxDQUFDLENBQWIsRUFDRU4sS0FBSyxDQUFDUSxNQUFOLENBQWFGLEtBQWIsRUFBb0IsQ0FBcEI7QUFDSCxLQUpEO0FBS0EsUUFBSU4sS0FBSyxDQUFDN0IsTUFBVixFQUNFLE1BQU0sNEJBQTJCNkIsS0FBSyxDQUFDaEMsUUFBTixFQUFqQztBQUNIOztBQTdLSDs7QUFnTEEsTUFBTXlDLE1BQU0sR0FBRyxJQUFJQyxDQUFDLENBQUNDLEdBQU4sRUFBZjtBQUNBLElBQUlDLFlBQVksR0FBRyxJQUFJbkUsaUJBQUosQ0FBc0JvRCxNQUFNLENBQUNDLGVBQTdCLEVBQThDVyxNQUE5QyxDQUFuQjtBQUNBSSxNQUFNLENBQUNILENBQVAsR0FBV0EsQ0FBWDtlQUVlRSxZIiwiZmlsZSI6Ii4uLy4uL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtY3JkdC9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29DcmVhdGVZU29ja2V0IGZyb20gXCIuL2NvcmUuanNcIlxuaW1wb3J0ICogYXMgWSBmcm9tICd5anMnXG5pbXBvcnQgdXRpbHMgZnJvbSAnQGNvY3JlYXRlL3V0aWxzJztcbmltcG9ydCBjcnVkIGZyb20gJ0Bjb2NyZWF0ZS9jcnVkJztcblxuXG5jbGFzcyBDb0NyZWF0ZUNSRFRDbGFzcyBleHRlbmRzIENvQ3JlYXRlWVNvY2tldCBcbntcbiAgY29uc3RydWN0b3Iob3JnLCBkb2MpIHtcbiAgICBzdXBlcihvcmcsIGRvYylcbiAgfVxuXG4gIC8qXG4gIGNyZHQuaW5pdCh7XG4gICAgY29sbGVjdGlvbjogXCJtb2R1bGVcIixcbiAgICBkb2N1bWVudF9pZDogXCJcIixcbiAgICBuYW1lOiBcIlwiLFxuICAgIGVsZW1lbnQ6IGRvbV9vYmplY3QsXG4gICAgbWV0YWRhdGE6IFwieHh4eFwiXG4gIH0pXG4gICovXG4gIGluaXQoaW5mbykge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLl9fdmFsaWRhdGVLZXlzSnNvbihpbmZvLCBbJ2NvbGxlY3Rpb24nLCAnZG9jdW1lbnRfaWQnLCAnbmFtZSddKTtcbiAgICAgIFxuICAgICAgY29uc3QgaWQgPSB0aGlzLl9fZ2V0WURvY0lkKGluZm9bJ2NvbGxlY3Rpb24nXSwgaW5mb1snZG9jdW1lbnRfaWQnXSwgaW5mb1snbmFtZSddKVxuXG4gICAgICBpZiAoIWlkKSByZXR1cm47XG4gICAgICBjb25zdCBzdGF0dXMgPSB0aGlzLmNyZWF0ZURvYyhpZCwgaW5mby5lbGVtZW50KVxuICAgICAgY29uc29sZS5sb2coXCJJbml0Q3JkdFwiKVxuICAgIH0gY2F0Y2goZSkge1xuICAgICAgY29uc29sZS5sb2coJ0ludmFsaWQgcGFyYW0nLCBlKTtcbiAgICB9XG4gIH1cblxuICAvKi4gaW5pdCBkYXRhIGZ1bmN0aW9uXG4gIGNyZHQucmVwbGFjZVRleHQoe1xuICAgIGNvbGxlY3Rpb246IFwibW9kdWxlXCIsXG4gICAgZG9jdW1lbnRfaWQ6IFwiXCIsXG4gICAgbmFtZTogXCJcIixcbiAgICB2YWx1ZTogXCJcIixcbiAgICB1cGRhdGVDcnVkOiB0cnVlIHwgZmFsc2UsXG4gICAgZWxlbWVudDogZG9tX29iamVjdCxcbiAgICBtZXRhZGF0YTogXCJ4eHh4XCJcbiAgfSlcbiAgKi9cbiAgXG4gIHJlcGxhY2VUZXh0KGluZm8pe1xuICAgIGlmICghaW5mbykgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGlkID0gdGhpcy5fX2dldFlEb2NJZChpbmZvLmNvbGxlY3Rpb24sIGluZm8uZG9jdW1lbnRfaWQsIGluZm8ubmFtZSlcbiAgICBpZiAoIWlkKSByZXR1cm47XG5cbiAgICBpZiAoaW5mby51cGRhdGVDcnVkICE9IGZhbHNlKSBpbmZvLnVwZGF0ZUNydWQgPSB0cnVlO1xuICAgIFxuICAgIGlmICh0aGlzLmdldFR5cGUoaWQpICkge1xuICAgICAgbGV0IG9sZERhdGEgPSB0aGlzLmdldFR5cGUoaWQpLnRvU3RyaW5nKCk7XG4gICAgICBsZXQgdGV4dFZhbHVlID0gaW5mby52YWx1ZS50b1N0cmluZygpO1xuICAgICAgaWYgKG9sZERhdGEgJiYgb2xkRGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRoaXMuZGVsZXRlRGF0YShpZCwgMCwgTWF0aC5tYXgob2xkRGF0YS5sZW5ndGgsIHRleHRWYWx1ZS5sZW5ndGgpKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaW5zZXJ0RGF0YShpZCwgMCwgdGV4dFZhbHVlKTtcbiAgICB9XG4gICAgaWYgKGluZm8udXBkYXRlQ3J1ZCkge1xuICAgICAgY3J1ZC51cGRhdGVEb2N1bWVudCh7XG4gICAgICAgIGNvbGxlY3Rpb246IGluZm8uY29sbGVjdGlvbixcbiAgICAgICAgZG9jdW1lbnRfaWQ6IGluZm8uZG9jdW1lbnRfaWQsXG4gICAgICAgIGRhdGE6IHtbaW5mby5uYW1lXTogaW5mby52YWx1ZX0sXG4gICAgICAgIGVsZW1lbnQ6IGluZm8uZWxlbWVudCxcbiAgICAgICAgbWV0YWRhdGE6aW5mby5tZXRhZGF0YSxcbiAgICAgICAgbmFtZXNwYWNlOiBpbmZvLm5hbWVzcGFjZSxcbiAgICAgICAgcm9vbTogaW5mby5yb29tLFxuICAgICAgICBicm9hZGNhc3Q6IGluZm8uYnJvYWRjYXN0LFxuICAgICAgICB1cHNlcnQ6IGluZm8udXBzZXJ0LFxuICAgICAgICBicm9hZGNhc3Rfc2VuZGVyOiBpbmZvLmJyb2FkY2FzdF9zZW5kZXJcbiAgICAgIH0pXG4gICAgfVxuICB9XG4gIFxuICAvKlxuICBjcmR0Lmluc2VydFRleHQoe1xuICBcdGNvbGxlY3Rpb246ICdtb2R1bGVfYWN0aXZpdGllcycsXG4gIFx0ZG9jdW1lbnRfaWQ6ICc1ZTQ4MDJjZTNlZDk2ZDM4ZTcxZmM3ZTUnLFxuICBcdG5hbWU6ICduYW1lJyxcbiAgXHR2YWx1ZTogJ1QnLFxuICBcdHBvc2l0aW9uOiAnOCcsXG4gIFx0YXR0cmlidXRlczoge2JvbGQ6IHRydWV9XG4gIH0pXG4gICovXG4gIGluc2VydFRleHQoaW5mbykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5fX3ZhbGlkYXRlS2V5c0pzb24oaW5mbyxbJ2NvbGxlY3Rpb24nLCdkb2N1bWVudF9pZCcsJ25hbWUnLCd2YWx1ZScsJ3Bvc2l0aW9uJ10pO1xuICAgICAgICBsZXQgaWQgPSB0aGlzLl9fZ2V0WURvY0lkKGluZm9bJ2NvbGxlY3Rpb24nXSwgaW5mb1snZG9jdW1lbnRfaWQnXSwgaW5mb1snbmFtZSddKVxuICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICB0aGlzLmluc2VydERhdGEoaWQsIGluZm9bJ3Bvc2l0aW9uJ10sIGluZm9bJ3ZhbHVlJ10udG9TdHJpbmcoKSwgaW5mb1snYXR0cmlidXRlcyddKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlKTsgXG4gICAgICB9XG4gIH1cbiAgXG4gIFxuICAvKlxuICBjcmR0LmRlbGV0ZVRleHQoe1xuICBcdGNvbGxlY3Rpb246ICdtb2R1bGVfYWN0aXZpdGllcycsXG4gIFx0ZG9jdW1lbnRfaWQ6ICc1ZTQ4MDJjZTNlZDk2ZDM4ZTcxZmM3ZTUnLFxuICBcdG5hbWU6ICduYW1lJyxcbiAgXHRwb3NpdGlvbjogJzgnLFxuICBcdGxlbmd0aDogMixcbiAgfSlcbiAgKi9cbiAgZGVsZXRlVGV4dChpbmZvKSB7XG4gICAgdHJ5e1xuICAgICAgdGhpcy5fX3ZhbGlkYXRlS2V5c0pzb24oaW5mbyxbJ2NvbGxlY3Rpb24nLCdkb2N1bWVudF9pZCcsJ25hbWUnLCAncG9zaXRpb24nLCdsZW5ndGgnXSk7XG4gICAgICBsZXQgaWQgPSB0aGlzLl9fZ2V0WURvY0lkKGluZm9bJ2NvbGxlY3Rpb24nXSwgaW5mb1snZG9jdW1lbnRfaWQnXSwgaW5mb1snbmFtZSddKVxuICAgICAgaWYgKGlkKSB7XG4gICAgICAgIHRoaXMuZGVsZXRlRGF0YShpZCwgaW5mb1sncG9zaXRpb24nXSwgaW5mb1snbGVuZ3RoJ10pO1xuICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcihlKTsgXG4gICAgfVxuICB9XG4gIFxuICBcbiAgLypcbiAgY3JkdC5nZXRUZXh0KHtcbiAgXHRjb2xsZWN0aW9uOiAnbW9kdWxlX2FjdGl2aXRpZXMnLFxuICBcdGRvY3VtZW50X2lkOiAnNWU0ODAyY2UzZWQ5NmQzOGU3MWZjN2U1JyxcbiAgXHRuYW1lOiAnbmFtZSdcbiAgfSlcbiAgKi9cbiAgZ2V0VGV4dChpbmZvKSB7XG4gICAgdHJ5e1xuICAgICAgdGhpcy5fX3ZhbGlkYXRlS2V5c0pzb24oaW5mbyxbJ2NvbGxlY3Rpb24nLCdkb2N1bWVudF9pZCcsJ25hbWUnXSk7XG4gICAgICBsZXQgaWQgPSB0aGlzLl9fZ2V0WURvY0lkKGluZm9bJ2NvbGxlY3Rpb24nXSwgaW5mb1snZG9jdW1lbnRfaWQnXSwgaW5mb1snbmFtZSddKVxuICAgICAgaWYgKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFdob2xlU3RyaW5nKGlkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcihlKTsgXG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gIH1cblxuICBcbiAgLyogXG4gIGNyZHQuZ2V0UG9zaXRpb24oZnVuY3Rpb24oZGF0YSkpXG4gIGNyZHQuZ2V0UG9zaXRpb24oZnVuY3Rpb24oZGF0YSl7Y29uc29sZS5sb2coXCIgRVNjdWNoYW5kbyBhaG9yYSAgXCIsZGF0YSl9KVxuICAqL1xuICBnZXRQb3NpdGlvbihjYWxsYmFjayl7XG4gIGlmKHR5cGVvZiBtaUZ1bmNpb24gPT09ICdmdW5jdGlvbicpXG4gICAgdGhpcy5jaGFuZ2VMaXN0ZW5Bd2VyZW5lc3MoY2FsbGJhY2spO1xuICBlbHNlXG4gICAgY29uc29sZS5lcnJvcignQ2FsbGJhY2sgc2hvdWxkIGJlIGEgZnVuY3Rpb24nKVxuICB9XG4gXG4gIF9fZ2V0WURvY0lkKGNvbGxlY3Rpb24sIGRvY3VtZW50X2lkLCBuYW1lKSB7XG4gICAgaWYgKCF1dGlscy5jaGVja1ZhbHVlKGNvbGxlY3Rpb24pIHx8IFxuICAgICAgICAhdXRpbHMuY2hlY2tWYWx1ZShkb2N1bWVudF9pZCkgfHwgXG4gICAgICAgICF1dGlscy5jaGVja1ZhbHVlKG5hbWUpKSBcbiAgICB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVJRChjb25maWcub3JnYW5pemF0aW9uX0lkLCBjb2xsZWN0aW9uLCBkb2N1bWVudF9pZCwgbmFtZSk7XG4gIH1cbiAgXG4gIF9fdmFsaWRhdGVLZXlzSnNvbihqc29uLHJ1bGVzKXtcbiAgICBsZXQga2V5c19qc29uID0gT2JqZWN0LmtleXMoanNvbik7XG4gICAga2V5c19qc29uLmZvckVhY2goa2V5PT57XG4gICAgICBjb25zdCBpbmRleCA9IHJ1bGVzLmluZGV4T2Yoa2V5KTtcbiAgICAgIGlmKGluZGV4ICE9IC0xKVxuICAgICAgICBydWxlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH0pO1xuICAgIGlmKCBydWxlcy5sZW5ndGggKVxuICAgICAgdGhyb3cgXCJSZXF1aXJlcyB0aGUgZm9sbG93aW5nIFwiKyBydWxlcy50b1N0cmluZygpO1xuICB9XG59XG5cbmNvbnN0IGdfeURvYyA9IG5ldyBZLkRvYygpO1xubGV0IENvQ3JlYXRlQ3JkdCA9IG5ldyBDb0NyZWF0ZUNSRFRDbGFzcyhjb25maWcub3JnYW5pemF0aW9uX0lkLCBnX3lEb2MpO1xud2luZG93LlkgPSBZO1xuXG5leHBvcnQgZGVmYXVsdCBDb0NyZWF0ZUNyZHQ7XG5cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../CoCreate-components/CoCreate-crdt/src/index.js\n")},"../../CoCreate-components/CoCreate-crdt/src/utils/cursor/userCursor_class.js":function(module,exports,__webpack_require__){"use strict";eval("\n/* eslint-env browser */\n// @ts-ignore\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UserCursor = void 0;\n\nvar _usercolor = __webpack_require__(/*! ./usercolor.js */ \"../../CoCreate-components/CoCreate-crdt/src/utils/cursor/usercolor.js\");\n\nclass UserCursor {\n  constructor(provider) {\n    this.awareness = provider.awareness;\n    this.debug = false; //console.log(\" awareness\",provider)\n\n    this.__init();\n  }\n\n  __init() {\n    var cursor_user = localStorage.getItem('cursor_user');\n    if (this.debug) console.log(\" INIT cursor_user = \", cursor_user);\n    var user_id = localStorage.getItem('user_id');\n\n    if (cursor_user == null) {\n      var uuid = this.generateUUID(4);\n      let cursor_user = 'User : ' + uuid;\n      localStorage.setItem('cursor_user', cursor_user);\n      if (this.debug) console.log(\"update name From __init__USERCURSORQUILL \" + cursor_user);\n      this.updateAwarenessFromLocalstorage();\n    }\n\n    addEventListener('storage', this.updateAwarenessFromLocalstorage);\n    this.awareness.setLocalStateField('user', {\n      name: localStorage.getItem('cursor_user') || 'Anonymous',\n      color: _usercolor.userColor.color,\n      colorLight: _usercolor.userColor.light\n    });\n  }\n\n  updateAwarenessFromLocalstorage() {\n    const localstorageUsername = localStorage.getItem('cursor_user');\n    if (this.debug) console.log(\" from localStorage \", localstorageUsername);\n    const awarenessState = this.awareness.getLocalState();\n    if (this.debug) console.log(awarenessState);\n\n    if (awarenessState != null && typeof awarenessState.user.name == 'undefined') {\n      this.awareness.setLocalStateField('user', {\n        name: 'Anonymous',\n        color: _usercolor.userColor.color,\n        colorLight: _usercolor.userColor.light\n      });\n    }\n\n    if (localstorageUsername != null && awarenessState !== null && localstorageUsername !== awarenessState.user.name) {\n      this.awareness.setLocalStateField('user', {\n        name: localstorageUsername || 'Anonymous',\n        color: _usercolor.userColor.color,\n        colorLight: _usercolor.userColor.light\n      });\n    }\n  }\n\n  generateUUID(length = null) {\n    var d = new Date().getTime();\n    var d2 = performance && performance.now && performance.now() * 1000 || 0; //Time in microseconds since page-load or 0 if unsupported\n\n    var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n      var r = Math.random() * 16;\n\n      if (d > 0) {\n        var r = (d + r) % 16 | 0;\n        d = Math.floor(d / 16);\n      } else {\n        var r = (d2 + r) % 16 | 0;\n        d2 = Math.floor(d2 / 16);\n      }\n\n      return (c == 'x' ? r : r & 0x7 | 0x8).toString(16);\n    });\n\n    if (length != null) {\n      uuid = uuid.substr(0, length);\n    }\n\n    return uuid;\n  }\n\n} //en class\n\n\nexports.UserCursor = UserCursor;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5xdWlsbC8vaG9tZS91YnVudHUvZW52aXJvbm1lbnQvcHVibGljL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtY3JkdC9zcmMvdXRpbHMvY3Vyc29yL3VzZXJDdXJzb3JfY2xhc3MuanM/MDJmYSJdLCJuYW1lcyI6WyJVc2VyQ3Vyc29yIiwiY29uc3RydWN0b3IiLCJwcm92aWRlciIsImF3YXJlbmVzcyIsImRlYnVnIiwiX19pbml0IiwiY3Vyc29yX3VzZXIiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiY29uc29sZSIsImxvZyIsInVzZXJfaWQiLCJ1dWlkIiwiZ2VuZXJhdGVVVUlEIiwic2V0SXRlbSIsInVwZGF0ZUF3YXJlbmVzc0Zyb21Mb2NhbHN0b3JhZ2UiLCJhZGRFdmVudExpc3RlbmVyIiwic2V0TG9jYWxTdGF0ZUZpZWxkIiwibmFtZSIsImNvbG9yIiwidXNlckNvbG9yIiwiY29sb3JMaWdodCIsImxpZ2h0IiwibG9jYWxzdG9yYWdlVXNlcm5hbWUiLCJhd2FyZW5lc3NTdGF0ZSIsImdldExvY2FsU3RhdGUiLCJ1c2VyIiwibGVuZ3RoIiwiZCIsIkRhdGUiLCJnZXRUaW1lIiwiZDIiLCJwZXJmb3JtYW5jZSIsIm5vdyIsInJlcGxhY2UiLCJjIiwiciIsIk1hdGgiLCJyYW5kb20iLCJmbG9vciIsInRvU3RyaW5nIiwic3Vic3RyIl0sIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7Ozs7Ozs7QUFFQTs7QUFFTyxNQUFNQSxVQUFOLENBQWlCO0FBRXBCQyxhQUFXLENBQUNDLFFBQUQsRUFBVztBQUNwQixTQUFLQyxTQUFMLEdBQWlCRCxRQUFRLENBQUNDLFNBQTFCO0FBQ0EsU0FBS0MsS0FBTCxHQUFhLEtBQWIsQ0FGb0IsQ0FHcEI7O0FBQ0QsU0FBS0MsTUFBTDtBQUNBOztBQUVEQSxRQUFNLEdBQUU7QUFFRixRQUFJQyxXQUFXLEdBQUdDLFlBQVksQ0FBQ0MsT0FBYixDQUFxQixhQUFyQixDQUFsQjtB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V1gsQ0FBQyxHQUFDLEVBQWIsQ0FBSjtBQUNILE9BSEQsTUFHTztBQUNILFlBQUlRLENBQUMsR0FBRyxDQUFDTCxFQUFFLEdBQUdLLENBQU4sSUFBUyxFQUFULEdBQWMsQ0FBdEI7QUFDQUwsVUFBRSxHQUFHTSxJQUFJLENBQUNFLEtBQUwsQ0FBV1IsRUFBRSxHQUFDLEVBQWQsQ0FBTDtBQUNIOztBQUNELGFBQU8sQ0FBQ0ksQ0FBQyxJQUFFLEdBQUgsR0FBU0MsQ0FBVCxHQUFjQSxDQUFDLEdBQUMsR0FBRixHQUFNLEdBQXJCLEVBQTJCSSxRQUEzQixDQUFvQyxFQUFwQyxDQUFQO0FBQ0gsS0FWVSxDQUFYOztBQVdBLFFBQUdiLE1BQU0sSUFBRSxJQUFYLEVBQWdCO0FBQ2RmLFVBQUksR0FBR0EsSUFBSSxDQUFDNkIsTUFBTCxDQUFZLENBQVosRUFBY2QsTUFBZCxDQUFQO0FBQ0Q7O0FBQ0QsV0FBT2YsSUFBUDtBQUNIOztBQTFFcUIsQyxDQTJFdkIiLCJmaWxlIjoiLi4vLi4vQ29DcmVhdGUtY29tcG9uZW50cy9Db0NyZWF0ZS1jcmR0L3NyYy91dGlscy9jdXJzb3IvdXNlckN1cnNvcl9jbGFzcy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyogZXNsaW50LWVudiBicm93c2VyICovXG4vLyBAdHMtaWdub3JlXG5cbmltcG9ydCB7IHVzZXJDb2xvciB9IGZyb20gJy4vdXNlcmNvbG9yLmpzJ1xuXG5leHBvcnQgY2xhc3MgVXNlckN1cnNvciB7XG4gICAgXG4gICAgY29uc3RydWN0b3IocHJvdmlkZXIpIHtcbiAgICAgIHRoaXMuYXdhcmVuZXNzID0gcHJvdmlkZXIuYXdhcmVuZXNzO1xuICAgICAgdGhpcy5kZWJ1ZyA9IGZhbHNlO1xuICAgICAgLy9jb25zb2xlLmxvZyhcIiBhd2FyZW5lc3NcIixwcm92aWRlcilcbiAgICAgdGhpcy5fX2luaXQoKTtcbiAgICB9XG4gICAgXG4gICAgX19pbml0KCl7XG4gICAgICAgICAgXG4gICAgICAgICAgdmFyIGN1cnNvcl91c2VyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N1cnNvcl91c2VyJylcbiAgICAgICAgICBpZih0aGlzLmRlYnVnKVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCIgSU5JVCBjdXJzb3JfdXNlciA9IFwiLGN1cnNvcl91c2VyKVxuICAgICAgICAgIHZhciB1c2VyX2lkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJfaWQnKVxuICAgICAgICAgIGlmIChjdXJzb3JfdXNlciA9PSBudWxsKXtcbiAgICAgICAgICAgIHZhciB1dWlkID0gdGhpcy5nZW5lcmF0ZVVVSUQoNClcbiAgICAgICAgICAgIGxldCBjdXJzb3JfdXNlciA9ICdVc2VyIDogJyArIHV1aWQ7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3Vyc29yX3VzZXInLGN1cnNvcl91c2VyKVxuICAgICAgICAgICAgaWYodGhpcy5kZWJ1ZylcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJ1cGRhdGUgbmFtZSBGcm9tIF9faW5pdF9fVVNFUkNVUlNPUlFVSUxMIFwiK2N1cnNvcl91c2VyKVxuICAgICAgICAgICAgdGhpcy51cGRhdGVBd2FyZW5lc3NGcm9tTG9jYWxzdG9yYWdlKClcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcignc3RvcmFnZScsIHRoaXMudXBkYXRlQXdhcmVuZXNzRnJvbUxvY2Fsc3RvcmFnZSlcbiAgICAgICAgICBcbiAgICAgICAgICB0aGlzLmF3YXJlbmVzcy5zZXRMb2NhbFN0YXRlRmllbGQoJ3VzZXInLCB7XG4gICAgICAgICAgICBuYW1lOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3Vyc29yX3VzZXInKSB8fCAnQW5vbnltb3VzJyxcbiAgICAgICAgICAgIGNvbG9yOiB1c2VyQ29sb3IuY29sb3IsXG4gICAgICAgICAgICBjb2xvckxpZ2h0OiB1c2VyQ29sb3IubGlnaHRcbiAgICAgICAgICB9KVxuICAgIH1cbiAgICBcbiAgICB1cGRhdGVBd2FyZW5lc3NGcm9tTG9jYWxzdG9yYWdlKCl7XG4gICAgICBjb25zdCBsb2NhbHN0b3JhZ2VVc2VybmFtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdXJzb3JfdXNlcicpXG4gICAgICBpZih0aGlzLmRlYnVnKVxuICAgICAgICBjb25zb2xlLmxvZyhcIiBmcm9tIGxvY2FsU3RvcmFnZSBcIixsb2NhbHN0b3JhZ2VVc2VybmFtZSlcbiAgICAgIGNvbnN0IGF3YXJlbmVzc1N0YXRlID0gdGhpcy5hd2FyZW5lc3MuZ2V0TG9jYWxTdGF0ZSgpXG4gICAgICBpZih0aGlzLmRlYnVnKVxuICAgICAgICBjb25zb2xlLmxvZyhhd2FyZW5lc3NTdGF0ZSlcbiAgICAgIGlmKGF3YXJlbmVzc1N0YXRlICE9IG51bGwgJiYgdHlwZW9mKGF3YXJlbmVzc1N0YXRlLnVzZXIubmFtZSk9PSd1bmRlZmluZWQnICl7XG4gICAgICAgIHRoaXMuYXdhcmVuZXNzLnNldExvY2FsU3RhdGVGaWVsZCgndXNlcicsIHtcbiAgICAgICAgICBuYW1lOiAgJ0Fub255bW91cycsXG4gICAgICAgICAgY29sb3I6IHVzZXJDb2xvci5jb2xvcixcbiAgICAgICAgICBjb2xvckxpZ2h0OiB1c2VyQ29sb3IubGlnaHRcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIGlmIChsb2NhbHN0b3JhZ2VVc2VybmFtZSAhPSBudWxsICYmIGF3YXJlbmVzc1N0YXRlICE9PSBudWxsICYmIGxvY2Fsc3RvcmFnZVVzZXJuYW1lICE9PSBhd2FyZW5lc3NTdGF0ZS51c2VyLm5hbWUpIHtcbiAgICAgICAgdGhpcy5hd2FyZW5lc3Muc2V0TG9jYWxTdGF0ZUZpZWxkKCd1c2VyJywge1xuICAgICAgICAgIG5hbWU6IGxvY2Fsc3RvcmFnZVVzZXJuYW1lIHx8ICdBbm9ueW1vdXMnLFxuICAgICAgICAgIGNvbG9yOiB1c2VyQ29sb3IuY29sb3IsXG4gICAgICAgICAgY29sb3JMaWdodDogdXNlckNvbG9yLmxpZ2h0XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGdlbmVyYXRlVVVJRChsZW5ndGg9bnVsbCkge1xuICAgICAgdmFyIGQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgIHZhciBkMiA9IChwZXJmb3JtYW5jZSAmJiBwZXJmb3JtYW5jZS5ub3cgJiYgKHBlcmZvcm1hbmNlLm5vdygpKjEwMDApKSB8fCAwOy8vVGltZSBpbiBtaWNyb3NlY29uZHMgc2luY2UgcGFnZS1sb2FkIG9yIDAgaWYgdW5zdXBwb3J0ZWRcbiAgICAgIHZhciB1dWlkID0gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbihjKSB7XG4gICAgICAgICAgdmFyIHIgPSBNYXRoLnJhbmRvbSgpICogMTY7XG4gICAgICAgICAgaWYoZCA+IDApe1xuICAgICAgICAgICAgICB2YXIgciA9IChkICsgciklMTYgfCAwO1xuICAgICAgICAgICAgICBkID0gTWF0aC5mbG9vcihkLzE2KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB2YXIgciA9IChkMiArIHIpJTE2IHwgMDtcbiAgICAgICAgICAgICAgZDIgPSBNYXRoLmZsb29yKGQyLzE2KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIChjPT0neCcgPyByIDogKHImMHg3fDB4OCkpLnRvU3RyaW5nKDE2KTtcbiAgICAgIH0pO1xuICAgICAgaWYobGVuZ3RoIT1udWxsKXtcbiAgICAgICAgdXVpZCA9IHV1aWQuc3Vic3RyKDAsbGVuZ3RoKVxuICAgICAgfVxuICAgICAgcmV0dXJuIHV1aWQ7XG4gIH1cbn0vL2VuIGNsYXNzXG5cblxuXG5cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../CoCreate-components/CoCreate-crdt/src/utils/cursor/userCursor_class.js\n")},"../../CoCreate-components/CoCreate-crdt/src/utils/cursor/usercolor.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.userColor = exports.usercolors = void 0;\n\nvar random = _interopRequireWildcard(__webpack_require__(/*! lib0/random.js */ \"../../CoCreate-components/CoCreate-crdt/node_modules/lib0/random.js\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst usercolors = [{\n  color: '#30bced',\n  light: '#30bced33'\n}, {\n  color: '#6eeb83',\n  light: '#6eeb8333'\n}, {\n  color: '#ffbc42',\n  light: '#ffbc4233'\n}, {\n  color: '#ecd444',\n  light: '#ecd44433'\n}, {\n  color: '#ee6352',\n  light: '#ee635233'\n}, {\n  color: '#9ac2c9',\n  light: '#9ac2c933'\n}, {\n  color: '#8acb88',\n  light: '#8acb8833'\n}, {\n  color: '#1be7ff',\n  light: '#1be7ff33'\n}];\nexports.usercolors = usercolors;\nconst userColor = usercolors[random.uint32() % usercolors.length]; //export const userColor = usercolors[2]\n\nexports.userColor = userColor;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5xdWlsbC8vaG9tZS91YnVudHUvZW52aXJvbm1lbnQvcHVibGljL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtY3JkdC9zcmMvdXRpbHMvY3Vyc29yL3VzZXJjb2xvci5qcz80ZDFlIl0sIm5hbWVzIjpbInVzZXJjb2xvcnMiLCJjb2xvciIsImxpZ2h0IiwidXNlckNvbG9yIiwicmFuZG9tIiwidWludDMyIiwibGVuZ3RoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7OztBQUVPLE1BQU1BLFVBQVUsR0FBRyxDQUN4QjtBQUFFQyxPQUFLLEVBQUUsU0FBVDtBQUFvQkMsT0FBSyxFQUFFO0FBQTNCLENBRHdCLEVBRXhCO0FBQUVELE9BQUssRUFBRSxTQUFUO0FBQW9CQyxPQUFLLEVBQUU7QUFBM0IsQ0FGd0IsRUFHeEI7QUFBRUQsT0FBSyxFQUFFLFNBQVQ7QUFBb0JDLE9BQUssRUFBRTtBQUEzQixDQUh3QixFQUl4QjtBQUFFRCxPQUFLLEVBQUUsU0FBVDtBQUFvQkMsT0FBSyxFQUFFO0FBQTNCLENBSndCLEVBS3hCO0FBQUVELE9BQUssRUFBRSxTQUFUO0FBQW9CQyxPQUFLLEVBQUU7QUFBM0IsQ0FMd0IsRUFNeEI7QUFBRUQsT0FBSyxFQUFFLFNBQVQ7QUFBb0JDLE9BQUssRUFBRTtBQUEzQixDQU53QixFQU94QjtBQUFFRCxPQUFLLEVBQUUsU0FBVDtBQUFvQkMsT0FBSyxFQUFFO0FBQTNCLENBUHdCLEVBUXhCO0FBQUVELE9BQUssRUFBRSxTQUFUO0FBQW9CQyxPQUFLLEVBQUU7QUFBM0IsQ0FSd0IsQ0FBbkI7O0FBV0EsTUFBTUMsU0FBUyxHQUFHSCxVQUFVLENBQUNJLE1BQU0sQ0FBQ0MsTUFBUCxLQUFrQkwsVUFBVSxDQUFDTSxNQUE5QixDQUE1QixDLENBQ1AiLCJmaWxlIjoiLi4vLi4vQ29DcmVhdGUtY29tcG9uZW50cy9Db0NyZWF0ZS1jcmR0L3NyYy91dGlscy9jdXJzb3IvdXNlcmNvbG9yLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgcmFuZG9tIGZyb20gJ2xpYjAvcmFuZG9tLmpzJ1xuXG5leHBvcnQgY29uc3QgdXNlcmNvbG9ycyA9IFtcbiAgeyBjb2xvcjogJyMzMGJjZWQnLCBsaWdodDogJyMzMGJjZWQzMycgfSxcbiAgeyBjb2xvcjogJyM2ZWViODMnLCBsaWdodDogJyM2ZWViODMzMycgfSxcbiAgeyBjb2xvcjogJyNmZmJjNDInLCBsaWdodDogJyNmZmJjNDIzMycgfSxcbiAgeyBjb2xvcjogJyNlY2Q0NDQnLCBsaWdodDogJyNlY2Q0NDQzMycgfSxcbiAgeyBjb2xvcjogJyNlZTYzNTInLCBsaWdodDogJyNlZTYzNTIzMycgfSxcbiAgeyBjb2xvcjogJyM5YWMyYzknLCBsaWdodDogJyM5YWMyYzkzMycgfSxcbiAgeyBjb2xvcjogJyM4YWNiODgnLCBsaWdodDogJyM4YWNiODgzMycgfSxcbiAgeyBjb2xvcjogJyMxYmU3ZmYnLCBsaWdodDogJyMxYmU3ZmYzMycgfVxuXVxuXG5leHBvcnQgY29uc3QgdXNlckNvbG9yID0gdXNlcmNvbG9yc1tyYW5kb20udWludDMyKCkgJSB1c2VyY29sb3JzLmxlbmd0aF1cbi8vZXhwb3J0IGNvbnN0IHVzZXJDb2xvciA9IHVzZXJjb2xvcnNbMl0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../CoCreate-components/CoCreate-crdt/src/utils/cursor/usercolor.js\n")},"../../CoCreate-components/CoCreate-crud/src/common-fun.js":function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.getCommonParams = getCommonParams;\nexports.getCommonParamsExtend = getCommonParamsExtend;\nexports.generateSocketClient = generateSocketClient;\n\nfunction getCommonParams() {\n  return {\n    "apiKey": config.apiKey,\n    "securityKey": config.securityKey,\n    "organization_id": config.organization_Id\n  };\n}\n\nfunction getCommonParamsExtend(info) {\n  return {\n    "apiKey": info.apiKey || config.apiKey,\n    "securityKey": info.securityKey || config.securityKey,\n    "organization_id": info.organization_id || config.organization_Id\n  };\n}\n\nfunction generateSocketClient(namespace, room) {\n  let ns = namespace || config.organization_Id;\n  let rr = room || \'\';\n\n  if (rr) {\n    return `${ns}/${rr}`;\n  } else {\n    return ns;\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5xdWlsbC8vaG9tZS91YnVudHUvZW52aXJvbm1lbnQvcHVibGljL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtY3J1ZC9zcmMvY29tbW9uLWZ1bi5qcz83YjA5Il0sIm5hbWVzIjpbImdldENvbW1vblBhcmFtcyIsImNvbmZpZyIsImFwaUtleSIsInNlY3VyaXR5S2V5Iiwib3JnYW5pemF0aW9uX0lkIiwiZ2V0Q29tbW9uUGFyYW1zRXh0ZW5kIiwiaW5mbyIsIm9yZ2FuaXphdGlvbl9pZCIsImdlbmVyYXRlU29ja2V0Q2xpZW50IiwibmFtZXNwYWNlIiwicm9vbSIsIm5zIiwicnIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLFNBQVNBLGVBQVQsR0FDQTtBQUNFLFNBQU87QUFDTCxjQUFvQkMsTUFBTSxDQUFDQyxNQUR0QjtBQUVMLG1CQUFvQkQsTUFBTSxDQUFDRSxXQUZ0QjtBQUdMLHVCQUFvQkYsTUFBTSxDQUFDRztBQUh0QixHQUFQO0FBS0Q7O0FBRUQsU0FBU0MscUJBQVQsQ0FBK0JDLElBQS9CLEVBQ0E7QUFDRSxTQUFPO0FBQ0wsY0FBb0JBLElBQUksQ0FBQ0osTUFBTCxJQUFlRCxNQUFNLENBQUNDLE1BRHJDO0FBRUwsbUJBQW9CSSxJQUFJLENBQUNILFdBQUwsSUFBb0JGLE1BQU0sQ0FBQ0UsV0FGMUM7QUFHTCx1QkFBb0JHLElBQUksQ0FBQ0MsZUFBTCxJQUF3Qk4sTUFBTSxDQUFDRztBQUg5QyxHQUFQO0FBS0Q7O0FBRUQsU0FBU0ksb0JBQVQsQ0FBK0JDLFNBQS9CLEVBQTBDQyxJQUExQyxFQUNBO0FBQ0UsTUFBSUMsRUFBRSxHQUFHRixTQUFTLElBQUlSLE1BQU0sQ0FBQ0csZUFBN0I7QUFDQSxNQUFJUSxFQUFFLEdBQUdGLElBQUksSUFBSSxFQUFqQjs7QUFDQSxNQUFJRSxFQUFKLEVBQVE7QUFDTixXQUFRLEdBQUVELEVBQUcsSUFBR0MsRUFBRyxFQUFuQjtBQUNELEdBRkQsTUFFTztBQUNMLFdBQU9ELEVBQVA7QUFDRDtBQUNGIiwiZmlsZSI6Ii4uLy4uL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtY3J1ZC9zcmMvY29tbW9uLWZ1bi5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGdldENvbW1vblBhcmFtcygpIFxue1xuICByZXR1cm4ge1xuICAgIFwiYXBpS2V5XCI6ICAgICAgICAgICBjb25maWcuYXBpS2V5LFxuICAgIFwic2VjdXJpdHlLZXlcIjogICAgICBjb25maWcuc2VjdXJpdHlLZXksXG4gICAgXCJvcmdhbml6YXRpb25faWRcIjogIGNvbmZpZy5vcmdhbml6YXRpb25fSWQsXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0Q29tbW9uUGFyYW1zRXh0ZW5kKGluZm8pIFxue1xuICByZXR1cm4ge1xuICAgIFwiYXBpS2V5XCI6ICAgICAgICAgICBpbmZvLmFwaUtleSB8fCBjb25maWcuYXBpS2V5LFxuICAgIFwic2VjdXJpdHlLZXlcIjogICAgICBpbmZvLnNlY3VyaXR5S2V5IHx8IGNvbmZpZy5zZWN1cml0eUtleSxcbiAgICBcIm9yZ2FuaXphdGlvbl9pZFwiOiAgaW5mby5vcmdhbml6YXRpb25faWQgfHwgY29uZmlnLm9yZ2FuaXphdGlvbl9JZCxcbiAgfVxufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZVNvY2tldENsaWVudCAobmFtZXNwYWNlLCByb29tKSBcbntcbiAgbGV0IG5zID0gbmFtZXNwYWNlIHx8IGNvbmZpZy5vcmdhbml6YXRpb25fSWRcbiAgbGV0IHJyID0gcm9vbSB8fCAnJztcbiAgaWYgKHJyKSB7XG4gICAgcmV0dXJuIGAke25zfS8ke3JyfWBcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnM7XG4gIH1cbn1cblxuZXhwb3J0IHtnZXRDb21tb25QYXJhbXMsIGdldENvbW1vblBhcmFtc0V4dGVuZCwgZ2VuZXJhdGVTb2NrZXRDbGllbnR9OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../CoCreate-components/CoCreate-crud/src/common-fun.js\n')},"../../CoCreate-components/CoCreate-crud/src/index.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _socket = _interopRequireDefault(__webpack_require__(/*! @cocreate/socket */ \"../../CoCreate-components/CoCreate-socket/src/index.js\"));\n\nvar _commonFun = __webpack_require__(/*! @cocreate/crud/src/common-fun.js */ \"../../CoCreate-components/CoCreate-crud/src/common-fun.js\");\n\nvar _utilsCrud = _interopRequireDefault(__webpack_require__(/*! @cocreate/crud/src/utils.crud.js */ \"../../CoCreate-components/CoCreate-crud/src/utils.crud.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nlet crud_socket = new _socket.default('ws'); // let crud = CRUD(socket)\n// var data = {\n//   \"org_id\": \"xxx\",\n//   \"customer.name\": \"Jin\",\n//   \"customer.fristname\": \"Jin\",\n//   \"customer.lastname\": \"CF\",\n//   \"customer.address.line1\": \"line1\",\n//   \"customer.address.line2\": \"line2\",\n//   'scope[0]': 'testing',\n//   'scope[1]': '---',\n//   \"customer.orders[0]\": 123,\n//   \"customer.orders[1]\": 243,\n// }\n// var obj = {\n//   test: {\n//     \"name\": '123',\n//     \"address\": 'address',\n//     \"customer\": {\n//       \"name\": 'tttt'\n//     },\n//     \"orders\": [1,2,3]\n//   }\n// }\n// console.log('----- convert object -----')\n// console.log(utilsCrud.decodeObject(data));\n// console.log(utilsCrud.encodeObject(obj));\n\nconst CoCreateCRUD = {\n  socket: null,\n  setSocket: function (socket) {\n    this.socket = socket;\n  },\n\n  /*\n   \n    CoCreate.crud.readDcoumentList {\n      collection: \"modules\",\n      element: \"xxxx\",\n      metadata: \"\",\n      operator: {\n        fetch: {\n          name: 'xxxx',\n          value: 'xxxxx'\n        },\n        filters: [{\n          name: 'field1',\n          operator: \"contain | range | eq | ne | lt | lte | gt | gte | in | nin\",\n          value: [v1, v2, ...]\n        }, {\n          name: \"_id\",\n          opreator: \"in\",\n          value: [\"id1\"]\n        }, {\n          ....\n        }],\n        orders: [{\n          name: 'field-x',\n          type: 1 | -1\n        }],\n        search: {\n          type: 'or | and',\n          value: [value1, value2]\n        },\n        \n        startIndex: 0 (integer),\n        count: 0 (integer)\n      },\n      \n      is_collection: true | false,\n      //. case fetch document case\n      created_ids : [id1, id2, ...],\n      \n      \n      -------- additional response data -----------\n      data: [] // array\n    }\n  */\n  readDocumentList(info) {\n    if (!info) return;\n    let request_data = (0, _commonFun.getCommonParams)();\n\n    if (!info.collection || !info.operator) {\n      return;\n    }\n\n    request_data = { ...request_data,\n      ...info\n    };\n    this.socket.send('readDocumentList', request_data);\n  },\n\n  /*\n  CoCreate.crud.createDocument({\n    namespace:'',\n    room:'',\n    broadcast: true/false, (default=ture)\n    broadcast_sender: true/false, (default=true) \n    \n    collection: \"test123\",\n    data:{\n    \tname1:hello,\n    \tname2:  hello1\n    },\n    element: xxxx,\n    metaData: \"xxxx\"\n  }),\n  */\n  // data param needs organization_id field added to pass security check\n  createDocument: function (info) {\n    if (info === null) {\n      return;\n    }\n\n    let commonData = (0, _commonFun.getCommonParamsExtend)(info);\n    let request_data = { ...info,\n      ...commonData\n    };\n    let data = info.data || {};\n\n    if (!data['organization_id']) {\n      data['organization_id'] = config.organization_Id;\n    }\n\n    if (info['data']) {\n      data = { ...data,\n        ...info['data']\n      };\n    } //. rebuild data\n\n\n    request_data['data'] = data;\n    /** socket parameters **/\n    // if (info['broadcast'] === undefined) {\n    //   request_data['broadcast'] = true;\n    // }\n    // if (info['broadcast_sender'] === undefined) {\n    //   request_data['broadcast_sender'] = true;\n    // }\n\n    const room = (0, _commonFun.generateSocketClient)(info.namespace, info.room);\n    this.socket.send('createDocument', request_data, room);\n  },\n\n  /*\n  CoCreate.crud.updateDocument({\n    namespace: '',\n    room: '',\n    broadcast: true/false,\n    broadcast_sender: true/false,\n    \n    collection: \"test123\",\n    document_id: \"document_id\",\n    data:{\n    \tname1:hello,\n    \tname2:  hello1\n    },\n    delete_fields:[\"name3\", \"name4\"],\n    element: xxxx,\n    metaData: \"xxxx\"\n  }),\n  */\n  updateDocument: function (info) {\n    if (!info || !info['document_id']) return;\n    let commonData = (0, _commonFun.getCommonParamsExtend)(info);\n    let request_data = { ...info,\n      ...commonData\n    };\n\n    if (typeof info['data'] === 'object') {\n      request_data['set'] = info['data'];\n    }\n\n    if (Array.isArray(info['delete_fields'])) request_data['unset'] = info['delete_fields'];\n    if (!request_data['set'] && !request_data['unset']) return;\n\n    if (info.broadcast === false) {\n      request_data['broadcast'] = false;\n    }\n    /** socket parameters **/\n\n\n    if (info['broadcast_sender'] === undefined) {\n      request_data['broadcast_sender'] = true;\n    }\n\n    const room = (0, _commonFun.generateSocketClient)(info.namespace, info.room);\n    this.socket.send('updateDocument', request_data, room);\n  },\n\n  /*\n  CoCreate.crud.readDocument({\n    collection: \"test123\",\n    document_id: \"document_id\",\n    element: xxxx,\n    metaData: \"xxxx\",\n    exclude_fields: [] \n  }),\n  */\n  readDocument: function (info) {\n    if (info === null) {\n      return;\n    }\n\n    if (!info['document_id'] || !info) {\n      return;\n    }\n\n    let commonData = (0, _commonFun.getCommonParams)();\n    let request_data = { ...info,\n      ...commonData\n    };\n    this.socket.send('readDocument', request_data);\n  },\n\n  /*\n  CoCreate.crud.deleteDocument({\n    namespace: '',\n    room: '',\n    broadcast: true/false,\n    broadcast_sender: true/false,\n    \n    collection: \"module\",\n    document_id: \"\",\n    element: xxxx,\n    metadata: \"xxxx\"\n  }),\n  */\n  deleteDocument: function (info) {\n    if (!info['document_id'] || !info) {\n      return;\n    }\n\n    let commonData = (0, _commonFun.getCommonParams)();\n    let request_data = { ...info,\n      ...commonData\n    };\n    /** socket parameters **/\n    // if (info['broadcast'] === undefined) {\n    //   request_data['broadcast'] = true;\n    // }\n    // if (info['broadcast_sender'] === undefined) {\n    //   request_data['broadcast_sender'] = true;\n    // }\n\n    const room = (0, _commonFun.generateSocketClient)(info.namespace, info.room);\n    this.socket.send('deleteDocument', request_data, room);\n  },\n\n  /** export / import db functions **/\n\n  /*\n  readDocument({\n   collection: \"test123\",\n   element: xxxx,\n   metaData: \"xxxx\",\n  }),\n  */\n  exportCollection: function (info) {\n    if (info === null) {\n      return;\n    }\n\n    let request_data = (0, _commonFun.getCommonParams)();\n    request_data['collection'] = info['collection'];\n    request_data['export_type'] = info['export_type'];\n    request_data['metadata'] = info['metadata'];\n    this.socket.send('exportDB', request_data);\n  },\n\n  /*\n  readDocument({\n    collection: \"test123\",\n    file: file\n  }),\n  */\n  importCollection: function (info) {\n    const {\n      file\n    } = info;\n\n    if (info === null || !(file instanceof File)) {\n      return;\n    }\n\n    const extension = file.name.split(\".\").pop();\n\n    if (!['json', 'csv'].some(item => item === extension)) {\n      return;\n    }\n\n    let request_data = (0, _commonFun.getCommonParams)();\n    request_data['collection'] = info['collection'];\n    request_data['import_type'] = extension;\n    this.socket.send('importDB', request_data);\n    this.socket.sendFile(file);\n  },\n  listen: function (message, fun) {\n    this.socket.listen(message, fun);\n  },\n  listenAsync: function (eventname) {\n    this.socket.listenAsync(eventname);\n  },\n  createSocket: function (host, namespace) {\n    if (namespace) {\n      this.socket.create({\n        namespace: namespace,\n        room: null,\n        host: host\n      });\n      this.socket.setGlobalScope(namespace);\n    } else {\n      this.socket.create({\n        namespace: null,\n        room: null,\n        host: host\n      });\n    }\n  }\n};\nCoCreateCRUD.setSocket(crud_socket);\nCoCreateCRUD.createSocket(window.config.host ? window.config.host : 'server.cocreate.app', window.config.organization_Id);\nvar _default = CoCreateCRUD;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5xdWlsbC8vaG9tZS91YnVudHUvZW52aXJvbm1lbnQvcHVibGljL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtY3J1ZC9zcmMvaW5kZXguanM/OGU1NSJdLCJuYW1lcyI6WyJjcnVkX3NvY2tldCIsIkNvQ3JlYXRlU29ja2V0IiwiQ29DcmVhdGVDUlVEIiwic29ja2V0Iiwic2V0U29ja2V0IiwicmVhZERvY3VtZW50TGlzdCIsImluZm8iLCJyZXF1ZXN0X2RhdGEiLCJjb2xsZWN0aW9uIiwib3BlcmF0b3IiLCJzZW5kIiwiY3JlYXRlRG9jdW1lbnQiLCJjb21tb25EYXRhIiwiZGF0YSIsImNvbmZpZyIsIm9yZ2FuaXphdGlvbl9JZCIsInJvb20iLCJuYW1lc3BhY2UiLCJ1cGRhdGVEb2N1bWVudCIsIkFycmF5IiwiaXNBcnJheSIsImJyb2FkY2FzdCIsInVuZGVmaW5lZCIsInJlYWREb2N1bWVudCIsImRlbGV0ZURvY3VtZW50IiwiZXhwb3J0Q29sbGVjdGlvbiIsImltcG9ydENvbGxlY3Rpb24iLCJmaWxlIiwiRmlsZSIsImV4dGVuc2lvbiIsIm5hbWUiLCJzcGxpdCIsInBvcCIsInNvbWUiLCJpdGVtIiwic2VuZEZpbGUiLCJsaXN0ZW4iLCJtZXNzYWdlIiwiZnVuIiwibGlzdGVuQXN5bmMiLCJldmVudG5hbWUiLCJjcmVhdGVTb2NrZXQiLCJob3N0IiwiY3JlYXRlIiwic2V0R2xvYmFsU2NvcGUiLCJ3aW5kb3ciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUVBLElBQUlBLFdBQVcsR0FBRyxJQUFJQyxlQUFKLENBQW1CLElBQW5CLENBQWxCLEMsQ0FFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztB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SFksT0FBbkI7QUFLQSxXQUFLdkMsTUFBTCxDQUFZeUMsY0FBWixDQUEyQjNCLFNBQTNCO0FBQ0EsS0FQRCxNQU9PO0FBQ04sV0FBS2QsTUFBTCxDQUFZd0MsTUFBWixDQUFtQjtBQUNsQjFCLGlCQUFTLEVBQUUsSUFETztBQUVsQkQsWUFBSSxFQUFFLElBRlk7QUFHbEIwQixZQUFJLEVBQUVBO0FBSFksT0FBbkI7QUFLQTtBQUNEO0FBaFNtQixDQUFyQjtBQW1TQXhDLFlBQVksQ0FBQ0UsU0FBYixDQUF1QkosV0FBdkI7QUFDQUUsWUFBWSxDQUFDdUMsWUFBYixDQUEwQkksTUFBTSxDQUFDL0IsTUFBUCxDQUFjNEIsSUFBZCxHQUFxQkcsTUFBTSxDQUFDL0IsTUFBUCxDQUFjNEIsSUFBbkMsR0FBMEMscUJBQXBFLEVBQTJGRyxNQUFNLENBQUMvQixNQUFQLENBQWNDLGVBQXpHO2VBRWViLFkiLCJmaWxlIjoiLi4vLi4vQ29DcmVhdGUtY29tcG9uZW50cy9Db0NyZWF0ZS1jcnVkL3NyYy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDb0NyZWF0ZVNvY2tldCBmcm9tIFwiQGNvY3JlYXRlL3NvY2tldFwiXG5pbXBvcnQge2dldENvbW1vblBhcmFtcywgZ2V0Q29tbW9uUGFyYW1zRXh0ZW5kLCBnZW5lcmF0ZVNvY2tldENsaWVudH0gZnJvbSBcIkBjb2NyZWF0ZS9jcnVkL3NyYy9jb21tb24tZnVuLmpzXCJcbmltcG9ydCB1dGlsc0NydWQgZnJvbSBcIkBjb2NyZWF0ZS9jcnVkL3NyYy91dGlscy5jcnVkLmpzXCJcblxubGV0IGNydWRfc29ja2V0ID0gbmV3IENvQ3JlYXRlU29ja2V0KCd3cycpO1xuXG4vLyBsZXQgY3J1ZCA9IENSVUQoc29ja2V0KVxuXG4vLyB2YXIgZGF0YSA9IHtcbi8vICAgXCJvcmdfaWRcIjogXCJ4eHhcIixcbi8vICAgXCJjdXN0b21lci5uYW1lXCI6IFwiSmluXCIsXG4vLyAgIFwiY3VzdG9tZXIuZnJpc3RuYW1lXCI6IFwiSmluXCIsXG4vLyAgIFwiY3VzdG9tZXIubGFzdG5hbWVcIjogXCJDRlwiLFxuLy8gICBcImN1c3RvbWVyLmFkZHJlc3MubGluZTFcIjogXCJsaW5lMVwiLFxuLy8gICBcImN1c3RvbWVyLmFkZHJlc3MubGluZTJcIjogXCJsaW5lMlwiLFxuLy8gICAnc2NvcGVbMF0nOiAndGVzdGluZycsXG4vLyAgICdzY29wZVsxXSc6ICctLS0nLFxuLy8gICBcImN1c3RvbWVyLm9yZGVyc1swXVwiOiAxMjMsXG4vLyAgIFwiY3VzdG9tZXIub3JkZXJzWzFdXCI6IDI0Myxcbi8vIH1cblxuLy8gdmFyIG9iaiA9IHtcbi8vICAgdGVzdDoge1xuLy8gICAgIFwibmFtZVwiOiAnMTIzJyxcbi8vICAgICBcImFkZHJlc3NcIjogJ2FkZHJlc3MnLFxuLy8gICAgIFwiY3VzdG9tZXJcIjoge1xuLy8gICAgICAgXCJuYW1lXCI6ICd0dHR0J1xuLy8gICAgIH0sXG4vLyAgICAgXCJvcmRlcnNcIjogWzEsMiwzXVxuLy8gICB9XG4vLyB9XG4vLyBjb25zb2xlLmxvZygnLS0tLS0gY29udmVydCBvYmplY3QgLS0tLS0nKVxuLy8gY29uc29sZS5sb2codXRpbHNDcnVkLmRlY29kZU9iamVjdChkYXRhKSk7XG4vLyBjb25zb2xlLmxvZyh1dGlsc0NydWQuZW5jb2RlT2JqZWN0KG9iaikpO1xuXG5jb25zdCBDb0NyZWF0ZUNSVUQgPSB7XG4gIHNvY2tldDogbnVsbCxcbiAgc2V0U29ja2V0OiBmdW5jdGlvbihzb2NrZXQpIHtcbiAgICB0aGlzLnNvY2tldCA9IHNvY2tldDtcbiAgfSxcbiAgLypcbiAgIFxuICAgIENvQ3JlYXRlLmNydWQucmVhZERjb3VtZW50TGlzdCB7XG4gICAgICBjb2xsZWN0aW9uOiBcIm1vZHVsZXNcIixcbiAgICAgIGVsZW1lbnQ6IFwieHh4eFwiLFxuICAgICAgbWV0YWRhdGE6IFwiXCIsXG4gICAgICBvcGVyYXRvcjoge1xuICAgICAgICBmZXRjaDoge1xuICAgICAgICAgIG5hbWU6ICd4eHh4JyxcbiAgICAgICAgICB2YWx1ZTogJ3h4eHh4J1xuICAgICAgICB9LFxuICAgICAgICBmaWx0ZXJzOiBbe1xuICAgICAgICAgIG5hbWU6ICdmaWVsZDEnLFxuICAgICAgICAgIG9wZXJhdG9yOiBcImNvbnRhaW4gfCByYW5nZSB8IGVxIHwgbmUgfCBsdCB8IGx0ZSB8IGd0IHwgZ3RlIHwgaW4gfCBuaW5cIixcbiAgICAgICAgICB2YWx1ZTogW3YxLCB2MiwgLi4uXVxuICAgICAgICB9LCB7XG4gICAgICAgICAgbmFtZTogXCJfaWRcIixcbiAgICAgICAgICBvcHJlYXRvcjogXCJpblwiLFxuICAgICAgICAgIHZhbHVlOiBbXCJpZDFcIl1cbiAgICAgICAgfSwge1xuICAgICAgICAgIC4uLi5cbiAgICAgICAgfV0sXG4gICAgICAgIG9yZGVyczogW3tcbiAgICAgICAgICBuYW1lOiAnZmllbGQteCcsXG4gICAgICAgICAgdHlwZTogMSB8IC0xXG4gICAgICAgIH1dLFxuICAgICAgICBzZWFyY2g6IHtcbiAgICAgICAgICB0eXBlOiAnb3IgfCBhbmQnLFxuICAgICAgICAgIHZhbHVlOiBbdmFsdWUxLCB2YWx1ZTJdXG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICBzdGFydEluZGV4OiAwIChpbnRlZ2VyKSxcbiAgICAgICAgY291bnQ6IDAgKGludGVnZXIpXG4gICAgICB9LFxuICAgICAgXG4gICAgICBpc19jb2xsZWN0aW9uOiB0cnVlIHwgZmFsc2UsXG4gICAgICAvLy4gY2FzZSBmZXRjaCBkb2N1bWVudCBjYXNlXG4gICAgICBjcmVhdGVkX2lkcyA6IFtpZDEsIGlkMiwgLi4uXSxcbiAgICAgIFxuICAgICAgXG4gICAgICAtLS0tLS0tLSBhZGRpdGlvbmFsIHJlc3BvbnNlIGRhdGEgLS0tLS0tLS0tLS1cbiAgICAgIGRhdGE6IFtdIC8vIGFycmF5XG4gICAgfVxuICAqL1xuICBcbiAgcmVhZERvY3VtZW50TGlzdChpbmZvKXtcbiAgICBpZiggIWluZm8gKSByZXR1cm47XG4gICAgbGV0IHJlcXVlc3RfZGF0YSA9IGdldENvbW1vblBhcmFtcygpO1xuICAgIFxuICAgIGlmICghaW5mby5jb2xsZWN0aW9uIHx8ICFpbmZvLm9wZXJhdG9yKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIHJlcXVlc3RfZGF0YSA9IHsuLi5yZXF1ZXN0X2RhdGEsIC4uLmluZm99O1xuICAgIFxuICAgIHRoaXMuc29ja2V0LnNlbmQoJ3JlYWREb2N1bWVudExpc3QnLCByZXF1ZXN0X2RhdGEpO1xuICB9LFxuICBcbiAgXG4gIC8qXG4gIENvQ3JlYXRlLmNydWQuY3JlYXRlRG9jdW1lbnQoe1xuICAgIG5hbWVzcGFjZTonJyxcbiAgICByb29tOicnLFxuICAgIGJyb2FkY2FzdDogdHJ1ZS9mYWxzZSwgKGRlZmF1bHQ9dHVyZSlcbiAgICBicm9hZGNhc3Rfc2VuZGVyOiB0cnVlL2ZhbHNlLCAoZGVmYXVsdD10cnVlKSBcbiAgICBcbiAgICBjb2xsZWN0aW9uOiBcInRlc3QxMjNcIixcbiAgICBkYXRhOntcbiAgICBcdG5hbWUxOuKAnGhlbGxv4oCdLFxuICAgIFx0bmFtZTI6ICDigJxoZWxsbzHigJ1cbiAgICB9LFxuICAgIGVsZW1lbnQ6IOKAnHh4eHjigJ0sXG4gICAgbWV0YURhdGE6IFwieHh4eFwiXG4gIH0pLFxuICAqL1xuICAvLyBkYXRhIHBhcmFtIG5lZWRzIG9yZ2FuaXphdGlvbl9pZCBmaWVsZCBhZGRlZCB0byBwYXNzIHNlY3VyaXR5IGNoZWNrXG4gIGNyZWF0ZURvY3VtZW50OiBmdW5jdGlvbihpbmZvKSB7XG4gICAgaWYgKGluZm8gPT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGNvbW1vbkRhdGEgPSBnZXRDb21tb25QYXJhbXNFeHRlbmQoaW5mbyk7XG4gICAgbGV0IHJlcXVlc3RfZGF0YSA9IHsuLi5pbmZvLCAuLi5jb21tb25EYXRhfTtcblxuICAgIGxldCBkYXRhID0gaW5mby5kYXRhIHx8IHt9O1xuICAgIFxuICAgIGlmICghZGF0YVsnb3JnYW5pemF0aW9uX2lkJ10pIHtcbiAgICAgIGRhdGFbJ29yZ2FuaXphdGlvbl9pZCddID0gY29uZmlnLm9yZ2FuaXphdGlvbl9JZFxuICAgIH1cbiAgICBpZiAoaW5mb1snZGF0YSddKSB7XG4gICAgICBkYXRhID0gey4uLmRhdGEsIC4uLmluZm9bJ2RhdGEnXX1cbiAgICB9XG4gICAgXG4gICAgLy8uIHJlYnVpbGQgZGF0YVxuICAgIHJlcXVlc3RfZGF0YVsnZGF0YSddID0gZGF0YTtcblxuICAgIC8qKiBzb2NrZXQgcGFyYW1ldGVycyAqKi9cbiAgICAvLyBpZiAoaW5mb1snYnJvYWRjYXN0J10gPT09IHVuZGVmaW5lZCkge1xuICAgIC8vICAgcmVxdWVzdF9kYXRhWydicm9hZGNhc3QnXSA9IHRydWU7XG4gICAgLy8gfVxuICAgIC8vIGlmIChpbmZvWydicm9hZGNhc3Rfc2VuZGVyJ10gPT09IHVuZGVmaW5lZCkge1xuICAgIC8vICAgcmVxdWVzdF9kYXRhWydicm9hZGNhc3Rfc2VuZGVyJ10gPSB0cnVlO1xuICAgIC8vIH1cbiAgICBcbiAgICBjb25zdCByb29tID0gZ2VuZXJhdGVTb2NrZXRDbGllbnQoaW5mby5uYW1lc3BhY2UsIGluZm8ucm9vbSk7XG4gICAgdGhpcy5zb2NrZXQuc2VuZCgnY3JlYXRlRG9jdW1lbnQnLCByZXF1ZXN0X2RhdGEsIHJvb20pO1xuICB9LFxuICBcblxuICBcblxuICAvKlxuICBDb0NyZWF0ZS5jcnVkLnVwZGF0ZURvY3VtZW50KHtcbiAgICBuYW1lc3BhY2U6ICcnLFxuICAgIHJvb206ICcnLFxuICAgIGJyb2FkY2FzdDogdHJ1ZS9mYWxzZSxcbiAgICBicm9hZGNhc3Rfc2VuZGVyOiB0cnVlL2ZhbHNlLFxuICAgIFxuICAgIGNvbGxlY3Rpb246IFwidGVzdDEyM1wiLFxuICAgIGRvY3VtZW50X2lkOiBcImRvY3VtZW50X2lkXCIsXG4gICAgZGF0YTp7XG4gICAgXHRuYW1lMTrigJxoZWxsb+KAnSxcbiAgICBcdG5hbWUyOiAg4oCcaGVsbG8x4oCdXG4gICAgfSxcbiAgICBkZWxldGVfZmllbGRzOltcIm5hbWUzXCIsIFwibmFtZTRcIl0sXG4gICAgZWxlbWVudDog4oCceHh4eOKAnSxcbiAgICBtZXRhRGF0YTogXCJ4eHh4XCJcbiAgfSksXG4gICovXG4gIHVwZGF0ZURvY3VtZW50OiBmdW5jdGlvbihpbmZvKSB7XG4gICAgaWYoICFpbmZvIHx8ICFpbmZvWydkb2N1bWVudF9pZCddICkgcmV0dXJuO1xuICAgIFxuICAgIGxldCBjb21tb25EYXRhID0gZ2V0Q29tbW9uUGFyYW1zRXh0ZW5kKGluZm8pO1xuICAgIFxuICAgIGxldCByZXF1ZXN0X2RhdGEgPSB7Li4uaW5mbywgLi4uY29tbW9uRGF0YX07XG4gICAgXG4gICAgaWYoIHR5cGVvZiBpbmZvWydkYXRhJ10gPT09ICdvYmplY3QnICkge1xuICAgICAgcmVxdWVzdF9kYXRhWydzZXQnXSA9IGluZm9bJ2RhdGEnXVxuICAgIH1cbiAgICBpZiggQXJyYXkuaXNBcnJheShpbmZvWydkZWxldGVfZmllbGRzJ10pICkgcmVxdWVzdF9kYXRhWyd1bnNldCddID0gaW5mb1snZGVsZXRlX2ZpZWxkcyddO1xuICAgIFxuICAgIGlmKCFyZXF1ZXN0X2RhdGFbJ3NldCddICYmICFyZXF1ZXN0X2RhdGFbJ3Vuc2V0J10pIHJldHVybjtcbiAgICBcbiAgICBpZiAoaW5mby5icm9hZGNhc3QgPT09IGZhbHNlKSB7XG4gICAgICByZXF1ZXN0X2RhdGFbJ2Jyb2FkY2FzdCddID0gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIC8qKiBzb2NrZXQgcGFyYW1ldGVycyAqKi9cbiAgICBpZiAoaW5mb1snYnJvYWRjYXN0X3NlbmRlciddID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJlcXVlc3RfZGF0YVsnYnJvYWRjYXN0X3NlbmRlciddID0gdHJ1ZTtcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgcm9vbSA9IGdlbmVyYXRlU29ja2V0Q2xpZW50KGluZm8ubmFtZXNwYWNlLCBpbmZvLnJvb20pO1xuICAgIHRoaXMuc29ja2V0LnNlbmQoJ3VwZGF0ZURvY3VtZW50JywgcmVxdWVzdF9kYXRhLCByb29tKTtcbiAgfSxcbiAgXG4gIFxuICAvKlxuICBDb0NyZWF0ZS5jcnVkLnJlYWREb2N1bWVudCh7XG4gICAgY29sbGVjdGlvbjogXCJ0ZXN0MTIzXCIsXG4gICAgZG9jdW1lbnRfaWQ6IFwiZG9jdW1lbnRfaWRcIixcbiAgICBlbGVtZW50OiDigJx4eHh44oCdLFxuICAgIG1ldGFEYXRhOiBcInh4eHhcIixcbiAgICBleGNsdWRlX2ZpZWxkczogW10gXG4gIH0pLFxuICAqL1xuICByZWFkRG9jdW1lbnQ6IGZ1bmN0aW9uKGluZm8pIHtcbiAgICBpZiAoaW5mbyA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIWluZm9bJ2RvY3VtZW50X2lkJ10gfHwgIWluZm8pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgbGV0IGNvbW1vbkRhdGEgPSBnZXRDb21tb25QYXJhbXMoKTtcbiAgICBsZXQgcmVxdWVzdF9kYXRhID0gey4uLmluZm8sIC4uLmNvbW1vbkRhdGF9O1xuICAgIHRoaXMuc29ja2V0LnNlbmQoJ3JlYWREb2N1bWVudCcsIHJlcXVlc3RfZGF0YSk7XG4gIH0sXG4gIFxuICBcbiAgLypcbiAgQ29DcmVhdGUuY3J1ZC5kZWxldGVEb2N1bWVudCh7XG4gICAgbmFtZXNwYWNlOiAnJyxcbiAgICByb29tOiAnJyxcbiAgICBicm9hZGNhc3Q6IHRydWUvZmFsc2UsXG4gICAgYnJvYWRjYXN0X3NlbmRlcjogdHJ1ZS9mYWxzZSxcbiAgICBcbiAgICBjb2xsZWN0aW9uOiBcIm1vZHVsZVwiLFxuICAgIGRvY3VtZW50X2lkOiBcIlwiLFxuICAgIGVsZW1lbnQ6IOKAnHh4eHjigJ0sXG4gICAgbWV0YWRhdGE6IFwieHh4eFwiXG4gIH0pLFxuICAqL1xuICBkZWxldGVEb2N1bWVudDogZnVuY3Rpb24oaW5mbykge1xuICAgIGlmICghaW5mb1snZG9jdW1lbnRfaWQnXSB8fCAhaW5mbykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBsZXQgY29tbW9uRGF0YSA9IGdldENvbW1vblBhcmFtcygpO1xuICAgIGxldCByZXF1ZXN0X2RhdGEgPSB7Li4uaW5mbywgLi4uY29tbW9uRGF0YX07XG4gICAgXG4gICAgLyoqIHNvY2tldCBwYXJhbWV0ZXJzICoqL1xuICAgIC8vIGlmIChpbmZvWydicm9hZGNhc3QnXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gICByZXF1ZXN0X2RhdGFbJ2Jyb2FkY2FzdCddID0gdHJ1ZTtcbiAgICAvLyB9XG4gICAgLy8gaWYgKGluZm9bJ2Jyb2FkY2FzdF9zZW5kZXInXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gICByZXF1ZXN0X2RhdGFbJ2Jyb2FkY2FzdF9zZW5kZXInXSA9IHRydWU7XG4gICAgLy8gfVxuICAgIFxuICAgIGNvbnN0IHJvb20gPSBnZW5lcmF0ZVNvY2tldENsaWVudChpbmZvLm5hbWVzcGFjZSwgaW5mby5yb29tKTtcbiAgICB0aGlzLnNvY2tldC5zZW5kKCdkZWxldGVEb2N1bWVudCcsIHJlcXVlc3RfZGF0YSwgcm9vbSk7XG4gIH0sXG5cblxuIC8qKiBleHBvcnQgLyBpbXBvcnQgZGIgZnVuY3Rpb25zICoqL1xuIFxuICAgLypcbiAgcmVhZERvY3VtZW50KHtcbiAgICBjb2xsZWN0aW9uOiBcInRlc3QxMjNcIixcbiAgICBlbGVtZW50OiDigJx4eHh44oCdLFxuICAgIG1ldGFEYXRhOiBcInh4eHhcIixcbiAgfSksXG4gICovXG4gIGV4cG9ydENvbGxlY3Rpb246IGZ1bmN0aW9uKGluZm8pIHtcbiAgICBpZiAoaW5mbyA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCByZXF1ZXN0X2RhdGEgPSBnZXRDb21tb25QYXJhbXMoKTtcbiAgICByZXF1ZXN0X2RhdGFbJ2NvbGxlY3Rpb24nXSA9IGluZm9bJ2NvbGxlY3Rpb24nXTtcbiAgICByZXF1ZXN0X2RhdGFbJ2V4cG9ydF90eXBlJ10gPSBpbmZvWydleHBvcnRfdHlwZSddO1xuXG4gICAgcmVxdWVzdF9kYXRhWydtZXRhZGF0YSddID0gaW5mb1snbWV0YWRhdGEnXVxuICAgIHRoaXMuc29ja2V0LnNlbmQoJ2V4cG9ydERCJywgcmVxdWVzdF9kYXRhKTtcbiAgfSxcbiAgXG4gIC8qXG4gIHJlYWREb2N1bWVudCh7XG4gICAgY29sbGVjdGlvbjogXCJ0ZXN0MTIzXCIsXG4gICAgZmlsZTogZmlsZVxuICB9KSxcbiAgKi9cbiAgaW1wb3J0Q29sbGVjdGlvbjogZnVuY3Rpb24oaW5mbykge1xuICAgIGNvbnN0IHtmaWxlfSA9IGluZm87XG4gICAgaWYgKGluZm8gPT09IG51bGwgfHwgIShmaWxlIGluc3RhbmNlb2YgRmlsZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBleHRlbnNpb24gPSBmaWxlLm5hbWUuc3BsaXQoXCIuXCIpLnBvcCgpO1xuICAgIFxuICAgIGlmICghWydqc29uJywnY3N2J10uc29tZSgoaXRlbSkgPT4gaXRlbSA9PT0gZXh0ZW5zaW9uKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBsZXQgcmVxdWVzdF9kYXRhID0gZ2V0Q29tbW9uUGFyYW1zKClcbiAgICByZXF1ZXN0X2RhdGFbJ2NvbGxlY3Rpb24nXSA9IGluZm9bJ2NvbGxlY3Rpb24nXVxuICAgIHJlcXVlc3RfZGF0YVsnaW1wb3J0X3R5cGUnXSA9IGV4dGVuc2lvbjtcbiAgICB0aGlzLnNvY2tldC5zZW5kKCdpbXBvcnREQicsIHJlcXVlc3RfZGF0YSlcbiAgICB0aGlzLnNvY2tldC5zZW5kRmlsZShmaWxlKTtcbiAgfSxcbiAgXG4gIGxpc3RlbjogZnVuY3Rpb24obWVzc2FnZSwgZnVuKSB7XG4gICAgdGhpcy5zb2NrZXQubGlzdGVuKG1lc3NhZ2UsIGZ1bik7XG4gIH0sXG4gIFxuICBsaXN0ZW5Bc3luYzogZnVuY3Rpb24oZXZlbnRuYW1lKSB7XG4gICAgdGhpcy5zb2NrZXQubGlzdGVuQXN5bmMoZXZlbnRuYW1lKTtcbiAgfSxcblxuXHRjcmVhdGVTb2NrZXQ6IGZ1bmN0aW9uKGhvc3QsIG5hbWVzcGFjZSkge1xuXHRcdGlmIChuYW1lc3BhY2UpIHtcblx0XHRcdHRoaXMuc29ja2V0LmNyZWF0ZSh7XG5cdFx0XHRcdG5hbWVzcGFjZTogbmFtZXNwYWNlLCBcblx0XHRcdFx0cm9vbTogbnVsbCxcblx0XHRcdFx0aG9zdDogaG9zdFxuXHRcdFx0fSk7XG5cdFx0XHR0aGlzLnNvY2tldC5zZXRHbG9iYWxTY29wZShuYW1lc3BhY2UpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnNvY2tldC5jcmVhdGUoe1xuXHRcdFx0XHRuYW1lc3BhY2U6IG51bGwsIFxuXHRcdFx0XHRyb29tOiBudWxsLFxuXHRcdFx0XHRob3N0OiBob3N0XG5cdFx0XHR9KTtcblx0XHR9XG5cdH0sXG59XG5cbkNvQ3JlYXRlQ1JVRC5zZXRTb2NrZXQoY3J1ZF9zb2NrZXQpO1xuQ29DcmVhdGVDUlVELmNyZWF0ZVNvY2tldCh3aW5kb3cuY29uZmlnLmhvc3QgPyB3aW5kb3cuY29uZmlnLmhvc3QgOiAnc2VydmVyLmNvY3JlYXRlLmFwcCcsIHdpbmRvdy5jb25maWcub3JnYW5pemF0aW9uX0lkKVxuXG5leHBvcnQgZGVmYXVsdCBDb0NyZWF0ZUNSVUQ7XG5cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../CoCreate-components/CoCreate-crud/src/index.js\n")},"../../CoCreate-components/CoCreate-crud/src/utils.crud.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction __mergeObject(target, source) {\n  target = target || {};\n\n  for (let key of Object.keys(source)) {\n    if (source[key] instanceof Object) {\n      Object.assign(source[key], __mergeObject(target[key], source[key]));\n    }\n  }\n\n  Object.assign(target || {}, source);\n  return target;\n}\n\nfunction __createObject(data, path) {\n  if (!path) return data;\n  let keys = path.split('.');\n  let newObject = data;\n\n  for (var i = keys.length - 1; i >= 0; i--) {\n    newObject = {\n      [keys[i]]: newObject\n    };\n  }\n\n  return newObject;\n}\n\nfunction __createArray(key, data) {\n  try {\n    let item = /([\\w\\W]+)\\[(\\d+)\\]/gm.exec(key);\n\n    if (item && item.length == 3) {\n      let arrayKey = item[1];\n      let index = parseInt(item[2]);\n\n      if (!data[arrayKey] || !Array.isArray(data[arrayKey])) {\n        data[arrayKey] = [];\n      }\n\n      data[arrayKey][index] = data[key];\n      delete data[key];\n      key = arrayKey;\n    }\n  } catch {\n    console.log('create array error');\n  }\n\n  return key;\n}\n\nfunction isObject(item) {\n  return !!item && item.constructor === Object;\n}\n\nfunction isArray(item) {\n  return !!item && item.constructor === Array;\n}\n\nfunction decodeObject(data) {\n  let keys = Object.keys(data);\n  let objectData = {};\n  keys.forEach(k => {\n    k = __createArray(k, data);\n\n    if (k.split('.').length > 1) {\n      let newData = __createObject(data[k], k);\n\n      delete data[k];\n      objectData = __mergeObject(objectData, newData);\n    } else {\n      objectData[k] = data[k];\n    }\n  });\n  return objectData;\n}\n\nfunction encodeObject(data) {\n  let keys = Object.keys(data);\n  let newData = {};\n  keys.forEach(k => {\n    let data_value = data[k];\n\n    if (isObject(data[k])) {\n      let new_obj = encodeObject(data[k]);\n      let newKeys = Object.keys(new_obj);\n      newKeys.forEach(newKey => {\n        let value = new_obj[newKey];\n        newKey = k + \".\" + newKey;\n        newData[newKey] = value;\n      });\n    } else if (isArray(data_value)) {\n      data_value.forEach((v, index) => {\n        newData[`${k}[${index}]`] = v;\n      });\n    } else {\n      newData[k] = data[k];\n    }\n  });\n  return newData;\n}\n\nvar _default = {\n  decodeObject,\n  encodeObject\n};\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5xdWlsbC8vaG9tZS91YnVudHUvZW52aXJvbm1lbnQvcHVibGljL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtY3J1ZC9zcmMvdXRpbHMuY3J1ZC5qcz83Y2RmIl0sIm5hbWVzIjpbIl9fbWVyZ2VPYmplY3QiLCJ0YXJnZXQiLCJzb3VyY2UiLCJrZXkiLCJPYmplY3QiLCJrZXlzIiwiYXNzaWduIiwiX19jcmVhdGVPYmplY3QiLCJkYXRhIiwicGF0aCIsInNwbGl0IiwibmV3T2JqZWN0IiwiaSIsImxlbmd0aCIsIl9fY3JlYXRlQXJyYXkiLCJpdGVtIiwiZXhlYyIsImFycmF5S2V5IiwiaW5kZXgiLCJwYXJzZUludCIsIkFycmF5IiwiaXNBcnJheSIsImNvbnNvbGUiLCJsb2ciLCJpc09iamVjdCIsImNvbnN0cnVjdG9yIiwiZGVjb2RlT2JqZWN0Iiwib2JqZWN0RGF0YSIsImZvckVhY2giLCJrIiwibmV3RGF0YSIsImVuY29kZU9iamVjdCIsImRhdGFfdmFsdWUiLCJuZXdfb2JqIiwibmV3S2V5cyIsIm5ld0tleSIsInZhbHVlIiwidiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLFNBQVVBLGFBQVYsQ0FBd0JDLE1BQXhCLEVBQWdDQyxNQUFoQyxFQUNBO0FBQ0NELFFBQU0sR0FBR0EsTUFBTSxJQUFJLEVBQW5COztBQUNBLE9BQUssSUFBSUUsR0FBVCxJQUFnQkMsTUFBTSxDQUFDQyxJQUFQLENBQVlILE1BQVosQ0FBaEIsRUFBcUM7QUFDcEMsUUFBSUEsTUFBTSxDQUFDQyxHQUFELENBQU4sWUFBdUJDLE1BQTNCLEVBQW1DO0FBQ2xDQSxZQUFNLENBQUNFLE1BQVAsQ0FBY0osTUFBTSxDQUFDQyxHQUFELENBQXBCLEVBQTJCSCxhQUFhLENBQUNDLE1BQU0sQ0FBQ0UsR0FBRCxDQUFQLEVBQWNELE1BQU0sQ0FBQ0MsR0FBRCxDQUFwQixDQUF4QztBQUNBO0FBQ0Q7O0FBRURDLFFBQU0sQ0FBQ0UsTUFBUCxDQUFj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Q3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtY3J1ZC9zcmMvdXRpbHMuY3J1ZC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIFx0X19tZXJnZU9iamVjdCh0YXJnZXQsIHNvdXJjZSkgXG57XG5cdHRhcmdldCA9IHRhcmdldCB8fCB7fTtcblx0Zm9yIChsZXQga2V5IG9mIE9iamVjdC5rZXlzKHNvdXJjZSkpIHtcblx0XHRpZiAoc291cmNlW2tleV0gaW5zdGFuY2VvZiBPYmplY3QpIHtcblx0XHRcdE9iamVjdC5hc3NpZ24oc291cmNlW2tleV0sIF9fbWVyZ2VPYmplY3QodGFyZ2V0W2tleV0sIHNvdXJjZVtrZXldKSlcblx0XHR9XG5cdH1cblx0XG5cdE9iamVjdC5hc3NpZ24odGFyZ2V0IHx8IHt9LCBzb3VyY2UpXG5cdHJldHVybiB0YXJnZXRcbn1cblxuZnVuY3Rpb24gX19jcmVhdGVPYmplY3QoZGF0YSwgcGF0aCkgXG57XG5cdGlmICghcGF0aCkgcmV0dXJuIGRhdGE7XG5cdFxuXHRsZXQga2V5cyA9IHBhdGguc3BsaXQoJy4nKVxuXHRsZXQgbmV3T2JqZWN0ID0gZGF0YTtcblxuXHRmb3IgKHZhciAgaSA9IGtleXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRuZXdPYmplY3QgPSB7W2tleXNbaV1dOiBuZXdPYmplY3R9XHRcdFx0XHRcblx0fVxuXHRyZXR1cm4gbmV3T2JqZWN0O1xufVxuXG5mdW5jdGlvbiBfX2NyZWF0ZUFycmF5KGtleSwgZGF0YSlcbntcbiAgdHJ5IHtcbiAgICBsZXQgaXRlbSA9IC8oW1xcd1xcV10rKVxcWyhcXGQrKVxcXS9nbS5leGVjKGtleSlcbiAgICBpZiAoaXRlbSAmJiBpdGVtLmxlbmd0aCA9PSAzKSB7XG4gICAgICBsZXQgYXJyYXlLZXkgPSBpdGVtWzFdO1xuICAgICAgbGV0IGluZGV4ID0gcGFyc2VJbnQoaXRlbVsyXSk7XG4gICAgICBcbiAgICAgIGlmICghZGF0YVthcnJheUtleV0gfHwgIUFycmF5LmlzQXJyYXkoZGF0YVthcnJheUtleV0pKSB7XG4gICAgICAgIGRhdGFbYXJyYXlLZXldID0gW107XG4gICAgICB9IFxuICAgICAgZGF0YVthcnJheUtleV1baW5kZXhdID0gZGF0YVtrZXldO1xuICAgICAgZGVsZXRlIGRhdGFba2V5XTtcbiAgICAgIGtleSA9IGFycmF5S2V5O1xuICAgIH1cbiAgfSBjYXRjaCB7XG4gICAgY29uc29sZS5sb2coJ2NyZWF0ZSBhcnJheSBlcnJvcicpO1xuICB9XG4gIHJldHVybiBrZXk7XG59XG5cblxuXG5mdW5jdGlvbiBpc09iamVjdChpdGVtKSB7XG4gIHJldHVybiAoISFpdGVtKSAmJiAoaXRlbS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KTtcbn1cbmZ1bmN0aW9uIGlzQXJyYXkoaXRlbSkge1xuICByZXR1cm4gKCEhaXRlbSkgJiYgKGl0ZW0uY29uc3RydWN0b3IgPT09IEFycmF5KTtcbn1cblxuZnVuY3Rpb24gZGVjb2RlT2JqZWN0KGRhdGEpIHtcbiAgbGV0IGtleXMgPSBPYmplY3Qua2V5cyhkYXRhKVxuICBsZXQgb2JqZWN0RGF0YSA9IHt9O1xuICBcbiAga2V5cy5mb3JFYWNoKChrKSA9PiB7XG4gICAgayA9IF9fY3JlYXRlQXJyYXkoaywgZGF0YSk7XG4gICAgaWYgKGsuc3BsaXQoJy4nKS5sZW5ndGggPiAxKSB7XG4gICAgICBsZXQgbmV3RGF0YSA9IF9fY3JlYXRlT2JqZWN0KGRhdGFba10sIGspO1xuICAgICAgZGVsZXRlIGRhdGFba107XG4gICAgICBcbiAgICAgIG9iamVjdERhdGEgPSBfX21lcmdlT2JqZWN0KG9iamVjdERhdGEsIG5ld0RhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmplY3REYXRhW2tdID0gZGF0YVtrXTtcbiAgICB9XG4gIH0pXG4gIHJldHVybiBvYmplY3REYXRhO1xufVxuXG5mdW5jdGlvbiBlbmNvZGVPYmplY3QoZGF0YSkge1xuICBsZXQga2V5cyA9IE9iamVjdC5rZXlzKGRhdGEpO1xuICBsZXQgbmV3RGF0YSA9IHt9O1xuICBrZXlzLmZvckVhY2goKGspID0+IHtcbiAgICBsZXQgZGF0YV92YWx1ZSA9IGRhdGFba107XG4gICAgaWYgKGlzT2JqZWN0KGRhdGFba10pKSB7XG4gICAgICBsZXQgbmV3X29iaiA9IGVuY29kZU9iamVjdChkYXRhW2tdKTtcbiAgICAgIFxuICAgICAgbGV0IG5ld0tleXMgPSBPYmplY3Qua2V5cyhuZXdfb2JqKTtcbiAgICAgIG5ld0tleXMuZm9yRWFjaCgobmV3S2V5KSA9PiB7XG4gICAgICAgIGxldCB2YWx1ZSA9IG5ld19vYmpbbmV3S2V5XTtcbiAgICAgICAgbmV3S2V5ID0gayArIFwiLlwiICsgbmV3S2V5O1xuICAgICAgICBuZXdEYXRhW25ld0tleV0gPSB2YWx1ZTtcbiAgICAgIH0pXG4gICAgICBcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkoZGF0YV92YWx1ZSkpe1xuICAgICAgZGF0YV92YWx1ZS5mb3JFYWNoKCh2LCBpbmRleCkgPT4ge1xuICAgICAgICBuZXdEYXRhW2Ake2t9WyR7aW5kZXh9XWBdID0gdjtcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld0RhdGFba10gPSBkYXRhW2tdO1xuICAgIH1cbiAgfSlcbiAgcmV0dXJuIG5ld0RhdGE7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZGVjb2RlT2JqZWN0LFxuICBlbmNvZGVPYmplY3Rcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../CoCreate-components/CoCreate-crud/src/utils.crud.js\n")},"../../CoCreate-components/CoCreate-cursors/src/index.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _observer = _interopRequireDefault(__webpack_require__(/*! @cocreate/observer */ \"../../CoCreate-components/CoCreate-observer/src/index.js\"));\n\nvar _utils = _interopRequireDefault(__webpack_require__(/*! @cocreate/utils */ \"../../CoCreate-components/CoCreate-utils/src/index.js\"));\n\nvar _crud = _interopRequireDefault(__webpack_require__(/*! @cocreate/crud */ \"../../CoCreate-components/CoCreate-crud/src/index.js\"));\n\nvar _input = _interopRequireDefault(__webpack_require__(/*! @cocreate/input */ \"../../CoCreate-components/CoCreate-input/src/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*global Element*/\n\n/**Uso esta variable para mostrar errores en caso que no este en prod*/\nvar element_multicursors = document.querySelectorAll('input,textarea,[contenteditable]'); //console.log(element_multicursors)\n\nvar debug = false;\nvar enviroment_prod = true;\nvar properties = ['boxSizing', 'borderTopWidth', 'borderRightWidth', 'borderBottomWidth', 'borderLeftWidth', 'paddingTop', 'paddingRight', 'paddingBottom', 'paddingLeft', 'marginTop', 'marginRight', 'marginBottom', 'marginLeft', 'fontStyle', 'fontVariant', 'fontWeight', 'fontStretch', 'fontSize', 'lineHeight', 'fontFamily', 'textAlign', 'textTransform', 'textIndent', 'textDecoration', 'letterSpacing', 'wordSpacing', 'textRendering', 'webkitWritingMode', 'textTransform', 'textIndent', 'overflowWrap'];\nvar length_uuid = 30;\n\nclass CocreateUtilsCursor {\n  static print(message, debug) {\n    debug = debug || false;\n    if (debug) console.log(message);\n  }\n\n  static generateUUID(length = null) {\n    var d = new Date().getTime();\n    var d2 = performance && performance.now && performance.now() * 1000 || 0; //Time in microseconds since page-load or 0 if unsupported\n\n    var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n      var r = Math.random() * 16;\n\n      if (d > 0) {\n        var r = (d + r) % 16 | 0;\n        d = Math.floor(d / 16);\n      } else {\n        var r = (d2 + r) % 16 | 0;\n        d2 = Math.floor(d2 / 16);\n      }\n\n      return (c == 'x' ? r : r & 0x7 | 0x8).toString(16);\n    });\n\n    if (length != null) {\n      uuid = uuid.substr(0, length);\n    }\n\n    return uuid;\n  }\n\n}\n\nvar getParents = function (elem, selector) {// \tif (!Element.prototype.matches) {\n  // \t\tElement.prototype.matches =\n  // \t\t\tElement.prototype.matchesSelector ||\n  // \t\t\tElement.prototype.mozMatchesSelector ||\n  // \t\t\tElement.prototype.msMatchesSelector ||\n  // \t\t\tElement.prototype.oMatchesSelector ||\n  // \t\t\tElement.prototype.webkitMatchesSelector ||\n  // \t\t\tfunction(s) {\n  // \t\t\t\tvar matches = (this.document || this.ownerDocument).querySelectorAll(s),\n  // \t\t\t\t\ti = matches.length;\n  // \t\t\t\twhile (--i >= 0 && matches.item(i) !== this) {}\n  // \t\t\t\treturn i > -1;\n  // \t\t\t};\n  // \t}\n};\n\nvar mirrorDiv, computed, style, computedParentElement;\n\nvar getCaretCoordinates = function (element, position_start, position_end) {\n  // mirrored div\n  let name = element.getAttribute('name');\n  let document_id = element.getAttribute('data-document_id') || '';\n\n  if (document_id == '') {\n    return false;\n  }\n\n  var ID_MIRROR = element.dataset['mirror_id']; //document_id + name +  '--mirror-div';\n\n  mirrorDiv = document.getElementById(ID_MIRROR);\n  var add_class_scroll = element.className.indexOf('floating-label') == -1 ? false : true;\n\n  if (!mirrorDiv) {\n    mirrorDiv = document.createElement('div');\n    mirrorDiv.id = ID_MIRROR; //document_id +name+ '--mirror-div';\n\n    mirrorDiv.className = enviroment_prod ? 'mirror_color mirror_scroll mirror-width-scroll' : 'mirror-width-scroll'; //document.body.appendChild(mirrorDiv);\n\n    element.insertAdjacentElement('afterend', mirrorDiv);\n  }\n\n  var scrollwidth = element.offsetWidth - element.scrollWidth;\n  style = mirrorDiv.style;\n  computed = getComputedStyle(element);\n  computedParentElement = getComputedStyle(element.parentElement);\n  let margin_top = parseInt(computed['marginTop']);\n  let margin_left = parseInt(computed['marginLeft']);\n\n  if (element.nodeName !== 'INPUT') {\n    style.wordWrap = 'break-word'; // only for textarea-s\n\n    style.whiteSpace = 'pre-wrap';\n  } else {\n    style.whiteSpace = 'pre';\n  } // position off-screen\n\n\n  style.position = 'absolute'; // required to return coordinates properly\n\n  var rect = element.getBoundingClientRect(); // get Position from element\n\n  let scrrollTop_browser = document.documentElement.scrollTop; //style.top = ((rect.top+scrrollTop_browser)-1) - (parseInt(computed['marginTop']) - parseInt(computed['borderTopWidth']) ) + 'px'//parseInt(computed.borderTopWidth) + 'px'; //  element.offsetTop + parseInt(computed.borderTopWidth) + 'px';\n  //style.top = computedParentElement['top'];\n\n  style.top = element.offsetTop + 'px'; //style.left = rect.left - (parseInt(computed['marginLeft']) -  parseInt(computed['borderLeftWidth']) ) + 'px'//parseInt(computed.borderLeftWidth) + 'px'   // margin_left+\"px\";//\"400px\";\n  //style.left =  computedParentElement['left'];\n\n  style.left = element.offsetLeft + 'px';\n  style.width = rect.width + 'px'; // - (parseInt(computed.borderLeftWidth) + parseInt(computed.borderRightWidth)) + 'px'   // margin_left+\"px\";//\"400px\";\n\n  style.height = rect.height + 'px'; // - (parseInt(computed.borderTopWidth) + parseInt(computed.borderBottomWidth)) + 'px'   // margin_left+\"px\";//\"400px\";\n\n  style.visibility = 'visible';\n  properties.forEach(function (prop) {\n    if (['left', 'top'].indexOf(prop.toLowerCase()) === -1) style[prop] = computed[prop];\n  });\n  style.overflowX = 'auto';\n  style.overflowY = 'hidden';\n  style.margin = '0px'; //style.padding = '0px'\n\n  style.border = computed['border'];\n  style.borderColor = 'transparent';\n  /* \n  if(element.nodeName.toLowerCase()=='input'){\n    style.overflowX ='auto';\n    style.overflowY ='hidden';\n  }else{\n    style.overflow=\"visible\"\n  }*/\n  // style.paddingRight = (parseInt(style.paddingRight) + scrollwidth - parseInt(computed.borderRightWidth)) +'px';\n\n  let cursor_container = mirrorDiv.querySelectorAll('.cursor-container');\n  let selectors_by_users = mirrorDiv.querySelectorAll('.selectors_by_users');\n  let value_element = ['TEXTAREA', 'INPUT'].indexOf(element.nodeName) == -1 ? element.innerHTML : element.value;\n  mirrorDiv.textContent = value_element.substring(0, position_start);\n  if (element.nodeName === 'INPUT') mirrorDiv.textContent = mirrorDiv.textContent.replace(/\\s/g, \"\\u00a0\");\n  var span = document.createElement('span');\n  span.id = element.nodeName + 'span_selections';\n  let value_span = value_element.substring(position_start, position_end) || '';\n  span.textContent = value_span; // || because a completely empty faux span doesn't render at all\n  //span.style.backgroundColor = \"lightgrey\";\n\n  mirrorDiv.appendChild(span);\n\n  if (cursor_container) {\n    cursor_container.forEach(function (child_cursor, index, array) {\n      mirrorDiv.appendChild(child_cursor);\n    });\n  }\n\n  if (selectors_by_users) {\n    selectors_by_users.forEach(function (child_selection, index, array) {\n      mirrorDiv.appendChild(child_selection);\n    });\n  }\n\n  let value_end = value_element.substring(position_end) || '';\n  var span_end = document.createElement('span');\n  mirrorDiv.appendChild(span_end);\n  span_end.textContent = value_end;\n  var rect = element.getBoundingClientRect(); // get Position from element\n\n  var coordinates = {\n    start: {\n      top: span.offsetTop,\n      left: span.offsetLeft\n    },\n    end: {\n      top: span_end.offsetTop,\n      //+ parseInt(computed['borderTopWidth']),\n      left: span_end.offsetLeft // + parseInt(computed['borderLeftWidth'])\n\n    }\n  };\n  return coordinates;\n};\n\nfunction getStyle(el, styleProp) {\n  if (window.getComputedStyle) var y = document.defaultView.getComputedStyle(el, null).getPropertyValue(styleProp);\n  return y;\n}\n\nfunction getDocument(collection, module_id) {\n  _crud.default.readDocument({\n    'collection': collection,\n    'document_id': module_id\n  });\n}\n\n_crud.default.listen('readDocument', function (data) {\n  let cursor = document.querySelector('.cursor-flag[data-document_id=\"' + data['document_id'] + '\"]');\n  if (cursor) cursor.innerHTML = data.result[cursor.getAttribute('name')];\n});\n\nfunction draw_cursor(json) {\n  CocreateUtilsCursor.print([\"draw Cursor \", json], debug);\n  let element = json['element'];\n  let activate_cursor = element.dataset['cursors'] ? element.dataset['mirror_id'] : true;\n\n  if (activate_cursor) {\n    let start = json['startPosition'];\n    let end = json['endPositon'];\n    let socket_id = json['clientId'];\n    let document_id = element.getAttribute('data-document_id') || '';\n\n    if (document_id != '') {\n      CocreateUtilsCursor.print(\"action document_id \" + document_id, debug);\n      if (typeof element.dataset['mirror_id'] == 'undefined' || element.dataset['mirror_id'] == '') element.dataset['mirror_id'] = CocreateUtilsCursor.generateUUID(length_uuid);\n      let coordinates = getCaretCoordinates(element, start, end);\n      if (!coordinates) return false;\n      let name = element.getAttribute('name');\n      let id_mirror = element.dataset['mirror_id']; //document_id+name+'--mirror-div'\n\n      let mi_mirror = document.getElementById(id_mirror);\n      let cursor = false;\n      let selection_user = false;\n      let identify = '_' + id_mirror;\n      let user = typeof json != 'undefined' && json.hasOwnProperty('user') ? json.user : false;\n      let user_id = typeof json != 'undefined' && json.hasOwnProperty('user_id') ? user.user_id : false;\n\n      if (socket_id) {\n        //if(data && data.hasOwnProperty('id_mirror')){\n        var cursores_other_elements = document.querySelectorAll('#socket_' + socket_id + identify);\n        cursores_other_elements.forEach(function (child_cursor, index, array) {\n          if (child_cursor.parentElement.getAttribute('id') != id_mirror) {\n            CocreateUtilsCursor.print(\"remove old cursor others elements\", debug);\n            child_cursor.remove();\n          }\n        }); //}\n\n        cursor = mi_mirror.querySelector('.cursor-container#socket_' + socket_id + identify);\n\n        if (!cursor && json.hasOwnProperty('user')) {\n          if (user) {\n            CocreateUtilsCursor.print(\"Create Cursor\", debug);\n            let cursor_template = '<div style=\"color:blue;\" class=\"cursor-container\" \\\n                                                  id=\"socket_' + socket_id + identify + '\" \\\n                                                  ><div class=\"cursor\" \\\n                                                  style=\"background-color:' + user.color + '\"></div>\\\n                                                  <div class=\"cursor-flag\" data-collection=\"users\" \\\n                                                  name=\"name\" \\\n                                                  data-user_name=\"' + user.name + '\" \\\n                                                  data-user_color=\"' + user.color + '\" \\\n                                                  data-socket_id=\"' + socket_id + '\" \\\n                                                  data-id_mirror=\"' + id_mirror + '\" \\\n                                                  data-document_id=\"' + user_id + '\" \\\n                                                  style=\"background-color:' + user.color + '\" \\\n                                                  flag>' + user.name + '</div></div>';\n            mi_mirror.innerHTML = cursor_template + mi_mirror.innerHTML;\n          }\n\n          if (user_id) {\n            // si tiene user_id actualiza el nombre del cursor usando crud\n            _crud.default.readDocument({\n              'collection': 'users',\n              'document_id': user_id\n            });\n          }\n        }\n\n        cursor = mi_mirror.querySelector('.cursor-container#socket_' + socket_id + identify);\n      }\n\n      if (cursor) {\n        CocreateUtilsCursor.print([\"Update Cursor\", cursor, coordinates], debug);\n        let font_size = getStyle(element, 'font-size');\n        font_size = parseFloat(font_size.substring(0, font_size.length - 2));\n        let cursor_height = font_size * 112.5 / 100;\n        let my_cursor = cursor.querySelector('.cursor');\n        cursor.dataset.start = start;\n        cursor.dataset.end = end;\n        cursor.dataset.socket_id = socket_id;\n        /*cursor.dataset.user_name = user.name\n        cursor.dataset.user_color = user.color*/\n\n        cursor.style[\"top\"] = coordinates.end.top + \"px\";\n        cursor.style[\"width\"] = \"2px\"; //2px\n\n        my_cursor.style[\"height\"] = cursor_height + \"px\";\n        cursor.style[\"left\"] = coordinates.end.left + \"px\"; //add selections\n\n        selection_user = document.getElementById('sel-' + socket_id + identify);\n\n        if (start != end && user) {\n          selection_user = document.getElementById('sel-' + socket_id + identify);\n\n          if (selection_user) {\n            selection_user.remove();\n          }\n\n          var scrollwidth = element.offsetWidth - element.scrollWidth;\n          var padding_right = parseInt(getComputedStyle(element)[\"paddingRight\"]);\n          selection_user = document.createElement('span');\n          selection_user.id = 'sel-' + socket_id + identify;\n          selection_user.className = 'selectors_by_users';\n          let style_mirror = getComputedStyle(mi_mirror);\n          selection_user.style[\"position\"] = \"absolute\";\n          selection_user.style[\"top\"] = style_mirror.paddingTop;\n          selection_user.style[\"left\"] = style_mirror.paddingLeft;\n          selection_user.style[\"padding-right\"] = scrollwidth + padding_right + \"px\";\n          mi_mirror.insertBefore(selection_user, mi_mirror.firstChild);\n          let selection_span_by_user = document.createElement('span');\n          selection_span_by_user.id = 'selection-' + socket_id + identify;\n          selection_span_by_user.style.backgroundColor = user.color;\n          let value_element = ['TEXTAREA', 'INPUT'].indexOf(element.nodeName) == -1 ? element.innerHTML : element.value;\n          selection_user.textContent = value_element.substring(0, start);\n          let value_span_selection = value_element.substring(start, end) || '';\n          console.log(\"Selection \", value_span_selection, start, end); //selection_span_by_user.style.opacity = 0.5;\n\n          selection_span_by_user.textContent = value_span_selection;\n          selection_user.appendChild(selection_span_by_user);\n        } //end Selections\n        else {\n            if (selection_user) {\n              selection_user.remove();\n            }\n          }\n      }\n    } //end if document_id\n\n  } //end activate_cursors\n\n} //draw_cursor\n\n\nfunction refresh_mirror(element) {\n  var id_mirror = '';\n  let document_id = element.getAttribute('data-document_id') || '';\n\n  if (document_id != '') {\n    name = element.getAttribute('name');\n    if (element.dataset['mirror_id']) id_mirror = element.dataset['mirror_id'];else return; //console.log(\"Refresh \",id_mirror)\n\n    var mi_mirror = document.getElementById(id_mirror);\n    CocreateUtilsCursor.print([\"refresh_mirror \", mi_mirror], debug);\n    var selector_element = element.nodeName + \"[name='\" + name + \"'][data-document_id='\" + document_id + \"']\";\n    CocreateUtilsCursor.print([\"selector -> \" + selector_element], debug);\n\n    if (mi_mirror) {\n      computed = getComputedStyle(element);\n      style = mi_mirror.style;\n      style.width = element.offsetWidth - (parseInt(computed.borderLeftWidth) + parseInt(computed.borderRightWidth)) + 'px';\n      style.height = element.offsetHeight - (parseInt(computed.borderTopWidth) + parseInt(computed.borderBottomWidth)) + 'px';\n      var cursor_container = mi_mirror.querySelectorAll('.cursor-container');\n      cursor_container.forEach(function (child_cursor, index, array) {\n        //console.log(\"REdraw cursor\")\n        let child = child_cursor.querySelector('.cursor-flag');\n        let dataset_child = child.dataset;\n        let dataset = child_cursor.dataset;\n        draw_cursor({\n          element: element,\n          startPosition: dataset.start,\n          endPositon: dataset.end,\n          clientId: dataset.socket_id,\n          user: {\n            'color': dataset_child.user_color,\n            'name': dataset.user_name\n          }\n        });\n      });\n    }\n  } //end document\n\n} //end verify \n\n\nElement.prototype.remove = function () {\n  if (this.parentElement) {\n    this.parentElement.removeChild(this);\n  }\n};\n\nfunction recalculate_local_cursors(element, count) {\n  CocreateUtilsCursor.print(\"count \" + count, debug);\n  let my_start = !element.hasAttribute('contenteditable') ? element.selectionStart : parseInt(element.getAttribute(\"selection_start\")); //let my_start   = element.selectionStart\n\n  let name = element.getAttribute('name') || '';\n  let document_id = element.getAttribute('data-document_id') || '';\n  let collection = element.getAttribute('data-collection') || '';\n  let selector = '[data-collection=\"' + collection + '\"][data-document_id=\"' + document_id + '\"][name=\"' + name + '\"]';\n  let id_mirror = element.dataset['mirror_id']; //let id_mirror = document_id+name+'--mirror-div';\n\n  let mirrorDiv = document.getElementById(id_mirror);\n  let cursor_container = mirrorDiv ? mirrorDiv.querySelectorAll('.cursor-container') : null;\n\n  if (cursor_container) {\n    let containers_cursors = [];\n    cursor_container.forEach(function (child_cursor, index, array) {\n      let start = parseInt(child_cursor.getAttribute('data-start'));\n      let user_name = child_cursor.getAttribute('data-user_name');\n      CocreateUtilsCursor.print([\"my_start local\", my_start, 'start cursor ' + user_name + \" = \", start], debug);\n\n      if (start > my_start && containers_cursors.indexOf(user_name) == -1) {\n        CocreateUtilsCursor.print(\"Es mayor\", debug);\n        let end = parseInt(child_cursor.getAttribute('data-end'));\n        let pos_start = start + count;\n        let pos_end = end + count;\n        CocreateUtilsCursor.print(['pos_start', pos_start, 'pos_end', pos_end], debug);\n        let dataset = child_cursor.querySelector('.cursor-flag').dataset;\n        let clientId = dataset.socket_id;\n        let json = {\n          element: element,\n          startPosition: pos_start,\n          endPositon: pos_end,\n          clientId: clientId,\n          'user': {\n            'color': dataset.user_color,\n            'name': dataset.user_name\n          }\n        };\n        CocreateUtilsCursor.print([\"sent Draw Cursor \", json], debug);\n        draw_cursor(json);\n        containers_cursors.push(user_name);\n      } //mirrorDiv.appendChild(child_cursor);\n\n    });\n  }\n}\n\nfunction initCursorEl(element) {\n  let formulario = getParents(element, 'form');\n  let realtime = element.hasAttribute('data-realtime') ? element.getAttribute('data-realtime') : 'true';\n\n  if (realtime == 'true' || formulario && formulario.getAttribute('data-realtime') == 'true') {\n    if (realtime == 'false') return false;\n    CocreateUtilsCursor.print([\"Init Events \", element], debug);\n    /*\n    element.addEventListener('input',function(event){\n        let start = element.selectionStart;\n        let end = element.selectionEnd;\n        let coordinates = getCaretCoordinates(element,start,end);\n        let count = 0;\n        switch(event.inputType){\n          case 'insertText':\n            count = 1;\n          break;\n          case 'insertFromPaste':\n           // count = event.clipboardData.getData('Text').length\n          break;\n          case 'deleteContentBackward':\n          //case 'insertFromPaste':\n            count = -1;\n          break;\n        }\n        if(count)\n          recalculate_local_cursors(this,count)\n    },false)\n    */\n\n    element.addEventListener('scroll', function () {\n      CocreateUtilsCursor.print([\"Move Scroll \", element], true);\n      let name = element.getAttribute('name');\n      let document_id = element.getAttribute('data-document_id') || '';\n      let id_mirror = element.dataset['mirror_id'];\n      let mi_mirror = document.getElementById(id_mirror);\n\n      if (mi_mirror) {\n        mi_mirror.scrollTo(element.scrollLeft, element.scrollTop);\n      }\n    }, false); //resize\n\n    function outputsize() {\n      element_multicursors.forEach(function (element_for, index, array) {\n        let name = element_for.getAttribute('name');\n        let id_mirror = element.dataset['mirror_id'];\n        CocreateUtilsCursor.print([\"Resize id_mirror -> \" + id_mirror], debug);\n        let mi_mirror = document.getElementById(id_mirror);\n\n        if (mi_mirror) {\n          mi_mirror.style[\"width\"] = element_for.offsetWidth + \"px\";\n          mi_mirror.style[\"height\"] = element_for.offsetHeight + \"px\"; //var isFocused = (document.activeElement === element_for);\n          //verify_cursor(element_for,isFocused)\n\n          var isFocused = document.activeElement === element;\n          if (isFocused) getCaretCoordinates(element, element.selectionStart, element.selectionEnd);\n          refresh_mirror(element);\n        }\n      });\n    }\n\n    new ResizeObserver(outputsize).observe(element); //if (element.nodeName == 'INPUT'){\n\n    element.addEventListener('mousemove', function (event) {\n      let name = element.getAttribute('name');\n      let document_id = element.getAttribute('data-document_id');\n      let id_mirror = element.dataset['mirror_id'];\n      let mi_mirror = document.getElementById(id_mirror);\n      if (mi_mirror) mi_mirror.scrollTo(element.scrollLeft, element.scrollTop);\n    });\n    element.addEventListener('focusout', function (event) {\n      let name = element.getAttribute('name');\n      let document_id = element.getAttribute('data-document_id') || '';\n      let id_mirror = element.dataset['mirror_id'];\n      let mi_mirror = document.getElementById(id_mirror);\n      if (mi_mirror) mi_mirror.scrollTo(element.scrollLeft, element.scrollTop);\n    });\n    element.addEventListener('keydown', function (event) {\n      //console.log(\"keydown L,T => \",element.scrollLeft,element.scrollTop)\n      let name = element.getAttribute('name');\n      let id_mirror = element.dataset['mirror_id'];\n      let mi_mirror = document.getElementById(id_mirror);\n\n      if (mi_mirror) {\n        mi_mirror.scrollTo(element.scrollLeft, element.scrollTop);\n        refresh_mirror(element);\n      }\n    });\n    element.addEventListener('keyup', function (event) {\n      //console.log(\"keyup L,T => \",element.scrollLeft,element.scrollTop)\n      let name = element.getAttribute('name');\n      let id_mirror = element.dataset['mirror_id'];\n      let mi_mirror = document.getElementById(id_mirror);\n      if (mi_mirror) mi_mirror.scrollTo(element.scrollLeft, element.scrollTop);\n    }); //}\n  } //end if realtime TRUE\n\n}\n\nvar initialize_multicursor = function (element_multicursors) {\n  element_multicursors.forEach(function (element, index, array) {\n    initCursorEl(element);\n  }); // element_multicursors.forEach\n}; //end initialize_multicursor \n\n\nwindow.addEventListener('resize', function (e) {\n  //console.log(\"resize windows\")\n  document.querySelectorAll('[data-mirror_id]').forEach(function (element, index, array) {\n    refresh_mirror(element);\n  }); // element_multicursors.forEach\n}, true);\ndocument.addEventListener('scroll', function (e) {\n  //console.log(\"Scroll \")\n  //console.log(\"scroll windows\",document.body.scrollLeft,document.body.scrollTop)\n  //element_multicursors.forEach(function (element, index, array) {\n  document.querySelectorAll('[data-mirror_id]').forEach(function (element, index, array) {\n    refresh_mirror(element);\n  }); // element_multicursors.forEach\n}, true);\n\nfunction initCursorElements(container) {\n  let mainContainer = container || window;\n\n  if (!mainContainer.querySelectorAll) {\n    return;\n  }\n\n  let elements = mainContainer.querySelectorAll('[data-realtime=true]');\n  elements.forEach(el => {\n    initCursorEl(el);\n  });\n}\n\nif (debug) console.log(\"elements to INIT -> \", element_multicursors);\ninitialize_multicursor(element_multicursors); // CoCreateInit.register_old('[data-realtime=true]',initCursorEl);\n// CoCreateInit.register('CoCreateCursor', window, initCursorElements);\n\n_observer.default.init({\n  name: 'CoCreateCursor',\n  observe: ['subtree', 'childList'],\n  include: '[data-collection][data-document_id][name][data-realtime=true]',\n  callback: function (mutation) {\n    initCursorElements(mutation.target);\n  }\n});\n\nconst CoCreateCursors = {\n  draw_cursor,\n  refresh_mirror,\n  recalculate_local_cursors\n};\nvar _default = CoCreateCursors;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5xdWlsbC8vaG9tZS91YnVudHUvZW52aXJvbm1lbnQvcHVibGljL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtY3Vyc29ycy9zcmMvaW5kZXguanM/ZDY4OSJdLCJuYW1lcyI6WyJlbGVtZW50X211bHRpY3Vyc29ycyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImRlYnVnIiwiZW52aXJvbWVudF9wcm9kIiwicHJvcGVydGllcyIsImxlbmd0aF91dWlkIiwiQ29jcmVhdGVVdGlsc0N1cnNvciIsInByaW50IiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJnZW5lcmF0ZVVVSUQiLCJsZW5ndGgiLCJkIiwiRGF0ZSIsImdldFRpbWUiLCJkMiIsInBlcmZvcm1hbmNlIiwibm93IiwidXVpZCIsInJlcGxhY2UiLCJjIiwiciIsIk1hdGgiLCJyYW5kb20iLCJmbG9vciIsInRvU3RyaW5nIiwic3Vic3RyIiwiZ2V0UGFyZW50cyIsImVsZW0iLCJzZWxlY3RvciIsIm1pcnJvckRpdiIsImNvbXB1dGVkIiwic3R5bGUiLCJjb21wdXRlZFBhcmVudEVsZW1lbnQiLCJnZXRDYXJldENvb3JkaW5hdGVzIiwiZWxlbWVudCIsInBvc2l0aW9uX3N0YXJ0IiwicG9zaXRpb25fZW5kIiwibmFtZSIsImdldEF0dHJpYnV0ZSIsImRvY3VtZW50X2lkIiwiSURfTUlSUk9SIiwiZGF0YXNldCIsImdldEVsZW1lbnRCeUlkIiwiYWRkX2NsYXNzX3Njcm9sbCIsImNsYXNzTmFtZSIsImluZGV4T2YiLCJjcmVhdGVFbGVtZW50IiwiaWQiLCJpbnNlcnRBZGphY2VudEVsZW1lbnQiLCJzY3JvbGx3aWR0aCIsIm9mZnNldFdpZHRoIiwic2Nyb2xsV2lkdGgiLCJnZXRDb21wdXRlZFN0eWxlIiwicGFyZW50RWxlbWVudCIsIm1hcmdpbl90b3AiLCJwYXJzZUludCIsIm1hcmdpbl9sZWZ0Iiwibm9kZU5hbWUiLCJ3b3JkV3JhcCIsIndoaXRlU3BhY2UiLCJwb3NpdGlvbiIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJzY3Jyb2xsVG9wX2Jyb3dzZXIiLCJkb2N1bWVudEVsZW1lbnQiLCJzY3JvbGxUb3AiLCJ0b3AiLCJvZmZzZXRUb3AiLCJsZWZ0Iiwib2Zmc2V0TGVmdCIsIndpZHRoIiwiaGVpZ2h0IiwidmlzaWJpbGl0eSIsImZvckVhY2giLCJwcm9wIiwidG9Mb3dlckNhc2UiLCJvdmVyZmxvd1giLCJvdmVyZmxvd1kiLCJtYXJnaW4iLCJib3JkZXIiLCJib3JkZXJDb2xvciIsImN1cnNvcl9jb250YWluZXIiLCJzZWxlY3RvcnNfYnlfdXNlcnMiLCJ2YWx1ZV9lbGVtZW50IiwiaW5uZXJIVE1MIiwidmFsdWUiLCJ0ZXh0Q29udGVudCIsInN1YnN0cmluZyIsInNwYW4iLCJ2YWx1ZV9zcGFuIiwiYXBwZW5kQ2hpbGQiLCJjaGlsZF9jdXJzb3IiLCJpbmRleCIsImFycmF5IiwiY2hpbGRfc2VsZWN0aW9uIiwidmFsdWVfZW5kIiwic3Bhbl9lbmQiLCJjb29yZGluYXRlcyIsInN0YXJ0IiwiZW5kIiwiZ2V0U3R5bGUiLCJlbCIsInN0eWxlUHJvcCIsIndpbmRvdyIsInkiLCJkZWZhdWx0VmlldyIsImdldFByb3BlcnR5VmFsdWUiLCJnZXREb2N1bWVudCIsImNvbGxlY3Rpb24iLCJtb2R1bGVfaWQiLCJjcnVkIiwicmVhZERvY3VtZW50IiwibGlzdGVuIiwiZGF0YSIsImN1cnNvciIsInF1ZXJ5U2VsZWN0b3IiLCJyZXN1bHQiLCJkcmF3X2N1cnNvciIsImpzb24iLCJhY3RpdmF0ZV9jdXJzb3IiLCJzb2NrZXRfaWQiLCJpZF9taXJyb3IiLCJtaV9taXJyb3IiLCJzZWxlY3Rpb25fdXNlciIsImlkZW50aWZ5IiwidXNlciIsImhhc093blByb3BlcnR5IiwidXNlcl9pZCIsImN1cnNvcmVzX290aGVyX2VsZW1lbnRzIiwicmVtb3ZlIiwiY3Vyc29yX3RlbXBsYXRlIiwiY29sb3IiLCJmb250X3NpemUiLCJwYXJzZUZsb2F0IiwiY3Vyc29yX2hlaWdodCIsIm15X2N1cnNvciIsInBhZGRpbmdfcmlnaHQiLCJzdHlsZV9taXJyb3IiLCJwYWRkaW5nVG9wIiwicGFkZGluZ0xlZnQiLCJpbnNlcnRCZWZvcmUiLCJmaXJzdENoaWxkIiwic2VsZWN0aW9uX3NwYW5fYnlfdXNlciIsImJhY2tncm91bmRDb2xvciIsInZhbHVlX3NwYW5fc2VsZWN0aW9uIiwicmVmcmVzaF9taXJyb3IiLCJzZWxlY3Rvcl9lbGVtZW50IiwiYm9yZGVyTGVmdFdpZHRoIiwiYm9yZGVyUmlnaHRXaWR0aCIsIm9mZnNldEhlaWdodCIsImJvcmRlclRvcFdpZHRoIiwiYm9yZGVyQm90dG9tV2lkdGgiLCJjaGlsZCIsImRhdGFzZXRfY2hpbGQiLCJzdGFydFBvc2l0aW9uIiwiZW5kUG9zaXRvbiIsImNsaWVudElkIiwidXNlcl9jb2xvciIsInVzZXJfbmFtZSIsIkVsZW1lbnQiLCJwcm90b3R5cGUiLCJyZW1vdmVDaGlsZCIsInJlY2FsY3VsYXRlX2xvY2FsX2N1cnNvcnMiLCJjb3VudCIsIm15X3N0YXJ0IiwiaGFzQXR0cmlidXRlIiwic2VsZWN0aW9uU3RhcnQiLCJjb250YWluZXJzX2N1cnNvcnMiLCJwb3Nfc3RhcnQiLCJwb3NfZW5kIiwicHVzaCIsImluaXRDdXJzb3JFbCIsImZvcm11bGFyaW8iLCJyZWFsdGltZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJzY3JvbGxUbyIsInNjcm9sbExlZnQiLCJvdXRwdXRzaXplIiwiZWxlbWVudF9mb3IiLCJpc0ZvY3VzZWQiLCJhY3RpdmVFbGVtZW50Iiwic2VsZWN0aW9uRW5kIiwiUmVzaXplT2JzZXJ2ZXIiLCJvYnNlcnZlIiwiZXZlbnQiLCJpbml0aWFsaXplX211bHRpY3Vyc29yIiwiZSIsImluaXRDdXJzb3JFbGVtZW50cyIsImNvbnRhaW5lciIsIm1haW5Db250YWluZXIiLCJlbGVtZW50cyIsIm9ic2VydmVyIiwiaW5pdCIsImluY2x1ZGUiLCJjYWxsYmFjayIsIm11dGF0aW9uIiwidGFyZ2V0IiwiQ29D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LFNBQUQsRUFBWSxXQUFaLENBRkk7QUFHYlUsU0FBTyxFQUFFLCtEQUhJO0FBSWJDLFVBQVEsRUFBRSxVQUFTQyxRQUFULEVBQW1CO0FBQzVCUixzQkFBa0IsQ0FBQ1EsUUFBUSxDQUFDQyxNQUFWLENBQWxCO0FBQ0E7QUFOWSxDQUFkOztBQVNBLE1BQU1DLGVBQWUsR0FBRztBQUFFaEYsYUFBRjtBQUFlNEIsZ0JBQWY7QUFBK0JpQjtBQUEvQixDQUF4QjtlQUNlbUMsZSIsImZpbGUiOiIuLi8uLi9Db0NyZWF0ZS1jb21wb25lbnRzL0NvQ3JlYXRlLWN1cnNvcnMvc3JjL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypnbG9iYWwgRWxlbWVudCovXG5pbXBvcnQgb2JzZXJ2ZXIgZnJvbSAnQGNvY3JlYXRlL29ic2VydmVyJ1xuaW1wb3J0IHV0aWxzIGZyb20gJ0Bjb2NyZWF0ZS91dGlscyc7XG5pbXBvcnQgY3J1ZCBmcm9tICdAY29jcmVhdGUvY3J1ZCc7XG5pbXBvcnQgaW5wdXQgZnJvbSAnQGNvY3JlYXRlL2lucHV0J1xuXG5cbi8qKlVzbyBlc3RhIHZhcmlhYmxlIHBhcmEgbW9zdHJhciBlcnJvcmVzIGVuIGNhc28gcXVlIG5vIGVzdGUgZW4gcHJvZCovXG5cbnZhciBlbGVtZW50X211bHRpY3Vyc29ycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0LHRleHRhcmVhLFtjb250ZW50ZWRpdGFibGVdJylcblxuLy9jb25zb2xlLmxvZyhlbGVtZW50X211bHRpY3Vyc29ycylcbnZhciBkZWJ1ZyA9IGZhbHNlXG52YXIgZW52aXJvbWVudF9wcm9kID0gdHJ1ZVxudmFyIHByb3BlcnRpZXMgPSBbJ2JveFNpemluZycsJ2JvcmRlclRvcFdpZHRoJywnYm9yZGVyUmlnaHRXaWR0aCcsJ2JvcmRlckJvdHRvbVdpZHRoJywnYm9yZGVyTGVmdFdpZHRoJywncGFkZGluZ1RvcCcsJ3BhZGRpbmdSaWdodCcsJ3BhZGRpbmdCb3R0b20nLCdwYWRkaW5nTGVmdCcsJ21hcmdpblRvcCcsJ21hcmdpblJpZ2h0JywnbWFyZ2luQm90dG9tJywnbWFyZ2luTGVmdCcsJ2ZvbnRTdHlsZScsJ2ZvbnRWYXJpYW50JywnZm9udFdlaWdodCcsJ2ZvbnRTdHJldGNoJywnZm9udFNpemUnLCdsaW5lSGVpZ2h0JywnZm9udEZhbWlseScsJ3RleHRBbGlnbicsJ3RleHRUcmFuc2Zvcm0nLCd0ZXh0SW5kZW50JywndGV4dERlY29yYXRpb24nLCdsZXR0ZXJTcGFjaW5nJywnd29yZFNwYWNpbmcnLCd0ZXh0UmVuZGVyaW5nJywnd2Via2l0V3JpdGluZ01vZGUnLCd0ZXh0VHJhbnNmb3JtJywndGV4dEluZGVudCcsJ292ZXJmbG93V3JhcCddO1xudmFyIGxlbmd0aF91dWlkID0gMzA7XG5cblxuY2xhc3MgQ29jcmVhdGVVdGlsc0N1cnNvcntcbiAgXG4gIHN0YXRpYyBwcmludChtZXNzYWdlLGRlYnVnKSB7XG4gICAgZGVidWcgPSBkZWJ1ZyB8fCBmYWxzZTtcbiAgICBpZihkZWJ1ZylcbiAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpXG4gIH1cbiAgXG4gIHN0YXRpYyBnZW5lcmF0ZVVVSUQobGVuZ3RoPW51bGwpIHtcbiAgICB2YXIgZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIHZhciBkMiA9IChwZXJmb3JtYW5jZSAmJiBwZXJmb3JtYW5jZS5ub3cgJiYgKHBlcmZvcm1hbmNlLm5vdygpKjEwMDApKSB8fCAwOy8vVGltZSBpbiBtaWNyb3NlY29uZHMgc2luY2UgcGFnZS1sb2FkIG9yIDAgaWYgdW5zdXBwb3J0ZWRcbiAgICB2YXIgdXVpZCA9ICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24oYykge1xuICAgICAgICB2YXIgciA9IE1hdGgucmFuZG9tKCkgKiAxNjtcbiAgICAgICAgaWYoZCA+IDApe1xuICAgICAgICAgICAgdmFyIHIgPSAoZCArIHIpJTE2IHwgMDtcbiAgICAgICAgICAgIGQgPSBNYXRoLmZsb29yKGQvMTYpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHIgPSAoZDIgKyByKSUxNiB8IDA7XG4gICAgICAgICAgICBkMiA9IE1hdGguZmxvb3IoZDIvMTYpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoYz09J3gnID8gciA6IChyJjB4N3wweDgpKS50b1N0cmluZygxNik7XG4gICAgfSk7XG4gICAgaWYobGVuZ3RoIT1udWxsKXtcbiAgICAgIHV1aWQgPSB1dWlkLnN1YnN0cigwLGxlbmd0aClcbiAgICB9XG4gICAgcmV0dXJuIHV1aWQ7XG4gIH1cbiAgXG59XG5cbnZhciBnZXRQYXJlbnRzID0gZnVuY3Rpb24gKGVsZW0sIHNlbGVjdG9yKSB7XG5cbi8vIFx0aWYgKCFFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzKSB7XG4vLyBcdFx0RWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcyA9XG4vLyBcdFx0XHRFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzU2VsZWN0b3IgfHxcbi8vIFx0XHRcdEVsZW1lbnQucHJvdG90eXBlLm1vek1hdGNoZXNTZWxlY3RvciB8fFxuLy8gXHRcdFx0RWxlbWVudC5wcm90b3R5cGUubXNNYXRjaGVzU2VsZWN0b3IgfHxcbi8vIFx0XHRcdEVsZW1lbnQucHJvdG90eXBlLm9NYXRjaGVzU2VsZWN0b3IgfHxcbi8vIFx0XHRcdEVsZW1lbnQucHJvdG90eXBlLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fFxuLy8gXHRcdFx0ZnVuY3Rpb24ocykge1xuLy8gXHRcdFx0XHR2YXIgbWF0Y2hlcyA9ICh0aGlzLmRvY3VtZW50IHx8IHRoaXMub3duZXJEb2N1bWVudCkucXVlcnlTZWxlY3RvckFsbChzKSxcbi8vIFx0XHRcdFx0XHRpID0gbWF0Y2hlcy5sZW5ndGg7XG4vLyBcdFx0XHRcdHdoaWxlICgtLWkgPj0gMCAmJiBtYXRjaGVzLml0ZW0oaSkgIT09IHRoaXMpIHt9XG4vLyBcdFx0XHRcdHJldHVybiBpID4gLTE7XG4vLyBcdFx0XHR9O1xuLy8gXHR9XG59XG5cbnZhciBtaXJyb3JEaXYsIGNvbXB1dGVkLCBzdHlsZSwgY29tcHV0ZWRQYXJlbnRFbGVtZW50O1xuXG52YXIgZ2V0Q2FyZXRDb29yZGluYXRlcyA9IGZ1bmN0aW9uIChlbGVtZW50LCBwb3NpdGlvbl9zdGFydCwgcG9zaXRpb25fZW5kKSB7XG4gIC8vIG1pcnJvcmVkIGRpdlxuICBsZXQgbmFtZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCduYW1lJylcbiAgbGV0IGRvY3VtZW50X2lkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKSB8fCAnJztcbiAgaWYoZG9jdW1lbnRfaWQgPT0gJycpe1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgSURfTUlSUk9SID0gZWxlbWVudC5kYXRhc2V0WydtaXJyb3JfaWQnXTsgLy9kb2N1bWVudF9pZCArIG5hbWUgKyAgJy0tbWlycm9yLWRpdic7XG4gIG1pcnJvckRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKElEX01JUlJPUik7XG4gIHZhciBhZGRfY2xhc3Nfc2Nyb2xsID0gKGVsZW1lbnQuY2xhc3NOYW1lLmluZGV4T2YoJ2Zsb2F0aW5nLWxhYmVsJykgPT0gLTEpID8gZmFsc2UgOiB0cnVlO1xuXG4gIGlmICghbWlycm9yRGl2KSB7XG4gICAgbWlycm9yRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbWlycm9yRGl2LmlkID0gSURfTUlSUk9SOy8vZG9jdW1lbnRfaWQgK25hbWUrICctLW1pcnJvci1kaXYnO1xuICAgICAgbWlycm9yRGl2LmNsYXNzTmFtZSA9IChlbnZpcm9tZW50X3Byb2QpID8gJ21pcnJvcl9jb2xvciBtaXJyb3Jfc2Nyb2xsIG1pcnJvci13aWR0aC1zY3JvbGwnIDogJ21pcnJvci13aWR0aC1zY3JvbGwnO1xuICAgIC8vZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtaXJyb3JEaXYpO1xuICAgIGVsZW1lbnQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdhZnRlcmVuZCcsbWlycm9yRGl2KTtcbiAgfVxuXG4gIHZhciBzY3JvbGx3aWR0aCA9IGVsZW1lbnQub2Zmc2V0V2lkdGggLSBlbGVtZW50LnNjcm9sbFdpZHRoO1xuXG4gIHN0eWxlID0gbWlycm9yRGl2LnN0eWxlO1xuICBjb21wdXRlZCA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gIGNvbXB1dGVkUGFyZW50RWxlbWVudCA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudC5wYXJlbnRFbGVtZW50KTtcbiAgbGV0IG1hcmdpbl90b3AgPSBwYXJzZUludChjb21wdXRlZFsnbWFyZ2luVG9wJ10pXG4gIGxldCBtYXJnaW5fbGVmdCA9IHBhcnNlSW50KGNvbXB1dGVkWydtYXJnaW5MZWZ0J10pXG5cbiAgaWYgKGVsZW1lbnQubm9kZU5hbWUgIT09ICdJTlBVVCcpe1xuICAgIHN0eWxlLndvcmRXcmFwID0gJ2JyZWFrLXdvcmQnOyAgLy8gb25seSBmb3IgdGV4dGFyZWEtc1xuICAgIHN0eWxlLndoaXRlU3BhY2UgPSAncHJlLXdyYXAnO1xuICB9ZWxzZXtcbiAgICBzdHlsZS53aGl0ZVNwYWNlID0gJ3ByZSc7XG4gIH1cbiAgLy8gcG9zaXRpb24gb2ZmLXNjcmVlblxuICBzdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7ICAvLyByZXF1aXJlZCB0byByZXR1cm4gY29vcmRpbmF0ZXMgcHJvcGVybHlcbiAgXG4gIHZhciByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsgLy8gZ2V0IFBvc2l0aW9uIGZyb20gZWxlbWVudFxuICBcbiAgXG4gIGxldCBzY3Jyb2xsVG9wX2Jyb3dzZXIgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wXG4gIFxuICAvL3N0eWxlLnRvcCA9ICgocmVjdC50b3Arc2Nycm9sbFRvcF9icm93c2VyKS0xKSAtIChwYXJzZUludChjb21wdXRlZFsnbWFyZ2luVG9wJ10pIC0gcGFyc2VJbnQoY29tcHV0ZWRbJ2JvcmRlclRvcFdpZHRoJ10pICkgKyAncHgnLy9wYXJzZUludChjb21wdXRlZC5ib3JkZXJUb3BXaWR0aCkgKyAncHgnOyAvLyAgZWxlbWVudC5vZmZzZXRUb3AgKyBwYXJzZUludChjb21wdXRlZC5ib3JkZXJUb3BXaWR0aCkgKyAncHgnO1xuICAvL3N0eWxlLnRvcCA9IGNvbXB1dGVkUGFyZW50RWxlbWVudFsndG9wJ107XG4gIHN0eWxlLnRvcCA9IGVsZW1lbnQub2Zmc2V0VG9wKydweCc7XG4gIC8vc3R5bGUubGVmdCA9IHJlY3QubGVmdCAtIChwYXJzZUludChjb21wdXRlZFsnbWFyZ2luTGVmdCddKSAtICBwYXJzZUludChjb21wdXRlZFsnYm9yZGVyTGVmdFdpZHRoJ10pICkgKyAncHgnLy9wYXJzZUludChjb21wdXRlZC5ib3JkZXJMZWZ0V2lkdGgpICsgJ3B4JyAgIC8vIG1hcmdpbl9sZWZ0K1wicHhcIjsvL1wiNDAwcHhcIjtcbiAgLy9zdHlsZS5sZWZ0ID0gIGNvbXB1dGVkUGFyZW50RWxlbWVudFsnbGVmdCddO1xuICBzdHlsZS5sZWZ0ID0gZWxlbWVudC5vZmZzZXRMZWZ0KydweCc7XG4gIHN0eWxlLndpZHRoID0gcmVjdC53aWR0aCsncHgnOy8vIC0gKHBhcnNlSW50KGNvbXB1dGVkLmJvcmRlckxlZnRXaWR0aCkgKyBwYXJzZUludChjb21wdXRlZC5ib3JkZXJSaWdodFdpZHRoKSkgKyAncHgnICAgLy8gbWFyZ2luX2xlZnQrXCJweFwiOy8vXCI0MDBweFwiO1xuICBzdHlsZS5oZWlnaHQgPSByZWN0LmhlaWdodCsncHgnOy8vIC0gKHBhcnNlSW50KGNvbXB1dGVkLmJvcmRlclRvcFdpZHRoKSArIHBhcnNlSW50KGNvbXB1dGVkLmJvcmRlckJvdHRvbVdpZHRoKSkgKyAncHgnICAgLy8gbWFyZ2luX2xlZnQrXCJweFwiOy8vXCI0MDBweFwiO1xuICBzdHlsZS52aXNpYmlsaXR5ID0ndmlzaWJsZSdcbiAgcHJvcGVydGllcy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgaWYoWydsZWZ0JywndG9wJ10uaW5kZXhPZihwcm9wLnRvTG93ZXJDYXNlKCkpID09PSAtMSlcbiAgICBzdHlsZVtwcm9wXSA9IGNvbXB1dGVkW3Byb3BdO1xuICB9KTtcbiAgXG4gIHN0eWxlLm92ZXJmbG93WCA9J2F1dG8nO1xuICBzdHlsZS5vdmVyZmxvd1kgPSdoaWRkZW4nO1xuICBzdHlsZS5tYXJnaW4gPSAnMHB4J1xuICAvL3N0eWxlLnBhZGRpbmcgPSAnMHB4J1xuICBzdHlsZS5ib3JkZXIgPSBjb21wdXRlZFsnYm9yZGVyJ107XG4gIHN0eWxlLmJvcmRlckNvbG9yID0gJ3RyYW5zcGFyZW50JztcbiAgLyogXG4gIGlmKGVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09J2lucHV0Jyl7XG4gICAgc3R5bGUub3ZlcmZsb3dYID0nYXV0byc7XG4gICAgc3R5bGUub3ZlcmZsb3dZID0naGlkZGVuJztcbiAgfWVsc2V7XG4gICAgc3R5bGUub3ZlcmZsb3c9XCJ2aXNpYmxlXCJcbiAgfSovXG4gIFxuICAvLyBzdHlsZS5wYWRkaW5nUmlnaHQgPSAocGFyc2VJbnQoc3R5bGUucGFkZGluZ1JpZ2h0KSArIHNjcm9sbHdpZHRoIC0gcGFyc2VJbnQoY29tcHV0ZWQuYm9yZGVyUmlnaHRXaWR0aCkpICsncHgnO1xuICBsZXQgY3Vyc29yX2NvbnRhaW5lciA9IG1pcnJvckRpdi5xdWVyeVNlbGVjdG9yQWxsKCcuY3Vyc29yLWNvbnRhaW5lcicpO1xuICBsZXQgc2VsZWN0b3JzX2J5X3VzZXJzID0gbWlycm9yRGl2LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWxlY3RvcnNfYnlfdXNlcnMnKTtcbiAgbGV0IHZhbHVlX2VsZW1lbnQgPSAoWydURVhUQVJFQScsJ0lOUFVUJ10uaW5kZXhPZihlbGVtZW50Lm5vZGVOYW1lKT09LTEpID9lbGVtZW50LmlubmVySFRNTCA6ZWxlbWVudC52YWx1ZTtcblxuICBtaXJyb3JEaXYudGV4dENvbnRlbnQgPSB2YWx1ZV9lbGVtZW50LnN1YnN0cmluZygwLCBwb3NpdGlvbl9zdGFydCk7XG4gIGlmIChlbGVtZW50Lm5vZGVOYW1lID09PSAnSU5QVVQnKVxuICAgIG1pcnJvckRpdi50ZXh0Q29udGVudCA9IG1pcnJvckRpdi50ZXh0Q29udGVudC5yZXBsYWNlKC9cXHMvZywgXCJcXHUwMGEwXCIpO1xuICB2YXIgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgc3Bhbi5pZCA9IGVsZW1lbnQubm9kZU5hbWUgKyAnc3Bhbl9zZWxlY3Rpb25zJztcbiAgbGV0IHZhbHVlX3NwYW4gPSB2YWx1ZV9lbGVtZW50LnN1YnN0cmluZyhwb3NpdGlvbl9zdGFydCxwb3NpdGlvbl9lbmQpIHx8ICcnXG4gIHNwYW4udGV4dENvbnRlbnQgPSB2YWx1ZV9zcGFuOyAgLy8gfHwgYmVjYXVzZSBhIGNvbXBsZXRlbHkgZW1wdHkgZmF1eCBzcGFuIGRvZXNuJ3QgcmVuZGVyIGF0IGFsbFxuICAvL3NwYW4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJsaWdodGdyZXlcIjtcbiAgbWlycm9yRGl2LmFwcGVuZENoaWxkKHNwYW4pO1xuICBcbiAgaWYoY3Vyc29yX2NvbnRhaW5lcil7XG4gICAgICBjdXJzb3JfY29udGFpbmVyLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkX2N1cnNvciwgaW5kZXgsIGFycmF5KSB7XG4gICAgICAgIG1pcnJvckRpdi5hcHBlbmRDaGlsZChjaGlsZF9jdXJzb3IpO1xuICAgIH0pXG4gIH1cbiAgXG4gIGlmKHNlbGVjdG9yc19ieV91c2Vycyl7XG4gICAgc2VsZWN0b3JzX2J5X3VzZXJzLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkX3NlbGVjdGlvbiwgaW5kZXgsIGFycmF5KSB7XG4gICAgICAgIG1pcnJvckRpdi5hcHBlbmRDaGlsZChjaGlsZF9zZWxlY3Rpb24pO1xuICAgIH0pXG4gIH1cbiAgXG4gIGxldCB2YWx1ZV9lbmQgPSB2YWx1ZV9lbGVtZW50LnN1YnN0cmluZyhwb3NpdGlvbl9lbmQpICB8fCAnJztcbiAgdmFyIHNwYW5fZW5kID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICBtaXJyb3JEaXYuYXBwZW5kQ2hpbGQoc3Bhbl9lbmQpO1xuICBzcGFuX2VuZC50ZXh0Q29udGVudCA9IHZhbHVlX2VuZDtcbiAgdmFyIHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOyAvLyBnZXQgUG9zaXRpb24gZnJvbSBlbGVtZW50XG4gIHZhciBjb29yZGluYXRlcyA9IHtcbiAgICBzdGFydCA6IHtcbiAgICAgICAgdG9wOiBzcGFuLm9mZnNldFRvcCxcbiAgICAgICAgbGVmdDogIHNwYW4ub2Zmc2V0TGVmdFxuICAgIH0sXG4gICAgZW5kIDoge1xuICAgICAgICB0b3A6IHNwYW5fZW5kLm9mZnNldFRvcCwgLy8rIHBhcnNlSW50KGNvbXB1dGVkWydib3JkZXJUb3BXaWR0aCddKSxcbiAgICAgICAgbGVmdDogIHNwYW5fZW5kLm9mZnNldExlZnQgLy8gKyBwYXJzZUludChjb21wdXRlZFsnYm9yZGVyTGVmdFdpZHRoJ10pXG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBjb29yZGluYXRlcztcbn1cblxuZnVuY3Rpb24gZ2V0U3R5bGUoZWwsc3R5bGVQcm9wKVxue1xuICAgIGlmICh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSlcbiAgICAgICAgdmFyIHkgPSBkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGVsLG51bGwpLmdldFByb3BlcnR5VmFsdWUoc3R5bGVQcm9wKTtcbiAgICByZXR1cm4geTtcbn1cblxuXG5mdW5jdGlvbiBnZXREb2N1bWVudChjb2xsZWN0aW9uLG1vZHVsZV9pZCl7XG4gIGNydWQucmVhZERvY3VtZW50KHtcbiAgICAnY29sbGVjdGlvbic6IGNvbGxlY3Rpb24sXG4gICAgJ2RvY3VtZW50X2lkJzogbW9kdWxlX2lkXG4gIH0pXG59XG5cbmNydWQubGlzdGVuKCdyZWFkRG9jdW1lbnQnLCBmdW5jdGlvbihkYXRhKSB7XG4gICAgbGV0IGN1cnNvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jdXJzb3ItZmxhZ1tkYXRhLWRvY3VtZW50X2lkPVwiJytkYXRhWydkb2N1bWVudF9pZCddKydcIl0nKVxuICAgIGlmIChjdXJzb3IpXG4gICAgICBjdXJzb3IuaW5uZXJIVE1MID0gZGF0YS5yZXN1bHRbY3Vyc29yLmdldEF0dHJpYnV0ZSgnbmFtZScpXVxufSlcblxuXG5mdW5jdGlvbiBkcmF3X2N1cnNvcihqc29uKXtcbiAgICAgICAgQ29jcmVhdGVVdGlsc0N1cnNvci5wcmludChbXCJkcmF3IEN1cnNvciBcIixqc29uXSxkZWJ1ZylcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBqc29uWydlbGVtZW50J107XG4gICAgICAgIGxldCBhY3RpdmF0ZV9jdXJzb3IgPSAoZWxlbWVudC5kYXRhc2V0WydjdXJzb3JzJ10pP2VsZW1lbnQuZGF0YXNldFsnbWlycm9yX2lkJ106dHJ1ZTtcbiAgICAgICAgaWYoYWN0aXZhdGVfY3Vyc29yKXtcbiAgICAgICAgICBsZXQgc3RhcnQgPSBqc29uWydzdGFydFBvc2l0aW9uJ11cbiAgICAgICAgICBsZXQgZW5kID0ganNvblsnZW5kUG9zaXRvbiddXG4gICAgICAgICAgbGV0IHNvY2tldF9pZCA9IGpzb25bJ2NsaWVudElkJ11cbiAgICAgICAgICBsZXQgZG9jdW1lbnRfaWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcpIHx8ICcnO1xuICAgICAgICAgIGlmKGRvY3VtZW50X2lkIT0nJyl7XG4gICAgICAgICAgICBDb2NyZWF0ZVV0aWxzQ3Vyc29yLnByaW50KFwiYWN0aW9uIGRvY3VtZW50X2lkIFwiICsgZG9jdW1lbnRfaWQsZGVidWcpXG4gICAgICAgICAgICBpZiggdHlwZW9mIGVsZW1lbnQuZGF0YXNldFsnbWlycm9yX2lkJ10gPT0gJ3VuZGVmaW5lZCcgfHwgZWxlbWVudC5kYXRhc2V0WydtaXJyb3JfaWQnXSA9PSAnJylcbiAgICAgICAgICAgICAgICBlbGVtZW50LmRhdGFzZXRbJ21pcnJvcl9pZCddID0gQ29jcmVhdGVVdGlsc0N1cnNvci5nZW5lcmF0ZVVVSUQobGVuZ3RoX3V1aWQpXG4gICAgICAgICAgICBsZXQgY29vcmRpbmF0ZXMgPSBnZXRDYXJldENvb3JkaW5hdGVzKGVsZW1lbnQsc3RhcnQsZW5kKTtcbiAgICAgICAgICAgIGlmKCFjb29yZGluYXRlcylcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgbGV0IG5hbWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnbmFtZScpXG4gICAgICAgICAgICBsZXQgaWRfbWlycm9yID0gZWxlbWVudC5kYXRhc2V0WydtaXJyb3JfaWQnXTsgLy9kb2N1bWVudF9pZCtuYW1lKyctLW1pcnJvci1kaXYnXG4gICAgICAgICAgICBsZXQgbWlfbWlycm9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWRfbWlycm9yKVxuICAgICAgICAgICAgbGV0IGN1cnNvciA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IHNlbGVjdGlvbl91c2VyID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgaWRlbnRpZnkgPSAnXycraWRfbWlycm9yO1xuICAgICAgICAgICAgbGV0IHVzZXIgPSAodHlwZW9mKGpzb24pICE9ICd1bmRlZmluZWQnICYmIGpzb24uaGFzT3duUHJvcGVydHkoJ3VzZXInKSkgPyBqc29uLnVzZXIgOiBmYWxzZVxuICAgICAgICAgICAgbGV0IHVzZXJfaWQgPSAodHlwZW9mKGpzb24pICE9ICd1bmRlZmluZWQnICYmIGpzb24uaGFzT3duUHJvcGVydHkoJ3VzZXJfaWQnKSApID8gIHVzZXIudXNlcl9pZCA6IGZhbHNlXG4gICAgICAgICAgICBpZiAoc29ja2V0X2lkKXtcbiAgICAgICAgICAgICAgIC8vaWYoZGF0YSAmJiBkYXRhLmhhc093blByb3BlcnR5KCdpZF9taXJyb3InKSl7XG4gICAgICAgICAgICAgICAgIHZhciBjdXJzb3Jlc19vdGhlcl9lbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNzb2NrZXRfJytzb2NrZXRfaWQraWRlbnRpZnkpXG4gICAgICAgICAgICAgICAgIGN1cnNvcmVzX290aGVyX2VsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24oY2hpbGRfY3Vyc29yLCBpbmRleCwgYXJyYXkpe1xuICAgICAgICAgICAgICAgICAgIGlmKGNoaWxkX2N1cnNvci5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnaWQnKSAhPSBpZF9taXJyb3Ipe1xuICAgICAgICAgICAgICAgICAgICAgQ29jcmVhdGVVdGlsc0N1cnNvci5wcmludChcInJlbW92ZSBvbGQgY3Vyc29yIG90aGVycyBlbGVtZW50c1wiLGRlYnVnKVxuICAgICAgICAgICAgICAgICAgICAgIGNoaWxkX2N1cnNvci5yZW1vdmUoKVxuICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgIC8vfVxuICAgICAgICAgICAgICAgICBjdXJzb3IgPSBtaV9taXJyb3IucXVlcnlTZWxlY3RvcignLmN1cnNvci1jb250YWluZXIjc29ja2V0Xycrc29ja2V0X2lkK2lkZW50aWZ5KTtcbiAgICAgICAgICAgICAgICAgaWYoIWN1cnNvciAgJiYganNvbi5oYXNPd25Qcm9wZXJ0eSgndXNlcicpKXtcbiAgICAgICAgICAgICAgICAgICAgaWYodXNlcil7XG4gICAgICAgICAgICAgICAgICAgICAgQ29jcmVhdGVVdGlsc0N1cnNvci5wcmludChcIkNyZWF0ZSBDdXJzb3JcIixkZWJ1ZylcbiAgICAgICAgICAgICAgICAgICAgICBsZXQgY3Vyc29yX3RlbXBsYXRlID0gJzxkaXYgc3R5bGU9XCJjb2xvcjpibHVlO1wiIGNsYXNzPVwiY3Vyc29yLWNvbnRhaW5lclwiIFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwic29ja2V0Xycrc29ja2V0X2lkK2lkZW50aWZ5KydcIiBcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PGRpdiBjbGFzcz1cImN1cnNvclwiIFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjonK3VzZXIuY29sb3IrJ1wiPjwvZGl2PlxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjdXJzb3ItZmxhZ1wiIGRhdGEtY29sbGVjdGlvbj1cInVzZXJzXCIgXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIiBcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXVzZXJfbmFtZT1cIicrdXNlci5uYW1lKydcIiBcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXVzZXJfY29sb3I9XCInK3VzZXIuY29sb3IrJ1wiIFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtc29ja2V0X2lkPVwiJytzb2NrZXRfaWQrJ1wiIFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtaWRfbWlycm9yPVwiJytpZF9taXJyb3IrJ1wiIFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtZG9jdW1lbnRfaWQ9XCInK3VzZXJfaWQrJ1wiIFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjonK3VzZXIuY29sb3IrJ1wiIFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYWc+Jyt1c2VyLm5hbWUrJzwvZGl2PjwvZGl2Pic7XG4gICAgICAgICAgICAgICAgICAgICAgbWlfbWlycm9yLmlubmVySFRNTCA9IGN1cnNvcl90ZW1wbGF0ZSArIG1pX21pcnJvci5pbm5lckhUTUw7XG4gICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYodXNlcl9pZCl7XG4gICAgICAgICAgICAgICAgICAgICAvLyBzaSB0aWVuZSB1c2VyX2lkIGFjdHVhbGl6YSBlbCBub21icmUgZGVsIGN1cnNvciB1c2FuZG8gY3J1ZFxuICAgICAgICAgICAgICAgICAgICAgIGNydWQucmVhZERvY3VtZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdjb2xsZWN0aW9uJyA6ICd1c2VycycsIFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RvY3VtZW50X2lkJzogdXNlcl9pZFxuICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGN1cnNvciA9IG1pX21pcnJvci5xdWVyeVNlbGVjdG9yKCcuY3Vyc29yLWNvbnRhaW5lciNzb2NrZXRfJytzb2NrZXRfaWQraWRlbnRpZnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoY3Vyc29yKXtcbiAgICAgICAgICAgICAgQ29jcmVhdGVVdGlsc0N1cnNvci5wcmludChbXCJVcGRhdGUgQ3Vyc29yXCIsY3Vyc29yLGNvb3JkaW5hdGVzXSxkZWJ1ZylcbiAgICAgICAgICAgICAgbGV0IGZvbnRfc2l6ZSA9IGdldFN0eWxlKGVsZW1lbnQsJ2ZvbnQtc2l6ZScpXG4gICAgICAgICAgICAgIGZvbnRfc2l6ZSA9IHBhcnNlRmxvYXQoZm9udF9zaXplLnN1YnN0cmluZygwLGZvbnRfc2l6ZS5sZW5ndGgtMikpO1xuICAgICAgICAgICAgICBsZXQgY3Vyc29yX2hlaWdodCA9ICggKGZvbnRfc2l6ZSAqIDExMi41KSAvIDEwMClcbiAgICAgICAgICAgICAgbGV0IG15X2N1cnNvciA9IGN1cnNvci5xdWVyeVNlbGVjdG9yKCcuY3Vyc29yJylcbiAgICAgICAgICAgICAgY3Vyc29yLmRhdGFzZXQuc3RhcnQgPSBzdGFydFxuICAgICAgICAgICAgICBjdXJzb3IuZGF0YXNldC5lbmQgPSBlbmRcbiAgICAgICAgICAgICAgY3Vyc29yLmRhdGFzZXQuc29ja2V0X2lkID0gc29ja2V0X2lkXG4gICAgICAgICAgICAgIC8qY3Vyc29yLmRhdGFzZXQudXNlcl9uYW1lID0gdXNlci5uYW1lXG4gICAgICAgICAgICAgIGN1cnNvci5kYXRhc2V0LnVzZXJfY29sb3IgPSB1c2VyLmNvbG9yKi9cbiAgXG4gICAgICAgICAgICAgIGN1cnNvci5zdHlsZVtcInRvcFwiXSA9IGNvb3JkaW5hdGVzLmVuZC50b3ArXCJweFwiOyBcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGN1cnNvci5zdHlsZVtcIndpZHRoXCJdID0gXCIycHhcIjsgIC8vMnB4XG4gICAgICAgICAgICAgIG15X2N1cnNvci5zdHlsZVtcImhlaWdodFwiXSA9IGN1cnNvcl9oZWlnaHQrXCJweFwiOyBcbiAgICAgICAgICAgICAgY3Vyc29yLnN0eWxlW1wibGVmdFwiXSA9IGNvb3JkaW5hdGVzLmVuZC5sZWZ0K1wicHhcIjsgXG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvL2FkZCBzZWxlY3Rpb25zXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uX3VzZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsLScrc29ja2V0X2lkK2lkZW50aWZ5KTtcbiAgICAgICAgICAgICAgICBpZigoc3RhcnQgIT0gZW5kKSAmJiB1c2VyICl7XG4gICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uX3VzZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsLScrc29ja2V0X2lkK2lkZW50aWZ5KVxuICAgICAgICAgICAgICAgICAgICAgIGlmKHNlbGVjdGlvbl91c2VyKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbl91c2VyLnJlbW92ZSgpXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNjcm9sbHdpZHRoID0gZWxlbWVudC5vZmZzZXRXaWR0aCAtIGVsZW1lbnQuc2Nyb2xsV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFkZGluZ19yaWdodCA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoZWxlbWVudClbXCJwYWRkaW5nUmlnaHRcIl0pXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25fdXNlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbl91c2VyLmlkID0gJ3NlbC0nK3NvY2tldF9pZCtpZGVudGlmeTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbl91c2VyLmNsYXNzTmFtZT0nc2VsZWN0b3JzX2J5X3VzZXJzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0eWxlX21pcnJvciA9IGdldENvbXB1dGVkU3R5bGUobWlfbWlycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uX3VzZXIuc3R5bGVbXCJwb3NpdGlvblwiXSA9IFwiYWJzb2x1dGVcIjsgXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25fdXNlci5zdHlsZVtcInRvcFwiXSA9IHN0eWxlX21pcnJvci5wYWRkaW5nVG9wOyBcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbl91c2VyLnN0eWxlW1wibGVmdFwiXSA9IHN0eWxlX21pcnJvci5wYWRkaW5nTGVmdDsgXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25fdXNlci5zdHlsZVtcInBhZGRpbmctcmlnaHRcIl0gPSBzY3JvbGx3aWR0aCtwYWRkaW5nX3JpZ2h0K1wicHhcIjsgXG4gICAgICAgICAgICAgICAgICAgICAgICBtaV9taXJyb3IuaW5zZXJ0QmVmb3JlKHNlbGVjdGlvbl91c2VyLCBtaV9taXJyb3IuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgICAgbGV0IHNlbGVjdGlvbl9zcGFuX2J5X3VzZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uX3NwYW5fYnlfdXNlci5pZCA9ICdzZWxlY3Rpb24tJytzb2NrZXRfaWQraWRlbnRpZnk7XG4gICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uX3NwYW5fYnlfdXNlci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB1c2VyLmNvbG9yO1xuICAgICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZV9lbGVtZW50ID0gKFsnVEVYVEFSRUEnLCdJTlBVVCddLmluZGV4T2YoZWxlbWVudC5ub2RlTmFtZSk9PS0xKSA/ZWxlbWVudC5pbm5lckhUTUwgOmVsZW1lbnQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uX3VzZXIudGV4dENvbnRlbnQgPSB2YWx1ZV9lbGVtZW50LnN1YnN0cmluZygwLCBzdGFydCk7XG4gICAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlX3NwYW5fc2VsZWN0aW9uID0gdmFsdWVfZWxlbWVudC5zdWJzdHJpbmcoc3RhcnQsZW5kKSB8fCAnJ1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU2VsZWN0aW9uIFwiLHZhbHVlX3NwYW5fc2VsZWN0aW9uLHN0YXJ0LGVuZClcbiAgICAgICAgICAgICAgICAgICAgICAvL3NlbGVjdGlvbl9zcGFuX2J5X3VzZXIuc3R5bGUub3BhY2l0eSA9IDAuNTtcbiAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25fc3Bhbl9ieV91c2VyLnRleHRDb250ZW50ID0gdmFsdWVfc3Bhbl9zZWxlY3Rpb247XG4gICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uX3VzZXIuYXBwZW5kQ2hpbGQoc2VsZWN0aW9uX3NwYW5fYnlfdXNlcilcbiAgICAgICAgICAgICAgICB9Ly9lbmQgU2VsZWN0aW9uc1xuICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICBpZihzZWxlY3Rpb25fdXNlcil7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbl91c2VyLnJlbW92ZSgpXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0vL2VuZCBpZiBkb2N1bWVudF9pZFxuICAgICAgICB9Ly9lbmQgYWN0aXZhdGVfY3Vyc29yc1xufS8vZHJhd19jdXJzb3JcblxuZnVuY3Rpb24gcmVmcmVzaF9taXJyb3IoZWxlbWVudCl7XG4gIHZhciBpZF9taXJyb3IgPSAnJ1xuICBsZXQgZG9jdW1lbnRfaWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcpIHx8ICcnO1xuICBpZihkb2N1bWVudF9pZCE9Jycpe1xuICAgIG5hbWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnbmFtZScpXG4gICAgaWYoZWxlbWVudC5kYXRhc2V0WydtaXJyb3JfaWQnXSlcbiAgICAgIGlkX21pcnJvciA9IGVsZW1lbnQuZGF0YXNldFsnbWlycm9yX2lkJ11cbiAgICAgIGVsc2UgXG4gICAgICByZXR1cm47XG4gICAgLy9jb25zb2xlLmxvZyhcIlJlZnJlc2ggXCIsaWRfbWlycm9yKVxuICAgIHZhciBtaV9taXJyb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZF9taXJyb3IpXG4gICAgQ29jcmVhdGVVdGlsc0N1cnNvci5wcmludChbXCJyZWZyZXNoX21pcnJvciBcIixtaV9taXJyb3JdLGRlYnVnKVxuICAgIHZhciBzZWxlY3Rvcl9lbGVtZW50ID0gZWxlbWVudC5ub2RlTmFtZStcIltuYW1lPSdcIituYW1lK1wiJ11bZGF0YS1kb2N1bWVudF9pZD0nXCIrZG9jdW1lbnRfaWQrXCInXVwiXG4gICAgQ29jcmVhdGVVdGlsc0N1cnNvci5wcmludChbXCJzZWxlY3RvciAtPiBcIitzZWxlY3Rvcl9lbGVtZW50XSxkZWJ1ZylcbiAgICBcbiAgICAgIGlmKG1pX21pcnJvcil7XG4gICAgICAgIGNvbXB1dGVkID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICAgICAgc3R5bGUgPSBtaV9taXJyb3Iuc3R5bGVcbiAgICAgICAgc3R5bGUud2lkdGggPSBlbGVtZW50Lm9mZnNldFdpZHRoIC0gKHBhcnNlSW50KGNvbXB1dGVkLmJvcmRlckxlZnRXaWR0aCkgKyBwYXJzZUludChjb21wdXRlZC5ib3JkZXJSaWdodFdpZHRoKSkgKyAncHgnXG4gICAgICAgIHN0eWxlLmhlaWdodCA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0IC0gKHBhcnNlSW50KGNvbXB1dGVkLmJvcmRlclRvcFdpZHRoKSArIHBhcnNlSW50KGNvbXB1dGVkLmJvcmRlckJvdHRvbVdpZHRoKSkgKyAncHgnXG4gICAgICAgIHZhciBjdXJzb3JfY29udGFpbmVyID0gbWlfbWlycm9yLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jdXJzb3ItY29udGFpbmVyJyk7XG4gICAgICAgIGN1cnNvcl9jb250YWluZXIuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGRfY3Vyc29yLCBpbmRleCwgYXJyYXkpIHtcbiAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiUkVkcmF3IGN1cnNvclwiKVxuICAgICAgICBsZXQgY2hpbGQgPSBjaGlsZF9jdXJzb3IucXVlcnlTZWxlY3RvcignLmN1cnNvci1mbGFnJyk7XG4gICAgICAgIGxldCBkYXRhc2V0X2NoaWxkID0gY2hpbGQuZGF0YXNldDtcbiAgICAgICAgbGV0IGRhdGFzZXQgPSBjaGlsZF9jdXJzb3IuZGF0YXNldDtcbiAgICAgICAgICBkcmF3X2N1cnNvcih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudDplbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0UG9zaXRpb246ZGF0YXNldC5zdGFydCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRQb3NpdG9uOmRhdGFzZXQuZW5kLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudElkIDogZGF0YXNldC5zb2NrZXRfaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcjp7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjb2xvcic6ZGF0YXNldF9jaGlsZC51c2VyX2NvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbmFtZSc6ZGF0YXNldC51c2VyX25hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgfVxuICB9Ly9lbmQgZG9jdW1lbnRcbn0vL2VuZCB2ZXJpZnkgXG5cbkVsZW1lbnQucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5wYXJlbnRFbGVtZW50KSB7XG4gICAgdGhpcy5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlY2FsY3VsYXRlX2xvY2FsX2N1cnNvcnMoZWxlbWVudCxjb3VudCl7XG4gICAgICAgICAgQ29jcmVhdGVVdGlsc0N1cnNvci5wcmludChcImNvdW50IFwiK2NvdW50LGRlYnVnKVxuICAgICAgICAgIGxldCBteV9zdGFydCA9ICggISBlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJykpICA/IGVsZW1lbnQuc2VsZWN0aW9uU3RhcnQgOiBwYXJzZUludChlbGVtZW50LmdldEF0dHJpYnV0ZShcInNlbGVjdGlvbl9zdGFydFwiKSk7XG4gICAgICAgICAgLy9sZXQgbXlfc3RhcnQgICA9IGVsZW1lbnQuc2VsZWN0aW9uU3RhcnRcbiAgICAgICAgICBsZXQgbmFtZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCduYW1lJykgfHwgJyc7XG4gICAgICAgICAgbGV0IGRvY3VtZW50X2lkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKSB8fCAnJztcbiAgICAgICAgICBsZXQgY29sbGVjdGlvbiA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbGxlY3Rpb24nKSB8fCAnJztcbiAgICAgICAgICBsZXQgc2VsZWN0b3IgPSAnW2RhdGEtY29sbGVjdGlvbj1cIicrY29sbGVjdGlvbisnXCJdW2RhdGEtZG9jdW1lbnRfaWQ9XCInK2RvY3VtZW50X2lkKydcIl1bbmFtZT1cIicrbmFtZSsnXCJdJ1xuICAgICAgICAgIGxldCBpZF9taXJyb3IgPSBlbGVtZW50LmRhdGFzZXRbJ21pcnJvcl9pZCddOyAvL2xldCBpZF9taXJyb3IgPSBkb2N1bWVudF9pZCtuYW1lKyctLW1pcnJvci1kaXYnO1xuICAgICAgICAgIGxldCBtaXJyb3JEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZF9taXJyb3IpO1xuICAgICAgICAgIGxldCBjdXJzb3JfY29udGFpbmVyID0gKG1pcnJvckRpdikgPyBtaXJyb3JEaXYucXVlcnlTZWxlY3RvckFsbCgnLmN1cnNvci1jb250YWluZXInKSA6IG51bGw7XG4gICAgICAgICAgaWYoY3Vyc29yX2NvbnRhaW5lcil7XG4gICAgICAgICAgICAgIGxldCBjb250YWluZXJzX2N1cnNvcnMgPSBbXTtcbiAgICAgICAgICAgICAgY3Vyc29yX2NvbnRhaW5lci5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZF9jdXJzb3IsIGluZGV4LCBhcnJheSkge1xuICAgICAgICAgICAgICAgICAgbGV0IHN0YXJ0ID0gcGFyc2VJbnQoY2hpbGRfY3Vyc29yLmdldEF0dHJpYnV0ZSgnZGF0YS1zdGFydCcpKTtcbiAgICAgICAgICAgICAgICAgIGxldCB1c2VyX25hbWUgPSBjaGlsZF9jdXJzb3IuZ2V0QXR0cmlidXRlKCdkYXRhLXVzZXJfbmFtZScpO1xuICAgICAgICAgICAgICAgICAgICBDb2NyZWF0ZVV0aWxzQ3Vyc29yLnByaW50KFtcIm15X3N0YXJ0IGxvY2FsXCIsbXlfc3RhcnQsJ3N0YXJ0IGN1cnNvciAnK3VzZXJfbmFtZStcIiA9IFwiLHN0YXJ0XSxkZWJ1ZylcbiAgICAgICAgICAgICAgICAgIGlmKHN0YXJ0ID4gbXlfc3RhcnQgJiYgY29udGFpbmVyc19jdXJzb3JzLmluZGV4T2YodXNlcl9uYW1lKSA9PSAtMSApe1xuICAgICAgICAgICAgICAgICAgICBDb2NyZWF0ZVV0aWxzQ3Vyc29yLnByaW50KFwiRXMgbWF5b3JcIixkZWJ1ZylcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVuZCA9IHBhcnNlSW50KGNoaWxkX2N1cnNvci5nZXRBdHRyaWJ1dGUoJ2RhdGEtZW5kJykpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcG9zX3N0YXJ0ID0gc3RhcnQrY291bnQ7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwb3NfZW5kID0gZW5kK2NvdW50O1xuICAgICAgICAgICAgICAgICAgICBDb2NyZWF0ZVV0aWxzQ3Vyc29yLnByaW50KFsncG9zX3N0YXJ0Jyxwb3Nfc3RhcnQsJ3Bvc19lbmQnLHBvc19lbmRdLGRlYnVnKVxuICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YXNldCA9IGNoaWxkX2N1cnNvci5xdWVyeVNlbGVjdG9yKCcuY3Vyc29yLWZsYWcnKS5kYXRhc2V0XG4gICAgICAgICAgICAgICAgICAgIGxldCBjbGllbnRJZCA9IGRhdGFzZXQuc29ja2V0X2lkO1xuICAgICAgICAgICAgICAgICAgICBsZXQganNvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudDplbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydFBvc2l0aW9uOnBvc19zdGFydCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kUG9zaXRvbjpwb3NfZW5kLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRJZDpjbGllbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3VzZXInOntcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjb2xvcic6ZGF0YXNldC51c2VyX2NvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ25hbWUnOmRhdGFzZXQudXNlcl9uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgQ29jcmVhdGVVdGlsc0N1cnNvci5wcmludChbXCJzZW50IERyYXcgQ3Vyc29yIFwiLGpzb25dLGRlYnVnKVxuICAgICAgICAgICAgICAgICAgICBkcmF3X2N1cnNvcihqc29uKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyc19jdXJzb3JzLnB1c2godXNlcl9uYW1lKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vbWlycm9yRGl2LmFwcGVuZENoaWxkKGNoaWxkX2N1cnNvcik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbn1cblxuZnVuY3Rpb24gaW5pdEN1cnNvckVsKGVsZW1lbnQpe1xuICBsZXQgZm9ybXVsYXJpbyA9IGdldFBhcmVudHMoZWxlbWVudCwnZm9ybScpXG4gICAgICAgICAgbGV0IHJlYWx0aW1lID0gZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2RhdGEtcmVhbHRpbWUnKSA/IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXJlYWx0aW1lJykgOiAndHJ1ZSc7XG4gICAgICAgICAgaWYoIHJlYWx0aW1lID09J3RydWUnIHx8ICAoZm9ybXVsYXJpbyAmJiBmb3JtdWxhcmlvLmdldEF0dHJpYnV0ZSgnZGF0YS1yZWFsdGltZScpID09J3RydWUnICkgKXtcbiAgICAgICAgICAgIGlmKHJlYWx0aW1lID09J2ZhbHNlJylcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICBDb2NyZWF0ZVV0aWxzQ3Vyc29yLnByaW50KFtcIkluaXQgRXZlbnRzIFwiLGVsZW1lbnRdLGRlYnVnKVxuICAgICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgICAgICAgICAgICAgICBsZXQgc3RhcnQgPSBlbGVtZW50LnNlbGVjdGlvblN0YXJ0O1xuICAgICAgICAgICAgICAgICAgICAgIGxldCBlbmQgPSBlbGVtZW50LnNlbGVjdGlvbkVuZDtcbiAgICAgICAgICAgICAgICAgICAgICBsZXQgY29vcmRpbmF0ZXMgPSBnZXRDYXJldENvb3JkaW5hdGVzKGVsZW1lbnQsc3RhcnQsZW5kKTtcbiAgICAgICAgICAgICAgICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaChldmVudC5pbnB1dFR5cGUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnaW5zZXJ0VGV4dCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50ID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnaW5zZXJ0RnJvbVBhc3RlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb3VudCA9IGV2ZW50LmNsaXBib2FyZERhdGEuZ2V0RGF0YSgnVGV4dCcpLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdkZWxldGVDb250ZW50QmFja3dhcmQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jYXNlICdpbnNlcnRGcm9tUGFzdGUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudCA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmKGNvdW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVjYWxjdWxhdGVfbG9jYWxfY3Vyc29ycyh0aGlzLGNvdW50KVxuICAgICAgICAgICAgICAgICAgfSxmYWxzZSlcbiAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJyxmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgIENvY3JlYXRlVXRpbHNDdXJzb3IucHJpbnQoW1wiTW92ZSBTY3JvbGwgXCIsZWxlbWVudF0sdHJ1ZSlcbiAgICAgICAgICAgICAgICAgICAgICBsZXQgbmFtZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCduYW1lJylcbiAgICAgICAgICAgICAgICAgICAgICBsZXQgZG9jdW1lbnRfaWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcpIHx8ICcnO1xuICAgICAgICAgICAgICAgICAgICAgIGxldCBpZF9taXJyb3IgPSBlbGVtZW50LmRhdGFzZXRbJ21pcnJvcl9pZCddO1xuICAgICAgICAgICAgICAgICAgICAgIGxldCBtaV9taXJyb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZF9taXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgaWYobWlfbWlycm9yKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pX21pcnJvci5zY3JvbGxUbyhlbGVtZW50LnNjcm9sbExlZnQsZWxlbWVudC5zY3JvbGxUb3ApO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vcmVzaXplXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG91dHB1dHNpemUoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgZWxlbWVudF9tdWx0aWN1cnNvcnMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudF9mb3IsIGluZGV4LCBhcnJheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5hbWUgPSBlbGVtZW50X2Zvci5nZXRBdHRyaWJ1dGUoJ25hbWUnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlkX21pcnJvciA9IGVsZW1lbnQuZGF0YXNldFsnbWlycm9yX2lkJ107IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29jcmVhdGVVdGlsc0N1cnNvci5wcmludChbXCJSZXNpemUgaWRfbWlycm9yIC0+IFwiK2lkX21pcnJvcl0sZGVidWcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWlfbWlycm9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWRfbWlycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYobWlfbWlycm9yKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWlfbWlycm9yLnN0eWxlW1wid2lkdGhcIl0gPSBlbGVtZW50X2Zvci5vZmZzZXRXaWR0aCtcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pX21pcnJvci5zdHlsZVtcImhlaWdodFwiXSA9IGVsZW1lbnRfZm9yLm9mZnNldEhlaWdodCtcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdmFyIGlzRm9jdXNlZCA9IChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBlbGVtZW50X2Zvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdmVyaWZ5X2N1cnNvcihlbGVtZW50X2Zvcixpc0ZvY3VzZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc0ZvY3VzZWQgPSAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGlzRm9jdXNlZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRDYXJldENvb3JkaW5hdGVzKGVsZW1lbnQsZWxlbWVudC5zZWxlY3Rpb25TdGFydCxlbGVtZW50LnNlbGVjdGlvbkVuZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaF9taXJyb3IoZWxlbWVudClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbmV3IFJlc2l6ZU9ic2VydmVyKG91dHB1dHNpemUpLm9ic2VydmUoZWxlbWVudClcbiAgICAgICAgICAgICAgICAgIC8vaWYgKGVsZW1lbnQubm9kZU5hbWUgPT0gJ0lOUFVUJyl7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJyxmdW5jdGlvbihldmVudCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmFtZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCduYW1lJylcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkb2N1bWVudF9pZCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJylcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpZF9taXJyb3IgPSBlbGVtZW50LmRhdGFzZXRbJ21pcnJvcl9pZCddO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1pX21pcnJvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkX21pcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKG1pX21pcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWlfbWlycm9yLnNjcm9sbFRvKGVsZW1lbnQuc2Nyb2xsTGVmdCxlbGVtZW50LnNjcm9sbFRvcCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5hbWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnbmFtZScpXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZG9jdW1lbnRfaWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcpIHx8ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlkX21pcnJvciA9IGVsZW1lbnQuZGF0YXNldFsnbWlycm9yX2lkJ107XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWlfbWlycm9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWRfbWlycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYobWlfbWlycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICBtaV9taXJyb3Iuc2Nyb2xsVG8oZWxlbWVudC5zY3JvbGxMZWZ0LGVsZW1lbnQuc2Nyb2xsVG9wKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJrZXlkb3duIEwsVCA9PiBcIixlbGVtZW50LnNjcm9sbExlZnQsZWxlbWVudC5zY3JvbGxUb3ApXG4gICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5hbWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnbmFtZScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlkX21pcnJvciA9IGVsZW1lbnQuZGF0YXNldFsnbWlycm9yX2lkJ107XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtaV9taXJyb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZF9taXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmKG1pX21pcnJvcil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWlfbWlycm9yLnNjcm9sbFRvKGVsZW1lbnQuc2Nyb2xsTGVmdCxlbGVtZW50LnNjcm9sbFRvcCk7ICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoX21pcnJvcihlbGVtZW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwia2V5dXAgTCxUID0+IFwiLGVsZW1lbnQuc2Nyb2xsTGVmdCxlbGVtZW50LnNjcm9sbFRvcClcbiAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5hbWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnbmFtZScpXG4gICAgICAgICAgICAgICAgICAgICAgIGxldCBpZF9taXJyb3IgPSBlbGVtZW50LmRhdGFzZXRbJ21pcnJvcl9pZCddO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1pX21pcnJvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkX21pcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKG1pX21pcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWlfbWlycm9yLnNjcm9sbFRvKGVsZW1lbnQuc2Nyb2xsTGVmdCxlbGVtZW50LnNjcm9sbFRvcCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgLy99XG4gICAgICAgICAgfS8vZW5kIGlmIHJlYWx0aW1lIFRSVUVcbn1cblxudmFyIGluaXRpYWxpemVfbXVsdGljdXJzb3IgPSBmdW5jdGlvbihlbGVtZW50X211bHRpY3Vyc29ycyl7XG4gICAgICBlbGVtZW50X211bHRpY3Vyc29ycy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50LCBpbmRleCwgYXJyYXkpIHtcbiAgICAgICAgICBpbml0Q3Vyc29yRWwoZWxlbWVudCk7XG4gICAgICB9KTsgLy8gZWxlbWVudF9tdWx0aWN1cnNvcnMuZm9yRWFjaFxufS8vZW5kIGluaXRpYWxpemVfbXVsdGljdXJzb3IgXG5cblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGZ1bmN0aW9uKGUpeyBcbiAgLy9jb25zb2xlLmxvZyhcInJlc2l6ZSB3aW5kb3dzXCIpXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLW1pcnJvcl9pZF0nKS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50LCBpbmRleCwgYXJyYXkpIHtcbiAgICAgICAgICByZWZyZXNoX21pcnJvcihlbGVtZW50KVxuICB9KTsgLy8gZWxlbWVudF9tdWx0aWN1cnNvcnMuZm9yRWFjaFxufSwgdHJ1ZSk7XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBmdW5jdGlvbihlKXsgXG4gIC8vY29uc29sZS5sb2coXCJTY3JvbGwgXCIpXG4gIC8vY29uc29sZS5sb2coXCJzY3JvbGwgd2luZG93c1wiLGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCxkb2N1bWVudC5ib2R5LnNjcm9sbFRvcClcbiAgLy9lbGVtZW50X211bHRpY3Vyc29ycy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50LCBpbmRleCwgYXJyYXkpIHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbWlycm9yX2lkXScpLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQsIGluZGV4LCBhcnJheSkge1xuICAgICAgICAgIHJlZnJlc2hfbWlycm9yKGVsZW1lbnQpXG4gIH0pOyAvLyBlbGVtZW50X211bHRpY3Vyc29ycy5mb3JFYWNoXG4gIFxuICBcbn0sIHRydWUpO1xuXG5mdW5jdGlvbiBpbml0Q3Vyc29yRWxlbWVudHMoY29udGFpbmVyKSB7XG4gIGxldCBtYWluQ29udGFpbmVyID0gY29udGFpbmVyIHx8IHdpbmRvdztcbiAgXG4gIGlmICghbWFpbkNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIFxuICBsZXQgZWxlbWVudHMgPSBtYWluQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXJlYWx0aW1lPXRydWVdJyk7XG4gIFxuICBlbGVtZW50cy5mb3JFYWNoKGVsID0+IHtcbiAgICBpbml0Q3Vyc29yRWwoZWwpO1xuICB9KVxufVxuXG5pZihkZWJ1ZylcbiAgY29uc29sZS5sb2coXCJlbGVtZW50cyB0byBJTklUIC0+IFwiLGVsZW1lbnRfbXVsdGljdXJzb3JzKVxuaW5pdGlhbGl6ZV9tdWx0aWN1cnNvcihlbGVtZW50X211bHRpY3Vyc29ycyk7XG5cbi8vIENvQ3JlYXRlSW5pdC5yZWdpc3Rlcl9vbGQoJ1tkYXRhLXJlYWx0aW1lPXRydWVdJyxpbml0Q3Vyc29yRWwpO1xuLy8gQ29DcmVhdGVJbml0LnJlZ2lzdGVyKCdDb0NyZWF0ZUN1cnNvcicsIHdpbmRvdywgaW5pdEN1cnNvckVsZW1lbnRzKTtcblxub2JzZXJ2ZXIuaW5pdCh7IFxuXHRuYW1lOiAnQ29DcmVhdGVDdXJzb3InLCBcblx0b2JzZXJ2ZTogWydzdWJ0cmVlJywgJ2NoaWxkTGlzdCddLFxuXHRpbmNsdWRlOiAnW2RhdGEtY29sbGVjdGlvbl1bZGF0YS1kb2N1bWVudF9pZF1bbmFtZV1bZGF0YS1yZWFsdGltZT10cnVlXScsIFxuXHRjYWxsYmFjazogZnVuY3Rpb24obXV0YXRpb24pIHtcblx0XHRpbml0Q3Vyc29yRWxlbWVudHMobXV0YXRpb24udGFyZ2V0KVxuXHR9XG59KTtcblxuY29uc3QgQ29DcmVhdGVDdXJzb3JzID0geyBkcmF3X2N1cnNvciwgcmVmcmVzaF9taXJyb3IsIHJlY2FsY3VsYXRlX2xvY2FsX2N1cnNvcnMgfTtcbmV4cG9ydCBkZWZhdWx0IENvQ3JlYXRlQ3Vyc29ycztcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../CoCreate-components/CoCreate-cursors/src/index.js\n")},"../../CoCreate-components/CoCreate-form/src/index.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _observer = _interopRequireDefault(__webpack_require__(/*! @cocreate/observer */ \"../../CoCreate-components/CoCreate-observer/src/index.js\"));\n\nvar _utils = _interopRequireDefault(__webpack_require__(/*! @cocreate/utils */ \"../../CoCreate-components/CoCreate-utils/src/index.js\"));\n\nvar _crud = _interopRequireDefault(__webpack_require__(/*! @cocreate/crud */ \"../../CoCreate-components/CoCreate-crud/src/index.js\"));\n\nvar _action = _interopRequireDefault(__webpack_require__(/*! @cocreate/action */ \"../../CoCreate-components/CoCreate-action/src/index.js\"));\n\nvar _utils2 = _interopRequireDefault(__webpack_require__(/*! ./utils */ \"../../CoCreate-components/CoCreate-form/src/utils.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst CoCreateForm = {\n  requestAttr: \"data-document_request\",\n  selectors: [],\n  modules: [],\n  init: function ({\n    name,\n    selector,\n    callback\n  }) {\n    this.modules.push({\n      name,\n      selector,\n      callback\n    });\n\n    if (selector) {\n      this.selectors.push(selector);\n    }\n  },\n  get: function () {\n    return {\n      selectors: this.selectors\n    };\n  },\n  checkID: function (element, attr = \"data-document_id\") {\n    let document_id = element.getAttribute(attr) || \"\";\n\n    if (document_id === \"\" || document_id === \"pending\" || !_utils.default.checkValue(document_id)) {\n      return false;\n    }\n\n    return true;\n  },\n  request: function ({\n    form,\n    element,\n    nameAttr,\n    value\n  }) {\n    if (!form && element) {\n      form = element.closest('form');\n    }\n\n    if (form) {\n      this.__requestDocumentIdOfForm(form);\n    } else if (element) {\n      nameAttr = nameAttr || \"name\";\n\n      this.__requestDocumentId(element, nameAttr, value);\n    }\n  },\n  initElement: function (container) {\n    const __container = container || document;\n\n    if (!__container.querySelectorAll) {\n      return;\n    }\n\n    let forms = __container.querySelectorAll('form');\n\n    if (forms.length === 0 && __container != document && __container.tagName === \"FORM\") {\n      forms = [__container];\n    }\n\n    forms.forEach(form => {\n      _utils2.default.setAttribute(form);\n\n      _utils2.default.disableAutoFill(form);\n    });\n  },\n  __init: function () {\n    const forms = document.querySelectorAll('form');\n\n    this.__initEvent();\n\n    forms.forEach(form => {\n      _utils2.default.setAttribute(form);\n    });\n  },\n  __initEvent: function () {\n    const self = this;\n\n    _crud.default.listen('createDocument', function (data) {\n      const {\n        metadata\n      } = data;\n\n      self.__receivedDocumentId(data);\n\n      if (metadata == \"createDocument-action\") {//. dispatch EndAction\n      }\n    });\n\n    _crud.default.listen('deleteDocument', function (data) {\n      const {\n        metadata\n      } = data;\n\n      if (metadata === \"deleteDocument-action\") {//.dispatch End Action\n      }\n    });\n\n    document.addEventListener('clicked-submitBtn', function (event) {\n      const {\n        element\n      } = event.detail;\n      self.modules.forEach(({\n        selector,\n        callback\n      }) => {\n        if (callback && element.matches(selector)) {\n          callback.call(null, element);\n        }\n      });\n    });\n  },\n  __deleteDocumentAction: function (btn) {\n    const collection = btn.getAttribute('data-collection');\n    const document_id = btn.getAttribute('data-document_id');\n\n    if (_utils.default.checkValue(collection) && _utils.default.checkValue(document_id)) {\n      _crud.default.deleteDocument({\n        'collection': collection,\n        'document_id': document_id,\n        'metadata': 'deleteDocument-action'\n      });\n\n      document.dispatchEvent(new CustomEvent('deletedDocument', {\n        detail: {}\n      }));\n    }\n  },\n  __deleteDocumentsAction: function (btn) {\n    const collection = btn.getAttribute('data-collection');\n    const selector = btn.getAttribute('data-document_target');\n    if (!selector) return;\n    const selectedEls = document.querySelectorAll(selector);\n\n    if (_utils2.default.checkValue(collection)) {\n      selectedEls.forEach(el => {\n        const document_id = el.getAttribute('data-document_id');\n\n        if (_utils.default.checkValue(document_id)) {\n          _crud.default.deleteDocument({\n            'collection': collection,\n            'document_id': document_id,\n            'metadata': ''\n          });\n        }\n      });\n      document.dispatchEvent(new CustomEvent('deletedDocuments', {\n        detail: {}\n      }));\n    }\n  },\n  __createDocumentAction: function (btn) {\n    const form = btn.closest(\"form\");\n    const self = this;\n\n    let collections = _utils2.default.getCOllections(form);\n\n    collections.forEach(collection => {\n      let data = _utils2.default.getFormData(form, \"\", collection);\n\n      if (Object.keys(data).length == 0 && data.constructor === Object) {\n        return;\n      }\n\n      if (_utils.default.checkValue(collection)) {\n        _crud.default.createDocument({\n          'collection': collection,\n          'data': data,\n          'metadata': 'createDocument-action',\n          'element': 'empty'\n        });\n\n        document.dispatchEvent(new CustomEvent('createdDocument', {\n          detail: {}\n        }));\n      }\n    });\n  },\n  __saveDocumentAction: function (btn) {\n    const form = btn.closest(\"form\");\n\n    if (!_utils2.default.checkFormValidate(form)) {\n      alert('Values are not unique');\n      return;\n    }\n\n    const selectors = this.selectors || [];\n    const elements = form.querySelectorAll(selectors.join(','));\n    let request_document_id = false;\n\n    for (var i = 0; i < elements.length; i++) {\n      let el = elements[i];\n      const data_document_id = el.getAttribute('data-document_id');\n\n      if (el.getAttribute('data-save_value') == 'false') {\n        continue;\n      }\n\n      if (!data_document_id) {\n        if (el.getAttribute('name')) {\n          request_document_id = true;\n        }\n\n        continue;\n      }\n\n      if (input.isUsageY(el)) {\n        continue;\n      }\n\n      if (_utils2.default.isTemplateInput(el)) return;\n      var new_event = new CustomEvent(\"clicked-submitBtn\", {\n        bubbles: true,\n        detail: {\n          type: \"submitBtn\",\n          element: el\n        }\n      });\n      el.dispatchEvent(new_event);\n    }\n\n    if (request_document_id) {\n      this.requestDocumentIdOfForm(form);\n    }\n\n    document.dispatchEvent(new CustomEvent('savedDocument', {\n      detail: {}\n    }));\n  },\n  __requestDocumentId: function (element, nameAttr = \"name\", value = null) {\n    const collection = element.getAttribute('data-collection');\n    const name = element.getAttribute(nameAttr);\n    if (!collection || !name) return;\n\n    const request_id = _utils.default.generateUUID();\n\n    element.setAttribute(this.requestAttr, request_id);\n\n    _crud.default.createDocument({\n      \"collection\": collection,\n      \"element\": request_id,\n      \"metadata\": \"\"\n    });\n  },\n  __requestDocumentIdOfForm: function (form) {\n    let self = this;\n    let elemens = form.querySelectorAll('[name], [data-pass_to]');\n    let collections = [];\n\n    for (var i = 0; i < elemens.length; i++) {\n      let el = elemens[i];\n\n      if (el.parentNode.classList.contains('template')) {\n        continue;\n      }\n\n      const collection = el.getAttribute(\"data-collection\") || el.getAttribute(\"data-pass_collection\") || \"\";\n\n      if (collection !== \"\" && !collections.includes(collection) && !self.checkID(el, 'data-document_id') && !self.checkID(el, 'data-pass_document_id')) {\n        const request_id = _utils.default.generateUUID();\n\n        collections.push(collection);\n        el.setAttribute(this.requestAttr, request_id); //. get Data\n\n        let data = _utils2.default.getFormData(form, \"\", collection);\n        /* FixME Create Document request */\n\n\n        _crud.default.createDocument({\n          \"collection\": collection,\n          \"element\": request_id,\n          'data': data,\n          \"metadata\": \"\"\n        });\n      }\n    }\n  },\n  __setNewIdProcess: function (element, document_id, pass) {\n    if (!element) return;\n    element.removeAttribute(this.requestAttr);\n    const event_data = {\n      document_id: document_id\n    };\n\n    if (!pass && !this.checkID(element) && element.hasAttribute('name')) {\n      element.setAttribute('data-document_id', document_id);\n    }\n\n    if (pass && !this.checkID(element, 'data-pass_document_id') && element.hasAttribute('data-pass_to')) {\n      element.setAttribute('data-pass_document_id', document_id); // CoCreateLogic.storePassData(element)\n\n      if (element.parentNode.classList.contains('submitBtn')) {\n        element.click();\n      }\n    }\n\n    var event = new CustomEvent('set-document_id', {\n      detail: event_data\n    });\n    element.dispatchEvent(event);\n  },\n  __receivedDocumentId: function (data) {\n    if (!data['document_id']) {\n      return;\n    }\n\n    let element = document.querySelector(`[${this.requestAttr}=\"${data['element']}\"]`);\n    if (!element) return;\n    let self = this;\n    const form = element.tagName === \"FORM\" ? element : _utils2.default.getParents(element, 'form');\n    const collection = data['collection'];\n    const id = data['document_id'];\n\n    if (form && id) {\n      form.setAttribute('data-form_id', data['element']);\n      const elements = form.querySelectorAll(`[data-collection=${collection}], [data-pass_collection=${collection}]`);\n      elements.forEach(function (el) {\n        el.removeAttribute(self.requestAttr);\n        if (el.hasAttribute('name')) self.__setNewIdProcess(el, id);\n        if (el.hasAttribute('data-pass_to')) self.__setNewIdProcess(el, id, true);\n      });\n    } else if (element) {\n      this.__setNewIdProcess(element, id);\n    }\n  }\n};\n\nCoCreateForm.__init(); // core.registerInit(CoCreateForm.initElement, CoCreateForm);\n\n\n_observer.default.init({\n  name: 'CoCreateForm',\n  observe: ['subtree', 'childList'],\n  include: 'form',\n  callback: function (mutation) {\n    CoCreateForm.initElement(mutation.target);\n  }\n});\n\n_action.default.init({\n  action: \"createDocument\",\n  endEvent: \"createdDocument\",\n  callback: (btn, data) => {\n    CoCreateForm.__createDocumentAction(btn);\n  }\n});\n\n_action.default.init({\n  action: \"deleteDocument\",\n  endEvent: \"deletedDocument\",\n  callback: (btn, data) => {\n    CoCreateForm.__deleteDocumentAction(btn);\n  }\n});\n\n_action.default.init({\n  action: \"deleteDocuments\",\n  endEvent: \"deletedDocuments\",\n  callback: (btn, data) => {\n    CoCreateDocument.__deleteDocumentsAction(btn);\n  }\n});\n\n_action.default.init({\n  action: \"saveDocument\",\n  endEvent: \"savedDocument\",\n  callback: (btn, data) => {\n    CoCreateForm.__saveDocumentAction(btn);\n  }\n});\n\nvar _default = CoCreateForm;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5xdWlsbC8vaG9tZS91YnVudHUvZW52aXJvbm1lbnQvcHVibGljL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtZm9ybS9zcmMvaW5kZXguanM/ZGMxNSJdLCJuYW1lcyI6WyJDb0NyZWF0ZUZvcm0iLCJyZXF1ZXN0QXR0ciIsInNlbGVjdG9ycyIsIm1vZHVsZXMiLCJpbml0IiwibmFtZSIsInNlbGVjdG9yIiwiY2FsbGJhY2siLCJwdXNoIiwiZ2V0IiwiY2hlY2tJRCIsImVsZW1lbnQiLCJhdHRyIiwiZG9jdW1lbnRfaWQiLCJnZXRBdHRyaWJ1dGUiLCJjY3V0aWxzIiwiY2hlY2tWYWx1ZSIsInJlcXVlc3QiLCJmb3JtIiwibmFtZUF0dHIiLCJ2YWx1ZSIsImNsb3Nlc3QiLCJfX3JlcXVlc3REb2N1bWVudElkT2ZGb3JtIiwiX19yZXF1ZXN0RG9jdW1lbnRJZCIsImluaXRFbGVtZW50IiwiY29udGFpbmVyIiwiX19jb250YWluZXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JtcyIsImxlbmd0aCIsInRhZ05hbWUiLCJmb3JFYWNoIiwidXRpbHMiLCJzZXRBdHRyaWJ1dGUiLCJkaXNhYmxlQXV0b0ZpbGwiLCJfX2luaXQiLCJfX2luaXRFdmVudCIsInNlbGYiLCJjcnVkIiwibGlzdGVuIiwiZGF0YSIsIm1ldGFkYXRhIiwiX19yZWNlaXZlZERvY3VtZW50SWQiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJkZXRhaWwiLCJtYXRjaGVzIiwiY2FsbCIsIl9fZGVsZXRlRG9jdW1lbnRBY3Rpb24iLCJidG4iLCJjb2xsZWN0aW9uIiwiZGVsZXRlRG9jdW1lbnQiLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJfX2RlbGV0ZURvY3VtZW50c0FjdGlvbiIsInNlbGVjdGVkRWxzIiwiZWwiLCJfX2NyZWF0ZURvY3VtZW50QWN0aW9uIiwiY29sbGVjdGlvbnMiLCJnZXRDT2xsZWN0aW9ucyIsImdldEZvcm1EYXRhIiwiT2JqZWN0Iiwia2V5cyIsImNvbnN0cnVjdG9yIiwiY3JlYXRlRG9jdW1lbnQiLCJfX3NhdmVEb2N1bWVudEFjdGlvbiIsImNoZWNrRm9ybVZhbGlkYXRlIiwiYWxlcnQiLCJlbGVtZW50cyIsImpvaW4iLCJyZXF1ZXN0X2RvY3VtZW50X2lkIiwiaSIsImRhdGFfZG9jdW1lbnRfaWQiLCJpbnB1dCIsImlzVXNhZ2VZIiwiaXNUZW1wbGF0ZUlucHV0IiwibmV3X2V2ZW50IiwiYnViYmxlcyIsInR5cGUiLCJyZXF1ZXN0RG9jdW1lbnRJZE9mRm9ybSIsInJlcXVlc3RfaWQiLCJnZW5lcmF0ZVVVSUQiLCJlbGVtZW5zIiwicGFyZW50Tm9kZSIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiaW5jbHVkZXMiLCJfX3NldE5ld0lkUHJvY2VzcyIsInBhc3MiLCJyZW1vdmVBdHRyaWJ1dGUiLCJldmVudF9kYXRhIiwiaGFzQXR0cmlidXRlIiwiY2xpY2siLCJxdWVyeVNlbGVjdG9yIiwiZ2V0UGFyZW50cyIsImlkIiwib2JzZXJ2ZXIiLCJvYnNlcnZlIiwiaW5jbHVkZSIsIm11dGF0aW9uIiwidGFyZ2V0IiwiYWN0aW9uIiwiZW5kRXZlbnQiLCJDb0NyZWF0ZURvY3VtZW50Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxZQUFZLEdBQUc7QUFFcEJDLGFBQVcsRUFBRSx1QkFGTztBQUdwQkMsV0FBUyxFQUFFLEVBSFM7QUFJcEJDLFNBQU8sRUFBRSxFQUpXO0FBTXBCQyxNQUFJLEVBQUUsVUFBUztBQUFDQyxRQUFEO0FBQU9DLFlBQVA7QUFBaUJDO0FBQWpCLEdBQVQsRUFBcUM7QUFFMUMsU0FBS0osT0FBTCxDQUFhSyxJQUFiLENBQWtCO0FBQ2pCSCxVQURpQjtBQUVqQkMsY0FGaUI7QUFHakJDO0FBSGlCLEtBQWxCOztBQU1BLFFBQUlELFFBQUosRUFBYztBQUNiLFdBQUtKLFNBQUwsQ0FBZU0sSUFBZixDQUFvQkYs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ekMsZ0JBQVksQ0FBQ2lELHNCQUFiLENBQW9DQyxHQUFwQztBQUNBO0FBTFUsQ0FBWjs7QUFRQW9ELGdCQUFPbEcsSUFBUCxDQUFZO0FBQ1hrRyxRQUFNLEVBQUUsaUJBREc7QUFFWEMsVUFBUSxFQUFFLGtCQUZDO0FBR1hoRyxVQUFRLEVBQUUsQ0FBQzJDLEdBQUQsRUFBTVQsSUFBTixLQUFlO0FBQ3hCK0Qsb0JBQWdCLENBQUNqRCx1QkFBakIsQ0FBeUNMLEdBQXpDO0FBQ0E7QUFMVSxDQUFaOztBQVFBb0QsZ0JBQU9sRyxJQUFQLENBQVk7QUFDWGtHLFFBQU0sRUFBRSxjQURHO0FBRVhDLFVBQVEsRUFBRSxlQUZDO0FBR1hoRyxVQUFRLEVBQUUsQ0FBQzJDLEdBQUQsRUFBTVQsSUFBTixLQUFlO0FBQ3hCekMsZ0JBQVksQ0FBQ2tFLG9CQUFiLENBQWtDaEIsR0FBbEM7QUFDQTtBQUxVLENBQVo7O2VBUWVsRCxZIiwiZmlsZSI6Ii4uLy4uL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtZm9ybS9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgb2JzZXJ2ZXIgZnJvbSAnQGNvY3JlYXRlL29ic2VydmVyJ1xuaW1wb3J0IGNjdXRpbHMgZnJvbSAnQGNvY3JlYXRlL3V0aWxzJztcbmltcG9ydCBjcnVkIGZyb20gJ0Bjb2NyZWF0ZS9jcnVkJ1xuaW1wb3J0IGFjdGlvbiBmcm9tICdAY29jcmVhdGUvYWN0aW9uJ1xuaW1wb3J0IHV0aWxzIGZyb20gXCIuL3V0aWxzXCIgXG5cbmNvbnN0IENvQ3JlYXRlRm9ybSA9IHtcblx0XG5cdHJlcXVlc3RBdHRyOiBcImRhdGEtZG9jdW1lbnRfcmVxdWVzdFwiLFxuXHRzZWxlY3RvcnM6IFtdLFxuXHRtb2R1bGVzOiBbXSxcblxuXHRpbml0OiBmdW5jdGlvbih7bmFtZSwgc2VsZWN0b3IsIGNhbGxiYWNrfSkge1xuXHRcdFxuXHRcdHRoaXMubW9kdWxlcy5wdXNoKHtcblx0XHRcdG5hbWUsXG5cdFx0XHRzZWxlY3Rvcixcblx0XHRcdGNhbGxiYWNrXG5cdFx0fSk7XG5cdFx0XG5cdFx0aWYgKHNlbGVjdG9yKSB7XG5cdFx0XHR0aGlzLnNlbGVjdG9ycy5wdXNoKHNlbGVjdG9yKTtcblx0XHR9XG5cdH0sXG5cdFxuXHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzZWxlY3RvcnM6IHRoaXMuc2VsZWN0b3JzXG5cdFx0fVxuXHR9LFxuXHRcblx0Y2hlY2tJRDogZnVuY3Rpb24oZWxlbWVudCwgYXR0ciA9IFwiZGF0YS1kb2N1bWVudF9pZFwiKSB7XG5cdFx0bGV0IGRvY3VtZW50X2lkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cikgfHwgXCJcIjtcblx0XHRpZiAoZG9jdW1lbnRfaWQgPT09IFwiXCIgfHwgZG9jdW1lbnRfaWQgPT09IFwicGVuZGluZ1wiIHx8ICFjY3V0aWxzLmNoZWNrVmFsdWUoZG9jdW1lbnRfaWQpKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXHRcblx0cmVxdWVzdDogZnVuY3Rpb24oe2Zvcm0sIGVsZW1lbnQsIG5hbWVBdHRyLCB2YWx1ZX0pIHtcblx0XHRcblx0XHRpZiAoIWZvcm0gJiYgZWxlbWVudCkge1xuXHRcdFx0Zm9ybSA9IGVsZW1lbnQuY2xvc2VzdCgnZm9ybScpO1xuXHRcdH1cblx0XHRcblx0XHRpZiAoZm9ybSkge1xuXHRcdFx0dGhpcy5fX3JlcXVlc3REb2N1bWVudElkT2ZGb3JtKGZvcm0pXG5cdFx0fSBlbHNlIGlmIChlbGVtZW50KSB7XG5cdFx0XHRuYW1lQXR0ciA9IG5hbWVBdHRyIHx8IFwibmFtZVwiXG5cdFx0XHR0aGlzLl9fcmVxdWVzdERvY3VtZW50SWQoZWxlbWVudCwgbmFtZUF0dHIsIHZhbHVlKTtcblx0XHR9XG5cdFx0XG5cdH0sXG5cdFxuXHRpbml0RWxlbWVudDogZnVuY3Rpb24oY29udGFpbmVyKSB7XG5cdFx0Y29uc3QgX19jb250YWluZXIgPSBjb250YWluZXIgfHwgZG9jdW1lbnRcblx0XHRcblx0XHRpZiAoIV9fY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0bGV0ICBmb3JtcyA9IF9fY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ2Zvcm0nKTtcblxuXHRcdGlmIChmb3Jtcy5sZW5ndGggPT09IDAgJiYgX19jb250YWluZXIgIT0gZG9jdW1lbnQgJiYgX19jb250YWluZXIudGFnTmFtZSA9PT0gXCJGT1JNXCIpIHtcblx0XHRcdGZvcm1zID0gW19fY29udGFpbmVyXTtcblx0XHR9XG5cdFx0XG5cdFx0Zm9ybXMuZm9yRWFjaCgoZm9ybSkgPT4ge1xuXHRcdFx0dXRpbHMuc2V0QXR0cmlidXRlKGZvcm0pXG5cdFx0XHR1dGlscy5kaXNhYmxlQXV0b0ZpbGwoZm9ybSk7XG5cdFx0fSlcblx0fSxcblx0XG5cdF9faW5pdDogZnVuY3Rpb24oKSB7XG5cdFx0Y29uc3QgZm9ybXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdmb3JtJyk7XG5cdFx0dGhpcy5fX2luaXRFdmVudCgpO1xuXG5cdFx0Zm9ybXMuZm9yRWFjaCgoZm9ybSkgPT4ge1xuXHRcdFx0dXRpbHMuc2V0QXR0cmlidXRlKGZvcm0pXG5cdFx0fSlcblx0XHRcblx0fSxcblx0XG5cdF9faW5pdEV2ZW50OiBmdW5jdGlvbigpIHtcblx0XHRjb25zdCBzZWxmID0gdGhpcztcblx0XHRjcnVkLmxpc3RlbignY3JlYXRlRG9jdW1lbnQnLCBmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRjb25zdCB7bWV0YWRhdGF9ID0gZGF0YTtcblx0XHRcdHNlbGYuX19yZWNlaXZlZERvY3VtZW50SWQoZGF0YSk7XG5cdFx0XHRpZiAobWV0YWRhdGEgPT0gXCJjcmVhdGVEb2N1bWVudC1hY3Rpb25cIikge1xuXHRcdFx0XHQvLy4gZGlzcGF0Y2ggRW5kQWN0aW9uXG5cdFx0XHR9XG5cdFx0fSlcblx0XHRcblx0XHRjcnVkLmxpc3RlbignZGVsZXRlRG9jdW1lbnQnLCBmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRjb25zdCB7bWV0YWRhdGF9ID0gZGF0YVxuXHRcdFx0aWYgKG1ldGFkYXRhID09PSBcImRlbGV0ZURvY3VtZW50LWFjdGlvblwiKSB7XG5cdFx0XHRcdC8vLmRpc3BhdGNoIEVuZCBBY3Rpb25cblx0XHRcdH1cblx0XHR9KVx0XG5cdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2tlZC1zdWJtaXRCdG4nLCBmdW5jdGlvbihldmVudCkge1xuXHRcdFx0Y29uc3Qge2VsZW1lbnR9ID0gZXZlbnQuZGV0YWlsO1xuXG5cdFx0XHRzZWxmLm1vZHVsZXMuZm9yRWFjaCgoe3NlbGVjdG9yLCBjYWxsYmFja30pID0+IHtcblx0XHRcdFx0aWYgKGNhbGxiYWNrICYmIGVsZW1lbnQubWF0Y2hlcyhzZWxlY3RvcikpIHtcblx0XHRcdFx0XHRjYWxsYmFjay5jYWxsKG51bGwsIGVsZW1lbnQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdH0pXG5cdH0sXG5cblx0X19kZWxldGVEb2N1bWVudEFjdGlvbjogZnVuY3Rpb24oYnRuKSB7XG5cdFx0Y29uc3QgY29sbGVjdGlvbiA9IGJ0bi5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjdGlvbicpO1xuXHRcdGNvbnN0IGRvY3VtZW50X2lkID0gYnRuLmdldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcpXG5cdFx0aWYgKGNjdXRpbHMuY2hlY2tWYWx1ZShjb2xsZWN0aW9uKSAmJiBjY3V0aWxzLmNoZWNrVmFsdWUoZG9jdW1lbnRfaWQpKSB7XG5cdFx0XHRjcnVkLmRlbGV0ZURvY3VtZW50KHtcblx0XHRcdFx0J2NvbGxlY3Rpb24nOiBjb2xsZWN0aW9uLCBcblx0XHRcdFx0J2RvY3VtZW50X2lkJzogZG9jdW1lbnRfaWQsXG5cdFx0XHRcdCdtZXRhZGF0YSc6ICdkZWxldGVEb2N1bWVudC1hY3Rpb24nIFxuXHRcdFx0fSk7XG5cdFx0XHRcblx0XHRcdGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdkZWxldGVkRG9jdW1lbnQnLCB7XG5cdFx0XHRcdGRldGFpbDoge31cblx0XHRcdH0pKVxuXHRcdH1cblx0fSxcblx0XG5cdF9fZGVsZXRlRG9jdW1lbnRzQWN0aW9uOiBmdW5jdGlvbihidG4pIHtcblx0XHRjb25zdCBjb2xsZWN0aW9uID0gYnRuLmdldEF0dHJpYnV0ZSgnZGF0YS1jb2xsZWN0aW9uJyk7XG5cdFx0Y29uc3Qgc2VsZWN0b3IgPSBidG4uZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X3RhcmdldCcpO1xuXHRcdGlmICghc2VsZWN0b3IpIHJldHVybjtcblx0XHRcblx0XHRjb25zdCBzZWxlY3RlZEVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpXG5cdFx0XG5cdFx0aWYgKHV0aWxzLmNoZWNrVmFsdWUoY29sbGVjdGlvbikpIHtcblx0XHRcdHNlbGVjdGVkRWxzLmZvckVhY2goKGVsKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGRvY3VtZW50X2lkID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJyk7XG5cdFx0XHRcdGlmIChjY3V0aWxzLmNoZWNrVmFsdWUoZG9jdW1lbnRfaWQpKSB7XG5cdFx0XHRcdFx0Y3J1ZC5kZWxldGVEb2N1bWVudCh7XG5cdFx0XHRcdFx0XHQnY29sbGVjdGlvbic6IGNvbGxlY3Rpb24sXG5cdFx0XHRcdFx0XHQnZG9jdW1lbnRfaWQnOiBkb2N1bWVudF9pZCxcblx0XHRcdFx0XHRcdCdtZXRhZGF0YSc6ICcnXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHRcdFxuXHRcdFx0ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2RlbGV0ZWREb2N1bWVudHMnLCB7XG5cdFx0XHRcdGRldGFpbDoge31cblx0XHRcdH0pKVxuXHRcdH1cblx0fSxcblx0XG5cdF9fY3JlYXRlRG9jdW1lbnRBY3Rpb246IGZ1bmN0aW9uKGJ0bikge1xuXHRcdGNvbnN0IGZvcm0gPSBidG4uY2xvc2VzdChcImZvcm1cIilcblx0XHRjb25zdCBzZWxmID0gdGhpcztcblx0XHRsZXQgY29sbGVjdGlvbnMgPSB1dGlscy5nZXRDT2xsZWN0aW9ucyhmb3JtKVxuXHRcdFxuXHRcdGNvbGxlY3Rpb25zLmZvckVhY2goKGNvbGxlY3Rpb24pID0+IHtcblx0XHRcdGxldCBkYXRhID0gdXRpbHMuZ2V0Rm9ybURhdGEoZm9ybSwgXCJcIiwgY29sbGVjdGlvbik7XG5cdFx0XHRcblx0XHRcdGlmIChPYmplY3Qua2V5cyhkYXRhKS5sZW5ndGggPT0gMCAmJiBkYXRhLmNvbnN0cnVjdG9yID09PSBPYmplY3QpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGNjdXRpbHMuY2hlY2tWYWx1ZShjb2xsZWN0aW9uKSkge1xuXHRcdFx0XHRjcnVkLmNyZWF0ZURvY3VtZW50KHtcblx0XHRcdFx0XHQnY29sbGVjdGlvbic6IGNvbGxlY3Rpb24sXG5cdFx0XHRcdFx0J2RhdGEnOiBkYXRhLFxuXHRcdFx0XHRcdCdtZXRhZGF0YSc6ICdjcmVhdGVEb2N1bWVudC1hY3Rpb24nICxcblx0XHRcdFx0XHQnZWxlbWVudCc6J2VtcHR5J1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2NyZWF0ZWREb2N1bWVudCcsIHtcblx0XHRcdFx0XHRkZXRhaWw6IHt9XG5cdFx0XHRcdH0pKVxuXHRcdFx0fVxuXHRcdH0pXG5cdH0sXG5cdFxuXHRfX3NhdmVEb2N1bWVudEFjdGlvbjogZnVuY3Rpb24oYnRuKSB7XG5cdFx0Y29uc3QgZm9ybSA9IGJ0bi5jbG9zZXN0KFwiZm9ybVwiKVxuXG5cdFx0aWYgKCF1dGlscy5jaGVja0Zvcm1WYWxpZGF0ZShmb3JtKSkge1xuXHRcdFx0YWxlcnQoJ1ZhbHVlcyBhcmUgbm90IHVuaXF1ZScpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRcblx0XHRjb25zdCBzZWxlY3RvcnMgPSB0aGlzLnNlbGVjdG9ycyB8fCBbXTtcblx0XHRjb25zdCBlbGVtZW50cyA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcnMuam9pbignLCcpKTtcblx0XHRcblx0XHRsZXQgcmVxdWVzdF9kb2N1bWVudF9pZCA9IGZhbHNlO1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGxldCBlbCA9IGVsZW1lbnRzW2ldO1xuXHRcdFx0Y29uc3QgZGF0YV9kb2N1bWVudF9pZCA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcpO1xuXG5cdFx0XHRpZiAoZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXNhdmVfdmFsdWUnKSA9PSAnZmFsc2UnKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIWRhdGFfZG9jdW1lbnRfaWQpIHtcblx0XHRcdFx0aWYgKGVsLmdldEF0dHJpYnV0ZSgnbmFtZScpKSB7XG5cdFx0XHRcdFx0cmVxdWVzdF9kb2N1bWVudF9pZCA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGlmIChpbnB1dC5pc1VzYWdlWShlbCkpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh1dGlscy5pc1RlbXBsYXRlSW5wdXQoZWwpKSByZXR1cm47XG5cblx0XHRcdHZhciBuZXdfZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoXCJjbGlja2VkLXN1Ym1pdEJ0blwiLCB7XG5cdFx0XHRcdGJ1YmJsZXM6IHRydWUsXG5cdFx0XHRcdGRldGFpbDogeyBcblx0XHRcdFx0XHR0eXBlOiBcInN1Ym1pdEJ0blwiLCBcblx0XHRcdFx0XHRlbGVtZW50OiBlbCBcblx0XHRcdFx0fX0pO1xuXHRcdFx0ZWwuZGlzcGF0Y2hFdmVudChuZXdfZXZlbnQpOyAgXG5cdFx0fVxuXHRcdGlmIChyZXF1ZXN0X2RvY3VtZW50X2lkKSB7XG5cdFx0XHR0aGlzLnJlcXVlc3REb2N1bWVudElkT2ZGb3JtKGZvcm0pXG5cdFx0fVxuXHRcdFxuXHRcdGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdzYXZlZERvY3VtZW50Jywge1xuXHRcdFx0ZGV0YWlsOiB7fVxuXHRcdH0pKVxuXHR9LFxuXHRcblx0X19yZXF1ZXN0RG9jdW1lbnRJZDogZnVuY3Rpb24oZWxlbWVudCwgbmFtZUF0dHIgPSBcIm5hbWVcIiwgdmFsdWUgPSBudWxsKSB7XG5cdFx0Y29uc3QgY29sbGVjdGlvbiA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbGxlY3Rpb24nKVxuXHRcdGNvbnN0IG5hbWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShuYW1lQXR0cilcblx0XHRcblx0XHRpZiAoIWNvbGxlY3Rpb24gfHwgIW5hbWUpIHJldHVybiBcblxuXHRcdGNvbnN0IHJlcXVlc3RfaWQgPSBjY3V0aWxzLmdlbmVyYXRlVVVJRCgpO1xuXG5cdFx0ZWxlbWVudC5zZXRBdHRyaWJ1dGUodGhpcy5yZXF1ZXN0QXR0ciwgcmVxdWVzdF9pZCk7XG5cdFx0XG5cdFx0Y3J1ZC5jcmVhdGVEb2N1bWVudCh7XG5cdFx0XHRcImNvbGxlY3Rpb25cIjogY29sbGVjdGlvbixcblx0XHRcdFwiZWxlbWVudFwiOiByZXF1ZXN0X2lkLFxuXHRcdFx0XCJtZXRhZGF0YVwiOiBcIlwiLFxuXHRcdH0pXG5cdH0sXG5cdFx0XG5cdF9fcmVxdWVzdERvY3VtZW50SWRPZkZvcm06IGZ1bmN0aW9uIChmb3JtKSB7XG5cdFx0XG5cdFx0bGV0IHNlbGYgPSB0aGlzO1xuXHRcdGxldCBlbGVtZW5zID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdbbmFtZV0sIFtkYXRhLXBhc3NfdG9dJylcblx0XHRcblx0XHRsZXQgY29sbGVjdGlvbnMgPSBbXTtcblxuXHRcdGZvciAodmFyICBpID0gMDsgaSA8IGVsZW1lbnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGxldCBlbCA9IGVsZW1lbnNbaV07XG5cdFx0XHRpZiAoZWwucGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ3RlbXBsYXRlJykpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRjb25zdCBjb2xsZWN0aW9uID0gZWwuZ2V0QXR0cmlidXRlKFwiZGF0YS1jb2xsZWN0aW9uXCIpIHx8IGVsLmdldEF0dHJpYnV0ZShcImRhdGEtcGFzc19jb2xsZWN0aW9uXCIpIHx8IFwiXCI7XHRcblx0XHRcdFxuXHRcdFx0aWYgKFxuXHRcdFx0XHRjb2xsZWN0aW9uICE9PSBcIlwiICYmIFxuXHRcdFx0XHQhY29sbGVjdGlvbnMuaW5jbHVkZXMoY29sbGVjdGlvbikgJiYgXG5cdFx0XHRcdCghc2VsZi5jaGVja0lEKGVsLCAnZGF0YS1kb2N1bWVudF9pZCcpICYmICFzZWxmLmNoZWNrSUQoZWwsICdkYXRhLXBhc3NfZG9jdW1lbnRfaWQnKSlcblx0XHRcdCkge1xuXHRcdFx0XHRjb25zdCByZXF1ZXN0X2lkID0gY2N1dGlscy5nZW5lcmF0ZVVVSUQoKTtcblx0XHRcdFx0Y29sbGVjdGlvbnMucHVzaChjb2xsZWN0aW9uKTtcblxuXHRcdFx0XHRlbC5zZXRBdHRyaWJ1dGUodGhpcy5yZXF1ZXN0QXR0ciwgcmVxdWVzdF9pZCk7XG5cdFx0XHRcdC8vLiBnZXQgRGF0YVxuXHRcdFx0XHRcblx0XHRcdFx0bGV0IGRhdGEgPSB1dGlscy5nZXRGb3JtRGF0YShmb3JtLCBcIlwiLCBjb2xsZWN0aW9uKTtcblx0XHRcdFx0XG5cdFx0XHRcdC8qIEZpeE1FIENyZWF0ZSBEb2N1bWVudCByZXF1ZXN0ICovXHRcblx0XHRcdFx0Y3J1ZC5jcmVhdGVEb2N1bWVudCh7XG5cdFx0XHRcdFx0XCJjb2xsZWN0aW9uXCI6IGNvbGxlY3Rpb24sXG5cdFx0XHRcdFx0XCJlbGVtZW50XCI6IHJlcXVlc3RfaWQsXG5cdFx0XHRcdFx0J2RhdGEnOiBkYXRhLFxuXHRcdFx0XHRcdFwibWV0YWRhdGFcIjogXCJcIixcblx0XHRcdFx0fSlcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0X19zZXROZXdJZFByb2Nlc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIGRvY3VtZW50X2lkLCBwYXNzKSB7XG5cdFx0aWYgKCFlbGVtZW50KSByZXR1cm47XG5cdFx0XG4gIFx0XHRlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSh0aGlzLnJlcXVlc3RBdHRyKTtcblx0XHRjb25zdCBldmVudF9kYXRhID0ge1xuXHRcdFx0ZG9jdW1lbnRfaWQ6IGRvY3VtZW50X2lkLFxuXHRcdH1cblxuXHRcdGlmICghcGFzcyAmJiAhdGhpcy5jaGVja0lEKGVsZW1lbnQpICYmIGVsZW1lbnQuaGFzQXR0cmlidXRlKCduYW1lJykpIHtcblx0XHRcdGVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJywgZG9jdW1lbnRfaWQpO1xuXHQgIFx0fVxuXG5cdCAgXHRpZiAocGFzcyAmJiAhdGhpcy5jaGVja0lEKGVsZW1lbnQsICdkYXRhLXBhc3NfZG9jdW1lbnRfaWQnKSAmJiBlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnZGF0YS1wYXNzX3RvJykpIHtcblx0XHRcdGVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXBhc3NfZG9jdW1lbnRfaWQnLCBkb2N1bWVudF9pZCk7XG5cdFx0XHQvLyBDb0NyZWF0ZUxvZ2ljLnN0b3JlUGFzc0RhdGEoZWxlbWVudClcblx0XHRcdFxuXHRcdFx0aWYgKGVsZW1lbnQucGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ3N1Ym1pdEJ0bicpKSB7XG5cdFx0XHRcdGVsZW1lbnQuY2xpY2soKTtcblx0XHRcdH1cblx0ICBcdH1cbiAgXHRcblx0XHR2YXIgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ3NldC1kb2N1bWVudF9pZCcsIHtkZXRhaWw6IGV2ZW50X2RhdGF9KVxuXHRcdGVsZW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XG5cblx0fSxcblx0XG5cdF9fcmVjZWl2ZWREb2N1bWVudElkOiBmdW5jdGlvbihkYXRhKSB7XG5cdFx0aWYgKCFkYXRhWydkb2N1bWVudF9pZCddKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0bGV0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbJHt0aGlzLnJlcXVlc3RBdHRyfT1cIiR7ZGF0YVsnZWxlbWVudCddfVwiXWApO1xuXHRcdGlmICghZWxlbWVudCkgcmV0dXJuO1xuXHRcdGxldCBzZWxmID0gdGhpcztcblx0XHRjb25zdCBmb3JtID0gKGVsZW1lbnQudGFnTmFtZSA9PT0gXCJGT1JNXCIpID8gZWxlbWVudCA6IHV0aWxzLmdldFBhcmVudHMoZWxlbWVudCwgJ2Zvcm0nKTtcblx0XHRjb25zdCBjb2xsZWN0aW9uID0gZGF0YVsnY29sbGVjdGlvbiddO1xuXHRcdGNvbnN0IGlkID0gZGF0YVsnZG9jdW1lbnRfaWQnXVxuXHRcdGlmIChmb3JtICYmIGlkKSB7XG5cdFx0XHRmb3JtLnNldEF0dHJpYnV0ZSgnZGF0YS1mb3JtX2lkJywgZGF0YVsnZWxlbWVudCddKTtcblx0XHRcdGNvbnN0IGVsZW1lbnRzID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKGBbZGF0YS1jb2xsZWN0aW9uPSR7Y29sbGVjdGlvbn1dLCBbZGF0YS1wYXNzX2NvbGxlY3Rpb249JHtjb2xsZWN0aW9ufV1gKVxuXHRcdFx0ZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbihlbCkge1xuXHRcdFx0XHRlbC5yZW1vdmVBdHRyaWJ1dGUoc2VsZi5yZXF1ZXN0QXR0cik7XG5cdFx0XHRcdGlmIChlbC5oYXNBdHRyaWJ1dGUoJ25hbWUnKSkgc2VsZi5fX3NldE5ld0lkUHJvY2VzcyhlbCwgaWQpO1xuXHRcdFx0XHRpZiAoZWwuaGFzQXR0cmlidXRlKCdkYXRhLXBhc3NfdG8nKSkgc2VsZi5fX3NldE5ld0lkUHJvY2VzcyhlbCwgaWQsIHRydWUpO1xuXHRcdFx0fSlcblx0ICBcdFxuXHRcdH0gZWxzZSBpZiAoZWxlbWVudCkge1xuXHRcdFx0dGhpcy5fX3NldE5ld0lkUHJvY2VzcyhlbGVtZW50LCBpZCk7XG5cdFx0fVxuXHR9LFxufVxuXG5Db0NyZWF0ZUZvcm0uX19pbml0KCk7XG4vLyBjb3JlLnJlZ2lzdGVySW5pdChDb0NyZWF0ZUZvcm0uaW5pdEVsZW1lbnQsIENvQ3JlYXRlRm9ybSk7XG5cbm9ic2VydmVyLmluaXQoeyBcblx0bmFtZTogJ0NvQ3JlYXRlRm9ybScsIFxuXHRvYnNlcnZlOiBbJ3N1YnRyZWUnLCAnY2hpbGRMaXN0J10sXG5cdGluY2x1ZGU6ICdmb3JtJywgXG5cdGNhbGxiYWNrOiBmdW5jdGlvbihtdXRhdGlvbikge1xuXHRcdENvQ3JlYXRlRm9ybS5pbml0RWxlbWVudChtdXRhdGlvbi50YXJnZXQpXG5cdH1cbn0pXG5cbmFjdGlvbi5pbml0KHtcblx0YWN0aW9uOiBcImNyZWF0ZURvY3VtZW50XCIsXG5cdGVuZEV2ZW50OiBcImNyZWF0ZWREb2N1bWVudFwiLFxuXHRjYWxsYmFjazogKGJ0biwgZGF0YSkgPT4ge1xuXHRcdENvQ3JlYXRlRm9ybS5fX2NyZWF0ZURvY3VtZW50QWN0aW9uKGJ0bilcblx0fSxcbn0pXG5cbmFjdGlvbi5pbml0KHtcblx0YWN0aW9uOiBcImRlbGV0ZURvY3VtZW50XCIsXG5cdGVuZEV2ZW50OiBcImRlbGV0ZWREb2N1bWVudFwiLFxuXHRjYWxsYmFjazogKGJ0biwgZGF0YSkgPT4ge1xuXHRcdENvQ3JlYXRlRm9ybS5fX2RlbGV0ZURvY3VtZW50QWN0aW9uKGJ0bilcblx0fSxcbn0pXG5cbmFjdGlvbi5pbml0KHtcblx0YWN0aW9uOiBcImRlbGV0ZURvY3VtZW50c1wiLFxuXHRlbmRFdmVudDogXCJkZWxldGVkRG9jdW1lbnRzXCIsXG5cdGNhbGxiYWNrOiAoYnRuLCBkYXRhKSA9PiB7XG5cdFx0Q29DcmVhdGVEb2N1bWVudC5fX2RlbGV0ZURvY3VtZW50c0FjdGlvbihidG4pXG5cdH0sXG59KVxuXG5hY3Rpb24uaW5pdCh7XG5cdGFjdGlvbjogXCJzYXZlRG9jdW1lbnRcIixcblx0ZW5kRXZlbnQ6IFwic2F2ZWREb2N1bWVudFwiLFxuXHRjYWxsYmFjazogKGJ0biwgZGF0YSkgPT4ge1xuXHRcdENvQ3JlYXRlRm9ybS5fX3NhdmVEb2N1bWVudEFjdGlvbihidG4pXG5cdH0sXG59KVxuXG5leHBvcnQgZGVmYXVsdCBDb0NyZWF0ZUZvcm07Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../CoCreate-components/CoCreate-form/src/index.js\n")},"../../CoCreate-components/CoCreate-form/src/utils.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nconst Utils = {\n  disableAutoFill: function (element) {\n    if (element.tagName == \"TEXTAREA\") {\n      element.value = \"\";\n      element.setAttribute(\"autocomplete\", \"off\");\n    }\n\n    if (!element.hasAttribute(\"autocomplete\")) {\n      element.setAttribute('autocomplete', \"off\");\n    }\n  },\n  setAttribute: function (form) {\n    const collection = form.getAttribute('data-collection') || \"\";\n    const dataRealTime = form.getAttribute('data-realtime');\n    const document_id = form.getAttribute('data-document_id') || \"\";\n    let elements = form.querySelectorAll('[name], [data-pass_to]');\n    elements.forEach(function (el) {\n      if (el.parentNode.classList.contains('template')) {\n        return;\n      }\n\n      if (el.getAttribute('data-realtime') == null && dataRealTime) {\n        // if (!['INPUT', 'TEXTAREA'].indexOf(el.tagName)) {\n        el.setAttribute('data-realtime', dataRealTime); // }\n      }\n\n      if (el.getAttribute('name') && !el.hasAttribute('data-collection') && collection) {\n        el.setAttribute('data-collection', collection);\n      }\n\n      if (el.getAttribute('data-pass_to') && !el.hasAttribute('data-pass_collection') && collection) {\n        el.setAttribute('data-pass_collection', collection);\n      }\n\n      if (el.getAttribute('name') && !el.getAttribute('data-document_id') && document_id) {\n        el.setAttribute('data-document_id', document_id);\n      }\n\n      if (!el.hasAttribute(\"data-document_id\") && document_id != null) {\n        el.setAttribute('data-document_id', document_id);\n      }\n    });\n  },\n  checkFormValidate: function (form) {\n    if (typeof CoCreate.unique !== 'undefined') {\n      return CoCreate.unique.checkValidate(form);\n    }\n\n    return true;\n  },\n  isTemplateInput: function (input) {\n    if (input.classList.contains('template')) return true;\n    let node = input.parentNode;\n\n    while (node) {\n      if (node.classList && node.classList.contains('template')) {\n        return true;\n      }\n\n      node = node.parentNode;\n    }\n\n    return false;\n  },\n  getFormData: function (form, document_id, collection) {\n    let data = {};\n    if (!collection) return {};\n    const elements = form.querySelectorAll(`[name][data-collection='${collection}']`);\n    elements.forEach(el => {\n      let el_document_id = el.getAttribute('data-document_id') || \"\";\n      let name = el.getAttribute('name');\n      let value = el.value || el.getAttribute('value');\n      if (name === \"_id\") return;\n      if (!name || !value) return;\n\n      if (document_id == el_document_id) {\n        data[name] = el.value;\n      }\n    });\n    return data;\n  },\n  // getFormData: function(form, selectors) {\n  // \tconst self = this; \n  // \tconst elements = form.querySelectorAll(selectors.join(','));\n  // \tlet request_document_id = false;\n  // \tlet dataList = [];\n  // \telements.forEach(el => {\n  // \t\tlet collection = el.getAttribute('data-collection')\n  // \t\tlet document_id = el.getAttribute('data-document_id')\n  // \t\tlet name = el.getAttribute('name')\n  // \t\tif (el.getAttribute('data-save_value') == 'false') {\n  // \t\t\treturn;\n  // \t\t}\n  // \t\tif (!document_id && name) {\n  // \t\t\trequest_document_id = true;\n  // \t\t\treturn;\n  // \t\t}\n  // \t\tlet data = dataList.find(d => d.collection == collection && d.document_id == document_id);\n  // \t})\n  // },\n  getParents: function (element, selector = \"form\") {\n    if (!Element.prototype.matches) {\n      Element.prototype.matches = Element.prototype.matchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.webkitMatchesSelector || function (s) {\n        var matches = (this.document || this.ownerDocument).querySelectorAll(s),\n            i = matches.length;\n\n        while (--i >= 0 && matches.item(i) !== this) {}\n\n        return i > -1;\n      };\n    }\n\n    for (; element && element !== document; element = element.parentNode) {\n      if (element.matches(selector)) return element;\n    }\n\n    return null;\n  },\n  setDocumentIDOfElement: function (element, document_id) {\n    let old_document_id = element.getAttribute('data-document_id');\n\n    if (!old_document_id || old_document_id == \"\" || old_document_id == \"pending\") {\n      element.setAttribute('data-document_id', document_id);\n    }\n  },\n  getCOllections: function (form) {\n    let collections = [];\n    if (!form) return collections;\n    let els = form.querySelectorAll('[name][data-collection]');\n    els.forEach(el => {\n      let tmpCollection = el.getAttribute('data-collection');\n\n      if (tmpCollection && !collections.includes(tmpCollection)) {\n        collections.push(tmpCollection);\n      }\n    });\n    return collections;\n  }\n};\nvar _default = Utils;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5xdWlsbC8vaG9tZS91YnVudHUvZW52aXJvbm1lbnQvcHVibGljL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtZm9ybS9zcmMvdXRpbHMuanM/OTlmNSJdLCJuYW1lcyI6WyJVdGlscyIsImRpc2FibGVBdXRvRmlsbCIsImVsZW1lbnQiLCJ0YWdOYW1lIiwidmFsdWUiLCJzZXRBdHRyaWJ1dGUiLCJoYXNBdHRyaWJ1dGUiLCJmb3JtIiwiY29sbGVjdGlvbiIsImdldEF0dHJpYnV0ZSIsImRhdGFSZWFsVGltZSIsImRvY3VtZW50X2lkIiwiZWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImVsIiwicGFyZW50Tm9kZSIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiY2hlY2tGb3JtVmFsaWRhdGUiLCJDb0NyZWF0ZSIsInVuaXF1ZSIsImNoZWNrVmFsaWRhdGUiLCJpc1RlbXBsYXRlSW5wdXQiLCJpbnB1dCIsIm5vZGUiLCJnZXRGb3JtRGF0YSIsImRhdGEiLCJlbF9kb2N1bWVudF9pZCIsIm5hbWUiLCJnZXRQYXJlbnRzIiwic2VsZWN0b3IiLCJFbGVtZW50IiwicHJvdG90eXBlIiwibWF0Y2hlcyIsIm1hdGNoZXNTZWxlY3RvciIsIm1vek1hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwib01hdGNoZXNTZWxlY3RvciIsIndlYmtpdE1hdGNoZXNTZWxlY3RvciIsInMiLCJkb2N1bWVudCIsIm93bmVyRG9jdW1lbnQiLCJpIiwibGVuZ3RoIiwiaXRlbSIsInNldERvY3VtZW50SURPZkVsZW1lbnQiLCJvbGRfZG9jdW1lbnRfaWQiLCJnZXRDT2xsZWN0aW9ucyIsImNvbGxlY3Rpb25zIiwiZWxzIiwidG1wQ29sbGVjdGlvbiIsImluY2x1ZGVzIiwicHVzaCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0EsTUFBTUEsS0FBSyxHQUFHO0FBRWJDLGlCQUFlLEVBQUUsVUFBU0MsT0FBVCxFQUFrQjtBQUNsQyxRQUFJQSxPQUFPLENBQUNDLE9BQVIsSUFBbUIsVUFBdkIsRUFBbUM7QUFDbENELGFBQU8sQ0FBQ0UsS0FBUixHQUFnQixFQUFoQjtBQUNBRixhQUFPLENBQUNHLFlBQVIsQ0FBcUIsY0FBckIsRUFBb0MsS0FBcEM7QUFDQTs7QUFDRCxRQUFJLENBQUNILE9BQU8sQ0FBQ0ksWUFBUixDQUFxQixjQUFyQixDQUFMLEVBQTJDO0FBQzFDSixhQUFPLENBQUNHLFlBQVIsQ0FBcUIsY0FBckIsRUFBcUMsS0FBckM7QUFDQTtBQUNELEdBVlk7QUFZYkEsY0FBWSxFQUFFLFVBQVNFLElBQVQsRUFBZTtBQUU1QixVQUFNQyxVQUFVLEdBQUdELElBQUksQ0FBQ0UsWUFBTCxDQUFrQixpQkFBbEIsS0FBd0MsRUFBM0Q7QUFDQSxVQUFNQyxZQUFZLEdBQUdILElBQUksQ0FBQ0UsWUFBTCxDQUFrQixlQUFsQixDQUFyQjtBQUNBLFVBQU1FLFdBQVcsR0FBR0osSUFBSSxDQUFDRSxZQUFMLENBQWtCLGtCQUFsQixLQUF5QyxFQUE3RDtBQUNBLFFBQUlHLFFBQVEsR0FBR0wsSUFBSSxDQUFDTSxnQkFBTCxDQUFzQix3QkFBdEIsQ0FBZjtBQUdBRCxZQUFRLENBQUNFLE9BQVQsQ0FBaUIsVUFBU0MsRUFBVCxFQUFhO0FBQzdCLFVBQUlBLEVBQUUsQ0FBQ0MsVUFBSCxDQUFjQyxTQUFkLENBQXdCQyxRQUF4QixDQUFpQyxVQUFqQyxDQUFKLEVBQWtEO0FBQ2pEO0FBQ0E7O0FBQ0QsVUFBSUgsRUFBRSxDQUFDTixZQUFILENBQWdCLGVBQWhCLEtBQW9DLElBQXBDLElBQTRDQyxZQUFoRCxFQUE4RDtBQUU3RDtBQUNBSyxVQUFFLENBQUNWLFlBQUgsQ0FBZ0IsZUFBaEIsRUFBaUNLLFlBQWpDLEVBSDZELENBSTdEO0FBQ0E7O0FBQ0QsVUFBSUssRUFBRSxDQUFDTixZQUFILENBQWdCLE1BQWhCLEtBQTJCLENBQUNNLEVBQUUsQ0FBQ1QsWUFBSCxDQUFnQixpQkFBaEIsQ0FBNUIsSUFBa0VFLFVBQXRFLEVBQWtGO0FBQ2pGTyxVQUFFLENBQUNWLFlBQUgsQ0FBZ0IsaUJBQWhCLEVBQW1DRyxVQUFuQztBQUNBOztBQUVELFVBQUlPLEVBQUUsQ0FBQ04sWUFBSCxDQUFnQixjQUFoQixLQUFtQyxDQUFDTSxFQUFFLENBQUNULFlBQUgsQ0FBZ0Isc0JBQWhCLENBQXBDLElBQWdGRSxVQUFwRixFQUFnRztBQUMvRk8sVUFBRSxDQUFDVixZQUFILENBQWdCLHNCQUFoQixFQUF3Q0csVUFBeEM7QUFDQTs7QUFFRCxVQUFJTyxFQUFFLENBQUNOLFlBQUgsQ0FBZ0IsTUFBaEIsS0FBMkIsQ0FBQ00sRUFBRSxDQUFDTixZQUFILENBQWdCLGtCQUFoQixDQUE1QixJQUFtRUUsV0FBdkUsRUFBb0Y7QUFDbkZJLFVBQUUsQ0FBQ1YsWUFBSCxDQUFnQixrQkFBaEIsRUFBb0NNLFdBQXBDO0FBQ0E7O0FBQ0QsVUFBSSxDQUFDSSxFQUFFLENBQUNULFlBQUgsQ0FBZ0Isa0JBQWhCLENBQUQsSUFBd0NLLFdBQVcsSUFBSSxJQUEzRCxFQUFpRTtBQUNoRUksVUFBRSxDQUFDVixZQUFILENBQWdCLGtCQUFoQixFQUFvQ00sV0FBcEM7QUFDQTtBQUVELEtBekJEO0FBMEJBLEdBOUNZO0FBZ0RiUSxtQkFBaUIsRUFBRSxVQUFTWixJQUFULEVBQWU7QUFFakMsUUFBSSxPQUFPYSxRQUFRLENBQUNDLE1BQWhCLEtBQTJCLFdBQS9CLEVBQTRDO0FBQzNDLGFBQU9ELFFBQVEsQ0FBQ0MsTUFBVCxDQUFnQkMsYUFBaEIsQ0FBOEJmLElBQTlCLENBQVA7QUFDQTs7QUFDRCxXQUFPLElBQVA7QUFDQSxHQXREWTtBQXdEYmdCLGlCQUFlLEVBQUUsVUFBVUMsS0FBVixFQUFpQjtBQUNqQyxRQUFJQSxLQUFLLENBQUNQLFNBQU4sQ0FBZ0JDLFFBQWhCLENBQXlCLFVBQXpCLENBQUosRUFBMEMsT0FBTyxJQUFQO0FBRTFDLFFBQUlPLElBQUksR0FBR0QsS0FBSyxDQUFDUixVQUFqQjs7QUFDQSxXQUFPUyxJQUFQLEVBQWE7QUFDWixVQUFJQSxJQUFJLENBQUNSLFNBQUwsSUFBa0JRLElBQUksQ0FBQ1IsU0FBTCxDQUFlQyxRQUFmLENBQXdCLFVBQXhCLENBQXRCLEVBQTJEO0FBQzFELGVBQU8sSUFBUDtBQUNBOztBQUNETyxVQUFJLEdBQUdBLElBQUksQ0FBQ1QsVUFBWjtBQUNBOztBQUVELFdBQU8sS0FBUDtBQUNBLEdBcEVZO0FBc0ViVSxhQUFXLEVBQUUsVUFBU25CLElBQVQsRUFBZUksV0FBZixFQUE0QkgsVUFBNUIsRUFBd0M7QUFDcEQsUUFBSW1CLElBQUksR0FBRyxFQUFYO0FBQ0EsUUFBSSxDQUFDbkIsVUFBTCxFQUFpQixPQUFPLEVBQVA7QUFFakIsVUFBTUksUUFBUSxHQUFHTCxJQUFJLENBQUNNLGdCQUFMLENBQXVCLDJCQUEwQkwsVUFBVyxJQUE1RCxDQUFqQjtBQUNBSSxZQUFRLENBQUNFLE9BQVQsQ0FBa0JDLEVBQUQsSUFBUTtBQUN4QixVQUFJYSxjQUFjLEdBQUdiLEVBQUUsQ0FBQ04sWUFBSCxDQUFnQixrQkFBaEIsS0FBdUMsRUFBNUQ7QUFDQSxVQUFJb0IsSUFBSSxHQUFHZCxFQUFFLENBQUNOLFlBQUgsQ0FBZ0IsTUFBaEIsQ0FBWDtBQUNBLFVBQUlMLEtBQUssR0FBR1csRUFBRSxDQUFDWCxLQUFILElBQVlXLEVBQUUsQ0FBQ04sWUFBSCxDQUFnQixPQUFoQixDQUF4QjtBQUNBLFVBQUlvQixJQUFJLEtBQUssS0FBYixFQUFvQjtBQUNwQixVQUFJLENBQUNBLElBQUQsSUFBUyxDQUFDekIsS0FBZCxFQUFxQjs7QUFDckIsVUFBSU8sV0FBVyxJQUFJaUIsY0FBbkIsRUFBbUM7QUFDbENELFlBQUksQ0FBQ0UsSUFBRCxDQUFKLEdBQWFkLEVBQUUsQ0FBQ1gsS0FBaEI7QUFDQTtBQUNELEtBVEQ7QUFVQSxXQUFPdUIsSUFBUDtBQUNBLEdBdEZZO0FBdUZiO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUFHLFlBQVUsRUFBRSxVQUFTNUIsT0FBVCxFQUFrQjZCLFFBQVEsR0FBRyxNQUE3QixFQUFxQztBQUNoRCxRQUFJLENBQUNDLE9BQU8sQ0FBQ0MsU0FBUixDQUFrQkMsT0FBdkIsRUFBZ0M7QUFDL0JGLGFBQU8sQ0FBQ0MsU0FBUixDQUFrQkMsT0FBbEIsR0FBNEJGLE9BQU8sQ0FBQ0MsU0FBUixDQUFrQkUsZUFBbEIsSUFBcUNILE9BQU8sQ0FBQ0MsU0FBUixDQUFrQkcsa0JBQXZELElBQTZFSixPQUFPLENBQUNDLFNBQVIsQ0FBa0JJLGlCQUEvRixJQUFvSEwsT0FBTyxDQUFDQyxTQUFSLENBQWtCSyxnQkFBdEksSUFBMEpOLE9BQU8sQ0FBQ0MsU0FBUixDQUFrQk0scUJBQTVLLElBRTVCLFVBQVNDLENBQVQsRUFBWTtBQUNYLFlBQUlOLE9BQU8sR0FBRyxDQUFDLEtBQUtPLFFBQUwsSUFBaUIsS0FBS0MsYUFBdkIsRUFBc0M3QixnQkFBdEMsQ0FBdUQyQixDQUF2RCxDQUFkO0FBQUEsWUFBeUVHLENBQUMsR0FBR1QsT0FBTyxDQUFDVSxNQUFyRjs7QUFDQSxlQUFPLEVBQUVELENBQUYsSUFBTyxDQUFQLElBQVlULE9BQU8sQ0FBQ1csSUFBUixDQUFhRixDQUFiLE1BQW9CLElBQXZDLEVBQTZDLENBQUU7O0FBQy9DLGVBQU9BLENBQUMsR0FBRyxDQUFDLENBQVo7QUFDQSxPQU5EO0FBT0E7O0FBRUQsV0FBUXpDLE9BQU8sSUFBSUEsT0FBTyxLQUFLdUMsUUFBL0IsRUFBeUN2QyxPQUFPLEdBQUdBLE9BQU8sQ0FBQ2MsVUFBM0QsRUFBd0U7QUFDdkUsVUFBS2QsT0FBTyxDQUFDZ0MsT0FBUixDQUFpQkgsUUFBakIsQ0FBTCxFQUFtQyxPQUFPN0IsT0FBUDtBQUNuQzs7QUFDRCxXQUFPLElBQVA7QUFDQSxHQWpJWTtBQW1JYjRDLHdCQUFzQixFQUFFLFVBQVM1QyxPQUFULEVBQWtCUyxXQUFsQixFQUErQjtBQUN0RCxRQUFJb0MsZUFBZSxHQUFHN0MsT0FBTyxDQUFDTyxZQUFSLENBQXFCLGtCQUFyQixDQUF0Qjs7QUFDQSxRQUFJLENBQUNzQyxlQUFELElBQW9CQSxlQUFlLElBQUksRUFBdkMsSUFBNkNBLGVBQWUsSUFBSSxTQUFwRSxFQUErRTtBQUM5RTdDLGFBQU8sQ0FBQ0csWUFBUixDQUFxQixrQkFBckIsRUFBeUNNLFdBQXpDO0FBQ0E7QUFDRCxHQXhJWTtBQTBJYnFDLGdCQUFjLEVBQUUsVUFBU3pDLElBQVQsRUFBZTtBQUM5QixRQUFJMEMsV0FBVyxHQUFHLEVBQWxCO0FBQ0EsUUFBSSxDQUFDMUMsSUFBTCxFQUFXLE9BQU8wQyxXQUFQO0FBRVgsUUFBSUMsR0FBRyxHQUFHM0MsSUFBSSxDQUFDTSxnQkFBTCxDQUFzQix5QkFBdEIsQ0FBVjtBQUNBcUMsT0FBRyxDQUFDcEMsT0FBSixDQUFhQyxFQUFELElBQVE7QUFDbkIsVUFBSW9DLGFBQWEsR0FBR3BDLEVBQUUsQ0FBQ04sWUFBSCxDQUFnQixpQkFBaEIsQ0FBcEI7O0FBQ0EsVUFBSTBDLGFBQWEsSUFBSSxDQUFDRixXQUFXLENBQUNHLFFBQVosQ0FBcUJELGFBQXJCLENBQXRCLEVBQTJEO0FBQzFERixtQkFBVyxDQUFDSSxJQUFaLENBQWlCRixhQUFqQjtBQUNBO0FBQ0QsS0FMRDtBQU1BLFdBQU9GLFdBQVA7QUFDQTtBQXRKWSxDQUFkO2VBeUplakQsSyIsImZpbGUiOiIuLi8uLi9Db0NyZWF0ZS1jb21wb25lbnRzL0NvQ3JlYXRlLWZvcm0vc3JjL3V0aWxzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5jb25zdCBVdGlscyA9IHtcblxuXHRkaXNhYmxlQXV0b0ZpbGw6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcblx0XHRpZiAoZWxlbWVudC50YWdOYW1lID09IFwiVEVYVEFSRUFcIikge1xuXHRcdFx0ZWxlbWVudC52YWx1ZSA9IFwiXCI7XG5cdFx0XHRlbGVtZW50LnNldEF0dHJpYnV0ZShcImF1dG9jb21wbGV0ZVwiLFwib2ZmXCIpXG5cdFx0fVxuXHRcdGlmICghZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJhdXRvY29tcGxldGVcIikpIHtcblx0XHRcdGVsZW1lbnQuc2V0QXR0cmlidXRlKCdhdXRvY29tcGxldGUnLCBcIm9mZlwiKTtcblx0XHR9XG5cdH0sXG5cblx0c2V0QXR0cmlidXRlOiBmdW5jdGlvbihmb3JtKSB7XG5cdFx0XG5cdFx0Y29uc3QgY29sbGVjdGlvbiA9IGZvcm0uZ2V0QXR0cmlidXRlKCdkYXRhLWNvbGxlY3Rpb24nKSB8fCBcIlwiOyBcblx0XHRjb25zdCBkYXRhUmVhbFRpbWUgPSBmb3JtLmdldEF0dHJpYnV0ZSgnZGF0YS1yZWFsdGltZScpO1xuXHRcdGNvbnN0IGRvY3VtZW50X2lkID0gZm9ybS5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKSB8fCBcIlwiO1xuXHRcdGxldCBlbGVtZW50cyA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnW25hbWVdLCBbZGF0YS1wYXNzX3RvXScpXG5cdFx0XG5cdFx0XHRcdFx0XG5cdFx0ZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbihlbCkge1xuXHRcdFx0aWYgKGVsLnBhcmVudE5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCd0ZW1wbGF0ZScpKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGlmIChlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcmVhbHRpbWUnKSA9PSBudWxsICYmIGRhdGFSZWFsVGltZSkge1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gaWYgKCFbJ0lOUFVUJywgJ1RFWFRBUkVBJ10uaW5kZXhPZihlbC50YWdOYW1lKSkge1xuXHRcdFx0XHRlbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtcmVhbHRpbWUnLCBkYXRhUmVhbFRpbWUpO1xuXHRcdFx0XHQvLyB9XG5cdFx0XHR9XG5cdFx0XHRpZiAoZWwuZ2V0QXR0cmlidXRlKCduYW1lJykgJiYgIWVsLmhhc0F0dHJpYnV0ZSgnZGF0YS1jb2xsZWN0aW9uJykgJiYgY29sbGVjdGlvbikge1xuXHRcdFx0XHRlbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjdGlvbicsIGNvbGxlY3Rpb24pO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRpZiAoZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXBhc3NfdG8nKSAmJiAhZWwuaGFzQXR0cmlidXRlKCdkYXRhLXBhc3NfY29sbGVjdGlvbicpICYmICBjb2xsZWN0aW9uKSB7XG5cdFx0XHRcdGVsLnNldEF0dHJpYnV0ZSgnZGF0YS1wYXNzX2NvbGxlY3Rpb24nLCBjb2xsZWN0aW9uKTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0aWYgKGVsLmdldEF0dHJpYnV0ZSgnbmFtZScpICYmICFlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKSAmJiBkb2N1bWVudF9pZCkge1xuXHRcdFx0XHRlbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnLCBkb2N1bWVudF9pZClcblx0XHRcdH1cblx0XHRcdGlmICghZWwuaGFzQXR0cmlidXRlKFwiZGF0YS1kb2N1bWVudF9pZFwiKSAmJiBkb2N1bWVudF9pZCAhPSBudWxsKSB7XG5cdFx0XHRcdGVsLnNldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcsIGRvY3VtZW50X2lkKVxuXHRcdFx0fVxuXG5cdFx0fSlcblx0fSxcblxuXHRjaGVja0Zvcm1WYWxpZGF0ZTogZnVuY3Rpb24oZm9ybSkge1xuXHRcdFxuXHRcdGlmICh0eXBlb2YgQ29DcmVhdGUudW5pcXVlICE9PSAndW5kZWZpbmVkJykge1xuXHRcdFx0cmV0dXJuIENvQ3JlYXRlLnVuaXF1ZS5jaGVja1ZhbGlkYXRlKGZvcm0pXG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXHRcblx0aXNUZW1wbGF0ZUlucHV0OiBmdW5jdGlvbiAoaW5wdXQpIHtcblx0XHRpZiAoaW5wdXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd0ZW1wbGF0ZScpKSByZXR1cm4gdHJ1ZTtcblx0XHRcblx0XHRsZXQgbm9kZSA9IGlucHV0LnBhcmVudE5vZGU7XG5cdFx0d2hpbGUgKG5vZGUpIHtcblx0XHRcdGlmIChub2RlLmNsYXNzTGlzdCAmJiBub2RlLmNsYXNzTGlzdC5jb250YWlucygndGVtcGxhdGUnKSkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG5cdFx0fVxuXHRcdFxuXHRcdHJldHVybiBmYWxzZTtcblx0fSxcblx0XG5cdGdldEZvcm1EYXRhOiBmdW5jdGlvbihmb3JtLCBkb2N1bWVudF9pZCwgY29sbGVjdGlvbikge1xuXHRcdGxldCBkYXRhID0ge307XG5cdFx0aWYgKCFjb2xsZWN0aW9uKSByZXR1cm4ge31cblx0XHRcblx0XHRjb25zdCBlbGVtZW50cyA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbChgW25hbWVdW2RhdGEtY29sbGVjdGlvbj0nJHtjb2xsZWN0aW9ufSddYClcblx0XHRlbGVtZW50cy5mb3JFYWNoKChlbCkgPT4ge1xuXHRcdFx0bGV0IGVsX2RvY3VtZW50X2lkID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJykgfHwgXCJcIlxuXHRcdFx0bGV0IG5hbWUgPSBlbC5nZXRBdHRyaWJ1dGUoJ25hbWUnKVxuXHRcdFx0bGV0IHZhbHVlID0gZWwudmFsdWUgfHwgZWwuZ2V0QXR0cmlidXRlKCd2YWx1ZScpXG5cdFx0XHRpZiAobmFtZSA9PT0gXCJfaWRcIikgcmV0dXJuO1xuXHRcdFx0aWYgKCFuYW1lIHx8ICF2YWx1ZSkgcmV0dXJuO1xuXHRcdFx0aWYgKGRvY3VtZW50X2lkID09IGVsX2RvY3VtZW50X2lkKSB7XG5cdFx0XHRcdGRhdGFbbmFtZV0gPSBlbC52YWx1ZVxuXHRcdFx0fVxuXHRcdH0pXG5cdFx0cmV0dXJuIGRhdGE7XG5cdH0sXG5cdC8vIGdldEZvcm1EYXRhOiBmdW5jdGlvbihmb3JtLCBzZWxlY3RvcnMpIHtcblx0Ly8gXHRjb25zdCBzZWxmID0gdGhpczsgXG5cdC8vIFx0Y29uc3QgZWxlbWVudHMgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3JzLmpvaW4oJywnKSk7XG5cdFx0XG5cdC8vIFx0bGV0IHJlcXVlc3RfZG9jdW1lbnRfaWQgPSBmYWxzZTtcblx0Ly8gXHRsZXQgZGF0YUxpc3QgPSBbXTtcblx0XHRcblx0XHRcblx0Ly8gXHRlbGVtZW50cy5mb3JFYWNoKGVsID0+IHtcblx0Ly8gXHRcdGxldCBjb2xsZWN0aW9uID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbGxlY3Rpb24nKVxuXHQvLyBcdFx0bGV0IGRvY3VtZW50X2lkID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJylcblx0Ly8gXHRcdGxldCBuYW1lID0gZWwuZ2V0QXR0cmlidXRlKCduYW1lJylcblx0XHRcdFxuXHQvLyBcdFx0aWYgKGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zYXZlX3ZhbHVlJykgPT0gJ2ZhbHNlJykge1xuXHQvLyBcdFx0XHRyZXR1cm47XG5cdC8vIFx0XHR9XG5cdFx0XHRcblx0Ly8gXHRcdGlmICghZG9jdW1lbnRfaWQgJiYgbmFtZSkge1xuXHQvLyBcdFx0XHRyZXF1ZXN0X2RvY3VtZW50X2lkID0gdHJ1ZTtcblx0Ly8gXHRcdFx0cmV0dXJuO1xuXHQvLyBcdFx0fVxuXHRcdFx0XG5cdC8vIFx0XHRsZXQgZGF0YSA9IGRhdGFMaXN0LmZpbmQoZCA9PiBkLmNvbGxlY3Rpb24gPT0gY29sbGVjdGlvbiAmJiBkLmRvY3VtZW50X2lkID09IGRvY3VtZW50X2lkKTtcblx0XHRcdFx0XG5cdC8vIFx0fSlcblx0Ly8gfSxcblx0XG5cdGdldFBhcmVudHM6IGZ1bmN0aW9uKGVsZW1lbnQsIHNlbGVjdG9yID0gXCJmb3JtXCIpIHtcblx0XHRpZiAoIUVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMpIHtcblx0XHRcdEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMgPVx0RWxlbWVudC5wcm90b3R5cGUubWF0Y2hlc1NlbGVjdG9yIHx8IEVsZW1lbnQucHJvdG90eXBlLm1vek1hdGNoZXNTZWxlY3RvciB8fCBFbGVtZW50LnByb3RvdHlwZS5tc01hdGNoZXNTZWxlY3RvciB8fFx0RWxlbWVudC5wcm90b3R5cGUub01hdGNoZXNTZWxlY3RvciB8fFx0RWxlbWVudC5wcm90b3R5cGUud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8XG5cdFx0XHRcblx0XHRcdGZ1bmN0aW9uKHMpIHtcblx0XHRcdFx0dmFyIG1hdGNoZXMgPSAodGhpcy5kb2N1bWVudCB8fCB0aGlzLm93bmVyRG9jdW1lbnQpLnF1ZXJ5U2VsZWN0b3JBbGwocyksIGkgPSBtYXRjaGVzLmxlbmd0aDtcblx0XHRcdFx0d2hpbGUgKC0taSA+PSAwICYmIG1hdGNoZXMuaXRlbShpKSAhPT0gdGhpcykge31cblx0XHRcdFx0cmV0dXJuIGkgPiAtMTtcblx0XHRcdH07XG5cdFx0fVxuXHRcdFxuXHRcdGZvciAoIDsgZWxlbWVudCAmJiBlbGVtZW50ICE9PSBkb2N1bWVudDsgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZSApIHtcblx0XHRcdGlmICggZWxlbWVudC5tYXRjaGVzKCBzZWxlY3RvciApICkgcmV0dXJuIGVsZW1lbnQ7XG5cdFx0fVxuXHRcdHJldHVybiBudWxsO1xuXHR9LFxuXHRcblx0c2V0RG9jdW1lbnRJRE9mRWxlbWVudDogZnVuY3Rpb24oZWxlbWVudCwgZG9jdW1lbnRfaWQpIHtcblx0XHRsZXQgb2xkX2RvY3VtZW50X2lkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKTtcblx0XHRpZiAoIW9sZF9kb2N1bWVudF9pZCB8fCBvbGRfZG9jdW1lbnRfaWQgPT0gXCJcIiB8fCBvbGRfZG9jdW1lbnRfaWQgPT0gXCJwZW5kaW5nXCIpIHtcblx0XHRcdGVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJywgZG9jdW1lbnRfaWQpO1xuXHRcdH1cblx0fSxcblx0XG5cdGdldENPbGxlY3Rpb25zOiBmdW5jdGlvbihmb3JtKSB7XG5cdFx0bGV0IGNvbGxlY3Rpb25zID0gW107XG5cdFx0aWYgKCFmb3JtKSByZXR1cm4gY29sbGVjdGlvbnM7XG5cblx0XHRsZXQgZWxzID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdbbmFtZV1bZGF0YS1jb2xsZWN0aW9uXScpO1xuXHRcdGVscy5mb3JFYWNoKChlbCkgPT4ge1xuXHRcdFx0bGV0IHRtcENvbGxlY3Rpb24gPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjdGlvbicpXG5cdFx0XHRpZiAodG1wQ29sbGVjdGlvbiAmJiAhY29sbGVjdGlvbnMuaW5jbHVkZXModG1wQ29sbGVjdGlvbikpIHtcblx0XHRcdFx0Y29sbGVjdGlvbnMucHVzaCh0bXBDb2xsZWN0aW9uKVxuXHRcdFx0fSBcblx0XHR9KVxuXHRcdHJldHVybiBjb2xsZWN0aW9ucztcblx0fSxcbn1cblxuZXhwb3J0IGRlZmF1bHQgVXRpbHM7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../CoCreate-components/CoCreate-form/src/utils.js\n")},"../../CoCreate-components/CoCreate-input/src/index.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _observer = _interopRequireDefault(__webpack_require__(/*! @cocreate/observer */ \"../../CoCreate-components/CoCreate-observer/src/index.js\"));\n\nvar _form = _interopRequireDefault(__webpack_require__(/*! @cocreate/form */ \"../../CoCreate-components/CoCreate-form/src/index.js\"));\n\nvar _utils = _interopRequireDefault(__webpack_require__(/*! @cocreate/utils */ \"../../CoCreate-components/CoCreate-utils/src/index.js\"));\n\nvar _crud = _interopRequireDefault(__webpack_require__(/*! @cocreate/crud */ \"../../CoCreate-components/CoCreate-crud/src/index.js\"));\n\nvar _crdt = _interopRequireDefault(__webpack_require__(/*! @cocreate/crdt */ \"../../CoCreate-components/CoCreate-crdt/src/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// import CoCreateText from '@cocreate/text'\n// import CoCreateCursors from '@cocreate/cursors'\nconst CoCreateInput = {\n  selector: \"input, textarea, select\",\n  init: function () {\n    let inputs = document.querySelectorAll(this.selector);\n    const self = this;\n    inputs.forEach(input => {\n      const collection = input.getAttribute('data-collection');\n      const id = input.getAttribute('data-document_id');\n\n      if (_utils.default.isJsonString(collection)) {\n        return;\n      }\n\n      if (_utils.default.isUsageY(input)) {\n        return;\n      }\n\n      if (_observer.default.getInitialized(input)) {\n        return;\n      }\n\n      _observer.default.setInitialized(input, \"input\");\n\n      if (id && collection) {\n        _crud.default.readDocument({\n          collection: collection,\n          document_id: id\n        });\n      }\n\n      self.__initEvents(input);\n    });\n  },\n  initElement: function (container) {\n    let mainContainer = container || document;\n\n    if (!mainContainer.querySelectorAll) {\n      return;\n    }\n\n    const _this = this;\n\n    let inputs = mainContainer.querySelectorAll(this.selector);\n    inputs.forEach(input => {\n      if (_observer.default.getInitialized(input, \"input\")) {\n        return;\n      }\n\n      _observer.default.setInitialized(input, \"input\");\n\n      const collection = input.getAttribute('data-collection');\n      const id = input.getAttribute('data-document_id');\n\n      if (_utils.default.isJsonString(collection)) {\n        return;\n      }\n\n      if (_utils.default.isUsageY(input)) {\n        return;\n      }\n\n      if (id && collection) {\n        _crud.default.readDocument({\n          collection: collection,\n          document_id: id\n        });\n      }\n\n      _this.__initEvents(input);\n    });\n  },\n  save: function (input) {\n    const value = this.getValue(input);\n    const collection = input.getAttribute('data-collection') || 'module_activity';\n    const document_id = input.getAttribute('data-document_id');\n    const name = input.getAttribute('name');\n\n    _crud.default.updateDocument({\n      collection,\n      document_id,\n      data: {\n        [name]: value\n      } // broadcast_sender: false\n\n    });\n  },\n  render: function (data, allTags) {\n    let inputs = document.querySelectorAll(this.selector);\n\n    let _this = this;\n\n    inputs.forEach(input => {\n      if (!allTags) {\n        if (_utils.default.isUsageY(input)) return;\n      }\n\n      if (_utils.default.isUsageY(input)) return;\n      const collection = input.getAttribute('data-collection');\n      const id = input.getAttribute('data-document_id');\n      const name = input.getAttribute('name');\n      const data_fetch_value = input.getAttribute('data-fetch_value');\n      if (data_fetch_value === \"false\" || !_utils.default.isReadValue(input)) return;\n\n      if (data['collection'] == collection && data['document_id'] == id && name in data.data) {\n        _this.setValue(input, data['data'][name]); // fetch value event\n\n\n        input.dispatchEvent(new Event(\"updated_by_fetch\"));\n        input.dispatchEvent(new CustomEvent('CoCreateInput-run', {\n          eventType: 'rendered',\n          item: input\n        }));\n      }\n    });\n  },\n  getValue: function (input) {\n    let value = input.value;\n    let prefix = input.getAttribute('data-prefix_value') || \"\";\n    let suffix = input.getAttribute('data-suffix_value') || \"\";\n\n    if (input.type === \"checkbox\") {\n      value = input.checked;\n    } else if (input.type === \"number\") {\n      value = Number(value);\n    } else if (input.type === \"password\") {\n      value = this.__encryptPassword(value);\n    }\n\n    if (typeof value == \"string\") {\n      value = prefix + value + suffix;\n    }\n\n    return value;\n  },\n  setValue: function (input, value) {\n    if (input.type == 'checkbox') {\n      input.checked = value;\n    } else if (input.type === 'radio') {\n      input.value == value ? input.checked = true : input.checked = false;\n    }\n\n    if (input.type === 'password') {\n      value = this.__decryptPassword(value);\n    }\n\n    input.value = value;\n\n    if (CoCreate.floatingLabel) {\n      CoCreate.floatingLabel.update(input, value);\n    }\n\n    input.dispatchEvent(new CustomEvent('CoCreateInput-setvalue', {\n      eventType: 'rendered'\n    }));\n  },\n  __initEvents: function (input) {\n    const self = this;\n    input.addEventListener('set-document_id', function () {\n      if (CoCreate.crdt) {\n        _crdt.default.init({\n          collection: input.getAttribute('data-collection'),\n          document_id: input.getAttribute('data-document_id'),\n          name: input.getAttribute('name'),\n          element: input\n        });\n      }\n\n      self.save(this);\n    });\n    input.addEventListener('input', function (e) {\n      if (_utils.default.isRealTime(this)) {\n        self.save(this);\n      }\n    });\n    input.addEventListener('change', function (e) {\n      if (this.tagName == 'SELECT' && _utils.default.isRealTime(this)) {\n        self.save(this);\n      }\n    });\n\n    _crud.default.listen('updateDocument', function (data) {\n      self.render(data);\n    });\n\n    _crud.default.listen('connect', function (data) {\n      self.__getReqeust();\n    });\n\n    _crud.default.listen('readDocument', function (data) {\n      self.render(data);\n    });\n\n    const collection = input.getAttribute('data-collection');\n    const document_id = input.getAttribute('data-document_id');\n\n    if (_utils.default.checkValue(collection) && _utils.default.checkValue(document_id) && CoCreate.crdt) {\n      _crdt.default.init({\n        collection: collection,\n        document_id: document_id,\n        name: input.getAttribute('name'),\n        element: input\n      });\n    }\n  },\n  __getReqeust: function (container) {\n    let fetch_container = container || document;\n    let inputs = fetch_container.querySelectorAll(this.selector);\n    let requestData = [];\n    inputs.forEach(input => {\n      if (_utils.default.isUsageY(input)) return;\n      const collection = input.getAttribute('data-collection');\n      const id = input.getAttribute('data-document_id');\n\n      if (id && !requestData.some(d => d['collection'] === collection && d['document_id'] === id)) {\n        requestData.push({\n          'collection': collection,\n          'document_id': id\n        });\n      }\n    });\n    return requestData;\n  },\n  __encryptPassword: function (str) {\n    var encodedString = btoa(str);\n    return encodedString;\n  },\n  __decryptPassword: function (str) {\n    if (!str) {\n      return \"\";\n    }\n\n    var decode_str = atob(str);\n    return decode_str;\n  }\n};\nCoCreateInput.init();\n\n_observer.default.init({\n  name: 'CoCreateInput',\n  observe: ['subtree', 'childList'],\n  include: '[data-collection][data-document_id][name]',\n  callback: function (mutation) {\n    CoCreateInput.initElement(mutation.target);\n  }\n});\n\n_form.default.init({\n  name: 'CoCreateInput',\n  selector: \"input, textarea, select\",\n  callback: function (el) {\n    CoCreate.input.save(el);\n  }\n});\n\nvar _default = CoCreateInput;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5xdWlsbC8vaG9tZS91YnVudHUvZW52aXJvbm1lbnQvcHVibGljL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtaW5wdXQvc3JjL2luZGV4LmpzPzhjZmQiXSwibmFtZXMiOlsiQ29DcmVhdGVJbnB1dCIsInNlbGVjdG9yIiwiaW5pdCIsImlucHV0cyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsInNlbGYiLCJmb3JFYWNoIiwiaW5wdXQiLCJjb2xsZWN0aW9uIiwiZ2V0QXR0cmlidXRlIiwiaWQiLCJ1dGlscyIsImlzSnNvblN0cmluZyIsImlzVXNhZ2VZIiwib2JzZXJ2ZXIiLCJnZXRJbml0aWFsaXplZCIsInNldEluaXRpYWxpemVkIiwiY3J1ZCIsInJlYWREb2N1bWVudCIsImRvY3VtZW50X2lkIiwiX19pbml0RXZlbnRzIiwiaW5pdEVsZW1lbnQiLCJjb250YWluZXIiLCJtYWluQ29udGFpbmVyIiwiX3RoaXMiLCJzYXZlIiwidmFsdWUiLCJnZXRWYWx1ZSIsIm5hbWUiLCJ1cGRhdGVEb2N1bWVudCIsImRhdGEiLCJyZW5kZXIiLCJhbGxUYWdzIiwiZGF0YV9mZXRjaF92YWx1ZSIsImlzUmVhZFZhbHVlIiwic2V0VmFsdWUiLCJkaXNwYXRjaEV2ZW50IiwiRXZlbnQiLCJDdXN0b21FdmVudCIsImV2ZW50VHlwZSIsIml0ZW0iLCJwcmVmaXgiLCJzdWZmaXgiLCJ0eXBlIiwiY2hlY2tlZCIsIk51bWJlciIsIl9fZW5jcnlwdFBhc3N3b3JkIiwiX19kZWNyeXB0UGFzc3dvcmQiLCJDb0NyZWF0ZSIsImZsb2F0aW5nTGFiZWwiLCJ1cGRhdGUiLCJhZGRFdmVudExpc3RlbmVyIiwiY3JkdCIsImVsZW1lbnQiLCJlIiwiaXNSZWFsVGltZSIsInRhZ05hbWUiLCJsaXN0ZW4iLCJfX2dldFJlcWV1c3QiLCJjaGVja1ZhbHVlIiwiZmV0Y2hfY29udGFpbmVyIiwicmVxdWVzdERhdGEiLCJzb21lIiwiZCIsInB1c2giLCJzdHIiLCJlbmNvZGVkU3RyaW5nIiwiYnRvYSIsImRlY29kZV9zdHIiLCJhdG9iIiwib2JzZXJ2ZSIsImluY2x1ZGUiLCJjYWxsYmFjayIsIm11dGF0aW9uIiwidGFyZ2V0IiwiZm9ybSIsImVsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFDQTtBQUNBO0FBRUEsTUFBTUEsYUFBYSxHQUFHO0FBRXJCQyxVQUFRLEVBQUUseUJBRlc7QUFJckJDLE1BQUksRUFBRSxZQUFXO0FBRWhCLFFBQUlDLE1BQU0sR0FBR0MsUUFBUSxDQUFDQyxnQkFBVCxDQUEwQixLQUFLSixRQUEvQixDQUFiO0FBQ0EsVUFBTUssSUFBSSxHQUFHLElBQWI7QUFFQUgsVUFBTSxDQUFDSSxPQUFQLENBQWdCQyxLQUFELElBQVc7QUFFekIsWUFBTUMsVUFBVSxHQUFHRCxLQUFLLENBQUNFLFlBQU4sQ0FBbUIsaUJBQW5CLENBQW5CO0FBQ0EsWUFBTUMsRUFBRSxHQUFHSCxLQUFLLENBQUNFLFlBQU4sQ0FBbUIsa0JBQW5CLENBQVg7O0FBQ0EsVUFBSUUsZUFBTUMsWUFBTixDQUFtQkosVUFBbkIsQ0FBSixFQUFvQztBQUNuQztBQUNBOztBQUVELFVBQUlHLGVBQU1FLFFBQU4sQ0FBZU4sS0FBZixDQUFKLEVBQTJCO0FBQzFCO0FBQ0E7O0FBQ0QsVUFBSU8sa0JBQVNDLGNBQVQsQ0FBd0JSLEtBQXhCLENBQUosRUFBb0M7QUFDbkM7QUFDQTs7QUFDRE8sd0JBQVNFLGNBQVQsQ0FBd0JULEtBQXhCLEVBQStCLE9BQS9COztBQUVBLFVBQUlHLEVBQUUsSUFBSUYsVUFBVixFQUFzQjtBQUNyQlMsc0JBQUtDLFlBQUwsQ0FBa0I7QUFDakJWLG9CQUFVLEVBQUVBLFVBREs7QUFFakJXLHFCQUFXLEVBQUVUO0FBRkksU0FBbEI7QUFJQTs7QUFFREwsVUFBSSxDQUFDZSxZQUFMLENBQWtCYixLQUFsQjtBQUVBLEtBekJEO0FBMEJBLEdBbkNvQjtBQXFDckJjLGFBQVcsRUFBRSxV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c3JjL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG9ic2VydmVyIGZyb20gJ0Bjb2NyZWF0ZS9vYnNlcnZlcidcbmltcG9ydCBmb3JtIGZyb20gJ0Bjb2NyZWF0ZS9mb3JtJ1xuaW1wb3J0IHV0aWxzIGZyb20gJ0Bjb2NyZWF0ZS91dGlscyc7XG5pbXBvcnQgY3J1ZCBmcm9tICdAY29jcmVhdGUvY3J1ZCc7XG5pbXBvcnQgY3JkdCBmcm9tICdAY29jcmVhdGUvY3JkdCdcbi8vIGltcG9ydCBDb0NyZWF0ZVRleHQgZnJvbSAnQGNvY3JlYXRlL3RleHQnXG4vLyBpbXBvcnQgQ29DcmVhdGVDdXJzb3JzIGZyb20gJ0Bjb2NyZWF0ZS9jdXJzb3JzJ1xuXG5jb25zdCBDb0NyZWF0ZUlucHV0ID0ge1xuXHRcblx0c2VsZWN0b3I6IFwiaW5wdXQsIHRleHRhcmVhLCBzZWxlY3RcIixcblx0XG5cdGluaXQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0bGV0IGlucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5zZWxlY3Rvcik7XG5cdFx0Y29uc3Qgc2VsZiA9IHRoaXM7XG5cdFx0XG5cdFx0aW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG5cdFx0XHRcblx0XHRcdGNvbnN0IGNvbGxlY3Rpb24gPSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjdGlvbicpXG5cdFx0XHRjb25zdCBpZCA9IGlucHV0LmdldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcpXG5cdFx0XHRpZiAodXRpbHMuaXNKc29uU3RyaW5nKGNvbGxlY3Rpb24pKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0aWYgKHV0aWxzLmlzVXNhZ2VZKGlucHV0KSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XHRcblx0XHRcdGlmIChvYnNlcnZlci5nZXRJbml0aWFsaXplZChpbnB1dCkpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0b2JzZXJ2ZXIuc2V0SW5pdGlhbGl6ZWQoaW5wdXQsIFwiaW5wdXRcIik7XG5cblx0XHRcdGlmIChpZCAmJiBjb2xsZWN0aW9uKSB7XG5cdFx0XHRcdGNydWQucmVhZERvY3VtZW50KHtcblx0XHRcdFx0XHRjb2xsZWN0aW9uOiBjb2xsZWN0aW9uLFxuXHRcdFx0XHRcdGRvY3VtZW50X2lkOiBpZFxuXHRcdFx0XHR9KVxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRzZWxmLl9faW5pdEV2ZW50cyhpbnB1dCk7XG5cblx0XHR9KVxuXHR9LFxuXHRcblx0aW5pdEVsZW1lbnQ6IGZ1bmN0aW9uKGNvbnRhaW5lcikge1xuXHRcdFxuXHRcdGxldCBtYWluQ29udGFpbmVyID0gY29udGFpbmVyIHx8IGRvY3VtZW50O1xuXHRcdGlmICghbWFpbkNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdFxuXHRcdGNvbnN0IF90aGlzID0gdGhpcztcblx0XHRsZXQgaW5wdXRzID0gbWFpbkNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuc2VsZWN0b3IpO1xuXHRcdFxuXHRcdGlucHV0cy5mb3JFYWNoKChpbnB1dCk9PiB7XG5cdFx0XHRpZiAob2JzZXJ2ZXIuZ2V0SW5pdGlhbGl6ZWQoaW5wdXQsIFwiaW5wdXRcIikpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0b2JzZXJ2ZXIuc2V0SW5pdGlhbGl6ZWQoaW5wdXQsIFwiaW5wdXRcIilcblx0XHRcdFxuXHRcdFx0Y29uc3QgY29sbGVjdGlvbiA9IGlucHV0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2xsZWN0aW9uJylcblx0XHRcdGNvbnN0IGlkID0gaW5wdXQuZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJylcblx0XHRcdGlmICh1dGlscy5pc0pzb25TdHJpbmcoY29sbGVjdGlvbikpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRpZiAodXRpbHMuaXNVc2FnZVkoaW5wdXQpKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0aWYgKGlkICYmIGNvbGxlY3Rpb24pIHtcblx0XHRcdFx0Y3J1ZC5yZWFkRG9jdW1lbnQoe1xuXHRcdFx0XHRcdGNvbGxlY3Rpb246IGNvbGxlY3Rpb24sXG5cdFx0XHRcdFx0ZG9jdW1lbnRfaWQ6IGlkXG5cdFx0XHRcdH0pXG5cdFx0XHR9XG5cdFx0XHRfdGhpcy5fX2luaXRFdmVudHMoaW5wdXQpO1xuXHRcdFx0XG5cblx0XHR9KVxuXHR9LFxuXHRcblx0c2F2ZTogZnVuY3Rpb24gKGlucHV0KSB7XG5cdFx0XG5cdFx0Y29uc3QgdmFsdWUgPSB0aGlzLmdldFZhbHVlKGlucHV0KTtcblx0XHRjb25zdCBjb2xsZWN0aW9uID0gaW5wdXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbGxlY3Rpb24nKSB8fCAnbW9kdWxlX2FjdGl2aXR5J1xuXHRcdFxuXHRcdGNvbnN0IGRvY3VtZW50X2lkID0gaW5wdXQuZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJylcblx0XHRjb25zdCBuYW1lID0gaW5wdXQuZ2V0QXR0cmlidXRlKCduYW1lJylcblx0XHRjcnVkLnVwZGF0ZURvY3VtZW50KHtcblx0XHRcdGNvbGxlY3Rpb24sXG5cdFx0XHRkb2N1bWVudF9pZCxcblx0XHRcdGRhdGE6IHtcblx0XHRcdFx0W25hbWVdOiB2YWx1ZVxuXHRcdFx0fSxcblx0XHRcdC8vIGJyb2FkY2FzdF9zZW5kZXI6IGZhbHNlXG5cdFx0fSlcblx0fSxcblx0XG5cblx0XG5cdHJlbmRlcjogZnVuY3Rpb24gKGRhdGEsIGFsbFRhZ3MpIHtcblx0XHRsZXQgaW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLnNlbGVjdG9yKVxuXHRcdGxldCBfdGhpcyA9IHRoaXM7XG5cdFx0XG5cdFx0aW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG5cdFx0XHRpZiAoIWFsbFRhZ3MpIHtcblx0XHRcdFx0aWYgKHV0aWxzLmlzVXNhZ2VZKGlucHV0KSkgcmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHV0aWxzLmlzVXNhZ2VZKGlucHV0KSkgcmV0dXJuO1xuXHRcdFx0XG5cdFx0XHRjb25zdCBjb2xsZWN0aW9uID0gaW5wdXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbGxlY3Rpb24nKVxuXHRcdFx0Y29uc3QgaWQgPSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKVxuXHRcdFx0Y29uc3QgbmFtZSA9IGlucHV0LmdldEF0dHJpYnV0ZSgnbmFtZScpXG5cdFx0XHRjb25zdCBkYXRhX2ZldGNoX3ZhbHVlID0gaW5wdXQuZ2V0QXR0cmlidXRlKCdkYXRhLWZldGNoX3ZhbHVlJyk7XG5cdFx0XHRcblx0XHRcdGlmIChkYXRhX2ZldGNoX3ZhbHVlID09PSBcImZhbHNlXCIgfHwgIXV0aWxzLmlzUmVhZFZhbHVlKGlucHV0KSkgcmV0dXJuO1xuXHRcdFx0XG5cdFx0XHRpZiAoZGF0YVsnY29sbGVjdGlvbiddID09IGNvbGxlY3Rpb24gJiYgZGF0YVsnZG9jdW1lbnRfaWQnXSA9PSBpZCAmJiAobmFtZSBpbiBkYXRhLmRhdGEpKSB7XG5cdFx0XHRcdF90aGlzLnNldFZhbHVlKGlucHV0LCBkYXRhWydkYXRhJ11bbmFtZV0pO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gZmV0Y2ggdmFsdWUgZXZlbnRcblx0XHRcdFx0aW5wdXQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJ1cGRhdGVkX2J5X2ZldGNoXCIpKTsgXG5cdFx0XHRcdFxuXHRcdFx0XHRpbnB1dC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnQ29DcmVhdGVJbnB1dC1ydW4nLCB7XG5cdFx0XHRcdFx0ZXZlbnRUeXBlOiAncmVuZGVyZWQnLFxuXHRcdFx0XHRcdGl0ZW06IGlucHV0LFxuXHRcdFx0XHRcdFxuXHRcdFx0XHR9KSlcblx0XHRcdH1cblx0XHR9KVxuXHRcdFxuXHR9LFxuXHRcblx0Z2V0VmFsdWU6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdFx0bGV0IHZhbHVlID0gaW5wdXQudmFsdWU7XG5cblx0XHRsZXQgcHJlZml4ID0gaW5wdXQuZ2V0QXR0cmlidXRlKCdkYXRhLXByZWZpeF92YWx1ZScpIHx8IFwiXCI7XG5cdFx0bGV0IHN1ZmZpeCA9IGlucHV0LmdldEF0dHJpYnV0ZSgnZGF0YS1zdWZmaXhfdmFsdWUnKSB8fCBcIlwiO1xuXHRcdFxuXHRcdGlmIChpbnB1dC50eXBlID09PSBcImNoZWNrYm94XCIpIHtcblx0XHRcdHZhbHVlID0gaW5wdXQuY2hlY2tlZFxuXHRcdH0gXG5cdFx0ZWxzZSBpZiAoaW5wdXQudHlwZSA9PT0gXCJudW1iZXJcIikge1xuXHRcdFx0dmFsdWUgPSBOdW1iZXIodmFsdWUpXG5cdFx0fVxuXHRcdGVsc2UgaWYgKGlucHV0LnR5cGUgPT09IFwicGFzc3dvcmRcIikge1xuXHRcdFx0dmFsdWUgPSB0aGlzLl9fZW5jcnlwdFBhc3N3b3JkKHZhbHVlKVxuXHRcdH1cblx0XHRcblx0XHRpZiAodHlwZW9mIHZhbHVlID09IFwic3RyaW5nXCIpIHtcblx0XHRcdHZhbHVlID0gcHJlZml4ICsgdmFsdWUgKyBzdWZmaXg7XG5cdFx0fVxuXHRcdFxuXHRcdHJldHVybiB2YWx1ZTtcblx0fSxcblx0XG5cdHNldFZhbHVlOiBmdW5jdGlvbihpbnB1dCwgdmFsdWUpIHtcblx0XHRpZiAoaW5wdXQudHlwZSA9PSAnY2hlY2tib3gnKSB7XG5cdFx0XHRpbnB1dC5jaGVja2VkID0gdmFsdWU7XG5cdFx0fSBcblx0XHRlbHNlIGlmIChpbnB1dC50eXBlID09PSAncmFkaW8nKSB7XG5cdFx0XHRpbnB1dC52YWx1ZSA9PSB2YWx1ZSA/IGlucHV0LmNoZWNrZWQgPSB0cnVlIDogaW5wdXQuY2hlY2tlZCA9IGZhbHNlXG5cdFx0fVxuXHRcdFxuXHRcdGlmIChpbnB1dC50eXBlID09PSAncGFzc3dvcmQnKSB7XG5cdFx0XHR2YWx1ZSA9IHRoaXMuX19kZWNyeXB0UGFzc3dvcmQodmFsdWUpO1xuXHRcdH1cblx0XHRcblx0XHRpbnB1dC52YWx1ZSA9IHZhbHVlO1xuXG5cdFx0aWYgKENvQ3JlYXRlLmZsb2F0aW5nTGFiZWwpIHtcblx0XHRcdENvQ3JlYXRlLmZsb2F0aW5nTGFiZWwudXBkYXRlKGlucHV0LCB2YWx1ZSlcblx0XHR9XG5cdFx0XG5cdFx0aW5wdXQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ0NvQ3JlYXRlSW5wdXQtc2V0dmFsdWUnLCB7IGV2ZW50VHlwZTogJ3JlbmRlcmVkJ30pKVxuXHR9LFxuXHRcblx0X19pbml0RXZlbnRzOiBmdW5jdGlvbihpbnB1dCkge1xuXHRcdFxuXHRcdGNvbnN0IHNlbGYgPSB0aGlzO1xuXHRcdFxuXHRcdGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ3NldC1kb2N1bWVudF9pZCcsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XG5cdFx0XHRpZiAoQ29DcmVhdGUuY3JkdCkge1xuXHRcdFx0XHRjcmR0LmluaXQoe1xuXHRcdFx0XHRcdGNvbGxlY3Rpb246IGlucHV0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2xsZWN0aW9uJyksXG5cdFx0XHRcdFx0ZG9jdW1lbnRfaWQ6IGlucHV0LmdldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcpLFxuXHRcdFx0XHRcdG5hbWU6IGlucHV0LmdldEF0dHJpYnV0ZSgnbmFtZScpLFxuXHRcdFx0XHRcdGVsZW1lbnQ6IGlucHV0XG5cdFx0XHRcdH0pXG5cdFx0XHR9XG5cdFx0XHRzZWxmLnNhdmUodGhpcylcblx0XHR9KVxuXHRcdFxuXHRcdGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24oZSkge1xuXHRcdFx0aWYgKHV0aWxzLmlzUmVhbFRpbWUodGhpcykpIHtcblx0XHRcdFx0c2VsZi5zYXZlKHRoaXMpXG5cdFx0XHR9XG5cdFx0fSlcblx0XHRcblx0XHRpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbihlKSB7XG5cdFx0XHRpZiAodGhpcy50YWdOYW1lID09ICdTRUxFQ1QnICYmIHV0aWxzLmlzUmVhbFRpbWUodGhpcykpIHtcblx0XHRcdFx0c2VsZi5zYXZlKHRoaXMpXG5cdFx0XHR9XG5cdFx0fSlcblx0XHRcblx0XHRjcnVkLmxpc3RlbigndXBkYXRlRG9jdW1lbnQnLCBmdW5jdGlvbihkYXRhKSB7XG5cdFx0ICAgIHNlbGYucmVuZGVyKGRhdGEpO1xuXHRcdH0pXG5cdFx0XG5cdFx0Y3J1ZC5saXN0ZW4oJ2Nvbm5lY3QnLCBmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRzZWxmLl9fZ2V0UmVxZXVzdCgpXG5cdFx0fSlcblx0XHRcblx0XHRjcnVkLmxpc3RlbigncmVhZERvY3VtZW50JywgZnVuY3Rpb24oZGF0YSkge1xuXHQgICAgXHRzZWxmLnJlbmRlcihkYXRhKTtcblx0XHR9KVxuXHRcdGNvbnN0IGNvbGxlY3Rpb24gPSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjdGlvbicpXG5cdFx0Y29uc3QgZG9jdW1lbnRfaWQgPSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKVxuXHRcdFxuXHRcdGlmICh1dGlscy5jaGVja1ZhbHVlKGNvbGxlY3Rpb24pICYmIHV0aWxzLmNoZWNrVmFsdWUoZG9jdW1lbnRfaWQpICYmIENvQ3JlYXRlLmNyZHQpIHtcblx0XHRcdGNyZHQuaW5pdCh7XG5cdFx0XHRcdGNvbGxlY3Rpb246IGNvbGxlY3Rpb24sXG5cdFx0XHRcdGRvY3VtZW50X2lkOiBkb2N1bWVudF9pZCxcblx0XHRcdFx0bmFtZTogaW5wdXQuZ2V0QXR0cmlidXRlKCduYW1lJyksXG5cdFx0XHRcdGVsZW1lbnQ6IGlucHV0XG5cdFx0XHR9KVxuXHRcdFx0XG5cdFx0fVxuXHR9LFxuXHRcblx0X19nZXRSZXFldXN0OiBmdW5jdGlvbihjb250YWluZXIpIHtcblx0XHRcblx0XHRsZXQgZmV0Y2hfY29udGFpbmVyID0gY29udGFpbmVyIHx8IGRvY3VtZW50O1xuXHRcdGxldCBpbnB1dHMgPSBmZXRjaF9jb250YWluZXIucXVlcnlTZWxlY3RvckFsbCh0aGlzLnNlbGVjdG9yKVxuXHRcdGxldCByZXF1ZXN0RGF0YSA9IFtdO1xuXG5cdFx0aW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG5cdFx0XHRpZiAodXRpbHMuaXNVc2FnZVkoaW5wdXQpKSByZXR1cm47XG5cdFx0XHRcblx0XHRcdGNvbnN0IGNvbGxlY3Rpb24gPSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjdGlvbicpXG5cdFx0XHRjb25zdCBpZCA9IGlucHV0LmdldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcpXG5cdFx0XHRcblx0XHRcdGlmIChpZCAmJiAhcmVxdWVzdERhdGEuc29tZSgoZCkgPT4gZFsnY29sbGVjdGlvbiddID09PSBjb2xsZWN0aW9uICYmIGRbJ2RvY3VtZW50X2lkJ10gPT09IGlkKSkge1xuXHRcdFx0XHRyZXF1ZXN0RGF0YS5wdXNoKHsgXG5cdFx0XHRcdFx0J2NvbGxlY3Rpb24nOiBjb2xsZWN0aW9uLCBcblx0XHRcdFx0XHQnZG9jdW1lbnRfaWQnOiBpZCBcblx0XHRcdFx0fSlcblx0XHRcdH1cblx0XHR9KVxuXHRcdHJldHVybiByZXF1ZXN0RGF0YTtcblx0fSxcblx0XG5cdF9fZW5jcnlwdFBhc3N3b3JkOiBmdW5jdGlvbihzdHIpIHtcblx0XHR2YXIgZW5jb2RlZFN0cmluZyA9IGJ0b2Eoc3RyKTtcblx0XHRyZXR1cm4gZW5jb2RlZFN0cmluZztcblx0fSxcblx0XG5cdF9fZGVjcnlwdFBhc3N3b3JkOiBmdW5jdGlvbiAoc3RyKSB7XG5cdFx0aWYgKCFzdHIpIHtcblx0XHRcdHJldHVybiBcIlwiO1xuXHRcdH1cblx0XHRcblx0XHR2YXIgZGVjb2RlX3N0ciA9IGF0b2Ioc3RyKTtcblx0XHRyZXR1cm4gZGVjb2RlX3N0cjtcblx0fVxuXHRcbn1cblxuQ29DcmVhdGVJbnB1dC5pbml0KCk7XG5cbm9ic2VydmVyLmluaXQoeyBcblx0bmFtZTogJ0NvQ3JlYXRlSW5wdXQnLCBcblx0b2JzZXJ2ZTogWydzdWJ0cmVlJywgJ2NoaWxkTGlzdCddLFxuXHRpbmNsdWRlOiAnW2RhdGEtY29sbGVjdGlvbl1bZGF0YS1kb2N1bWVudF9pZF1bbmFtZV0nLCBcblx0Y2FsbGJhY2s6IGZ1bmN0aW9uKG11dGF0aW9uKSB7XG5cdFx0Q29DcmVhdGVJbnB1dC5pbml0RWxlbWVudChtdXRhdGlvbi50YXJnZXQpXG5cdH1cbn0pXG5cbmZvcm0uaW5pdCh7XG5cdG5hbWU6ICdDb0NyZWF0ZUlucHV0Jyxcblx0c2VsZWN0b3I6IFwiaW5wdXQsIHRleHRhcmVhLCBzZWxlY3RcIixcblx0Y2FsbGJhY2s6IGZ1bmN0aW9uKGVsKSB7XG5cdFx0Q29DcmVhdGUuaW5wdXQuc2F2ZShlbCk7XG5cdH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBDb0NyZWF0ZUlucHV0OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../CoCreate-components/CoCreate-input/src/index.js\n")},"../../CoCreate-components/CoCreate-observer/src/index.js":function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n// window.addEventListener("load", () => {\n\n/*\nCoCreate.observer.init({ \n\tname: \'CoCreateFetchInit\', // no usage, just to provide for console debugging \n\tobserve: [\'subtree\', \'childList\',\'attributes\'], // the same parameters of options in #https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver/observe\n\tattributes: [\'data-fetch_collection\'], // it doesn\'t count added nodes or remove nodes\n\tinclude: ".classname", // a selector to select only elements that matches\n\texclude: ".classname", // a selector to exclude elements from processing\n\tcallback: function(mutation) { // a function which gets a mutation object according to #https://developer.mozilla.org/en-US/docs/Web/API/MutationRecord\n\t\tCoCreateFetch.initElement(mutation.target)\n\t}\n})\n*/\n\n/**\n * description\n * \n * @param {String} [name] - an optional name to provide for debugging console\n * @param {Array} observe - a list of mutation type to be observerd, a mix of possible `attributes`, `childList` or `subtree`\n * ... and other params can be here \n * \n * @return null\n */\nwindow.profiler = {};\nwindow.counter = 0;\nwindow.counter2 = 0;\nwindow.targets = {};\nwindow.attributeName = {};\n\nif (!Element.prototype.matches) {\n  Element.prototype.matches = Element.prototype.matchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.webkitMatchesSelector || function (s) {\n    var matches = (this.document || this.ownerDocument).querySelectorAll(s),\n        i = matches.length;\n\n    while (--i >= 0 && matches.item(i) !== this) {}\n\n    return i > -1;\n  };\n}\n\nconst CoCreateObserver = {\n  initTasks: new Map(),\n  attrTasks: new Map(),\n  rules: new Map(),\n  rulesArray: [],\n  __init: function () {\n    const self = this;\n    const observer = new MutationObserver((mutationsList, observer) => self.__callback(mutationsList, observer)); // setTimeout(()=>{\n\n    observer.observe(document.body, {\n      attributes: true,\n      childList: true,\n      subtree: true,\n      characterData: false,\n      attributeOldValue: true,\n      characterData: true\n    });\n  },\n  // init: function(data) {\n  //   this.add(data);\n  // },\n  init: function ({\n    observe,\n    include,\n    exclude,\n    attributes,\n    name,\n    callback\n  }) {\n    // if (name == \'ccAttribute\' || name == \'ccCss\') {\n    if (observe.some(x => x == "childList")) {\n      this.initTasks.set(callback, {\n        observe,\n        include,\n        exclude,\n        attributes,\n        name\n      });\n    }\n\n    if (observe.some(x => x == "attributes")) {\n      this.attrTasks.set(callback, {\n        observe,\n        include,\n        exclude,\n        attributes,\n        name\n      });\n    } // }\n\n  },\n  remove: function (callback) {\n    this.initTasks.delete(callback);\n    this.attrTasks.delete(callback);\n  },\n  addRule: function ({\n    include,\n    exclude,\n    name\n  }) {\n    this.rules.set(name, {\n      include,\n      exclude\n    });\n    this.rulesArray = Array.from(this.rules);\n  },\n  removeRule: function ({\n    name\n  }) {\n    this.rules.delete(name);\n    this.rulesArray = Array.from(this.rules);\n  },\n  __callback: function (mutationsList, observer) {\n    // console.log(this)\n    window.counter++;\n\n    for (let mutation of mutationsList) {\n      if (mutation.type == "childList" && mutation.addedNodes.length > 0) {\n        //. run init functions\n        this.__initCallback(mutation);\n      }\n\n      if (mutation.type == "attributes") {\n        //. run attributes functions\n        this.__attrCallback(mutation);\n      }\n    }\n  },\n  __initCallback: function (mutation) {\n    let addedNodes = Array.from(mutation.addedNodes);\n    this.initTasks.forEach(({\n      observe,\n      include,\n      exclude,\n      attributes,\n      name\n    }, callback) => {\n      mutation.addedNodes.forEach(el => {\n        if (!el.tagName) return;\n\n        if (include && !(el.matches(include) || el.querySelector(include))) {\n          return;\n        }\n\n        if (exclude && (el.matches(exclude) || el.querySelector(exclude))) {\n          return;\n        }\n\n        if (el.created) return;\n        window.counter2++;\n        window.profiler[name] = window.profiler[name] != undefined ? window.profiler[name] + 1 : 0;\n        window.targets[mutation.target.id || mutation.target.tagName] = window.targets[mutation.target.id || mutation.target.tagName] != undefined ? window.targets[mutation.target.id || mutation.target.tagName] + 1 : 0;\n        window.attributeName[mutation.attributeName] = window.attributeName[mutation.attributeName] != undefined ? window.attributeName[mutation.attributeName] + 1 : 0;\n        callback.apply(null, [{\n          type: mutation.type,\n          target: el\n        }]);\n      });\n    });\n    addedNodes.map(el => el.created = true);\n  },\n  __attrCallback: function (mutation) {\n    for (let [name, {\n      include,\n      exclude\n    }] of this.rulesArray) {\n      if (include && !mutation.target.matches(include)) return;\n      if (exclude && mutation.target.matches(exclude)) return;\n    }\n\n    this.attrTasks.forEach(({\n      observe,\n      include,\n      exclude,\n      attributes,\n      name\n    }, callback) => {\n      if (attributes && mutation.attributeName && !attributes.includes(mutation.attributeName)) {\n        return;\n      }\n\n      if (include && !mutation.target.matches(include)) return;\n      if (exclude && mutation.target.matches(exclude)) return;\n\n      if (mutation.attributeName) {\n        let newValue = mutation.target.getAttribute(mutation.attributeName);\n\n        if (newValue != mutation.oldValue) {\n          window.counter2++;\n          window.profiler[name] = window.profiler[name] != undefined ? window.profiler[name] + 1 : 0;\n          window.targets[mutation.target.id || mutation.target.tagName] = window.targets[mutation.target.id || mutation.target.tagName] != undefined ? window.targets[mutation.target.id || mutation.target.tagName] + 1 : 0;\n          window.attributeName[mutation.attributeName] = window.attributeName[mutation.attributeName] != undefined ? window.attributeName[mutation.attributeName] + 1 : 0;\n          callback.apply(null, [mutation]);\n        }\n      }\n    });\n  },\n  setInitialized: function (element, type) {\n    // element.setAttribute(`initialized_${type}`, "true");\n    type = type || "";\n    let key = "co_initialized_" + type;\n    element[key] = true;\n  },\n  getInitialized: function (element, type) {\n    type = type || "";\n    let key = "co_initialized_" + type;\n\n    if (!element[key]) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n};\n\nCoCreateObserver.__init();\n\nvar _default = CoCreateObserver;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5xdWlsbC8vaG9tZS91YnVudHUvZW52aXJvbm1lbnQvcHVibGljL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtb2JzZXJ2ZXIvc3JjL2luZGV4LmpzPzI3M2IiXSwibmFtZXMiOlsid2luZG93IiwicHJvZmlsZXIiLCJjb3VudGVyIiwiY291bnRlcjIiLCJ0YXJnZXRzIiwiYXR0cmlidXRlTmFtZSIsIkVsZW1lbnQiLCJwcm90b3R5cGUiLCJtYXRjaGVzIiwibWF0Y2hlc1NlbGVjdG9yIiwibW96TWF0Y2hlc1NlbGVjdG9yIiwibXNNYXRjaGVzU2VsZWN0b3IiLCJvTWF0Y2hlc1NlbGVjdG9yIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIiwicyIsImRvY3VtZW50Iiwib3duZXJEb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpIiwibGVuZ3RoIiwiaXRlbSIsIkNvQ3JlYXRlT2JzZXJ2ZXIiLCJpbml0VGFza3MiLCJNYXAiLCJhdHRyVGFza3MiLCJydWxlcyIsInJ1bGVzQXJyYXkiLCJfX2luaXQiLCJzZWxmIiwib2JzZXJ2ZXIiLCJNdXRhdGlvbk9ic2VydmVyIiwibXV0YXRpb25zTGlzdCIsIl9fY2FsbGJhY2siLCJvYnNlcnZlIiwiYm9keSIsImF0dHJpYnV0ZXMiLCJjaGlsZExpc3QiLCJzdWJ0cmVlIiwiY2hhcmFjdGVyRGF0YSIsImF0dHJpYnV0ZU9sZFZhbHVlIiwiaW5pdCIsImluY2x1ZGUiLCJleGNsdWRlIiwibmFtZSIsImNhbGxiYWNrIiwic29tZSIsIngiLCJzZXQiLCJyZW1vdmUiLCJkZWxldGUiLCJhZGRSdWxlIiwiQXJyYXkiLCJmcm9tIiwicmVtb3ZlUnVsZSIsIm11dGF0aW9uIiwidHlwZSIsImFkZGVkTm9kZXMiLCJfX2luaXRDYWxsYmFjayIsIl9fYXR0ckNhbGxiYWNrIiwiZm9yRWFjaCIsImVsIiwidGFnTmFtZSIsInF1ZXJ5U2VsZWN0b3IiLCJjcmVhdGVkIiwidW5kZWZpbmVkIiwidGFyZ2V0IiwiaWQiLCJhcHBseSIsIm1hcCIsImluY2x1ZGVzIiwibmV3VmFsdWUiLCJnZXRBdHRyaWJ1dGUiLCJvbGRWYWx1ZSIsInNldEluaXRpYWxpemVkIiwiZWxlbWVudCIsImtleSIsImdldEluaXRpYWxpemVkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FBLE1BQU0sQ0FBQ0MsUUFBUCxHQUFrQixFQUFsQjtBQUNBRCxNQUFNLENBQUNFLE9BQVAsR0FBaUIsQ0FBakI7QUFDQUYsTUFBTSxDQUFDRyxRQUFQLEdBQWtCLENBQWxCO0FBQ0FILE1BQU0sQ0FBQ0ksT0FBUCxHQUFpQixFQUFqQjtBQUNBSixNQUFNLENBQUNLLGFBQVAsR0FBdUIsRUFBdkI7O0FBQ0EsSUFBSSxDQUFDQyxPQUFPLENBQUNDLFNBQVIsQ0FBa0JDLE9BQXZCLEVBQWdDO0FBQzlCRixTQUFPLENBQUNDLFNBQVIsQ0FBa0JDLE9BQWxCLEdBQ0VGLE9BQU8sQ0FBQ0MsU0FBUixDQUFrQkUsZUFBbEIsSUFDQUgsT0FBTyxDQUFDQyxTQUFSLENBQWtCRyxrQkFEbEIsSUFFQUosT0FBTyxDQUFDQyxTQUFSLENBQWtCSSxpQkFGbEIsSUFHQUwsT0FBTyxDQUFDQyxTQUFSLENBQWtCSyxnQkFIbEIsSUFJQU4sT0FBTyxDQUFDQyxTQUFSLENBQWtCTSxxQkFKbEIsSUFLQSxVQUFTQyxDQUFULEVBQVk7QUFDVixRQUFJTixPQUFPLEdBQUcsQ0FBQyxLQUFLTyxRQUFMLElBQWlCLEtBQUtDLGFBQXZCLEVBQXNDQyxnQkFBdEMsQ0FBdURILENBQXZELENBQWQ7QUFBQSxRQUNFSSxDQUFDLEdBQUdWLE9BQU8sQ0FBQ1csTUFEZDs7QUFFQSxXQUFPLEVBQUVELENBQUYsSUFBTyxDQUFQLElBQVlWLE9BQU8sQ0FBQ1ksSUFBUixDQUFhRixD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QixFQUF3QjtBQUN0Q0EsUUFBSSxHQUFHQSxJQUFJLElBQUksRUFBZjtBQUNBLFFBQUlvQixHQUFHLEdBQUcsb0JBQW9CcEIsSUFBOUI7O0FBQ0EsUUFBSSxDQUFDbUIsT0FBTyxDQUFDQyxHQUFELENBQVosRUFBbUI7QUFDakIsYUFBTyxLQUFQO0FBQ0QsS0FGRCxNQUdLO0FBQ0gsYUFBTyxJQUFQO0FBQ0Q7QUFDRjtBQXZKc0IsQ0FBekI7O0FBMEpBdEQsZ0JBQWdCLENBQUNNLE1BQWpCOztlQUdlTixnQiIsImZpbGUiOiIuLi8uLi9Db0NyZWF0ZS1jb21wb25lbnRzL0NvQ3JlYXRlLW9ic2VydmVyL3NyYy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XG5cbi8qXG5Db0NyZWF0ZS5vYnNlcnZlci5pbml0KHsgXG5cdG5hbWU6ICdDb0NyZWF0ZUZldGNoSW5pdCcsIC8vIG5vIHVzYWdlLCBqdXN0IHRvIHByb3ZpZGUgZm9yIGNvbnNvbGUgZGVidWdnaW5nIFxuXHRvYnNlcnZlOiBbJ3N1YnRyZWUnLCAnY2hpbGRMaXN0JywnYXR0cmlidXRlcyddLCAvLyB0aGUgc2FtZSBwYXJhbWV0ZXJzIG9mIG9wdGlvbnMgaW4gI2h0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9NdXRhdGlvbk9ic2VydmVyL29ic2VydmVcblx0YXR0cmlidXRlczogWydkYXRhLWZldGNoX2NvbGxlY3Rpb24nXSwgLy8gaXQgZG9lc24ndCBjb3VudCBhZGRlZCBub2RlcyBvciByZW1vdmUgbm9kZXNcblx0aW5jbHVkZTogXCIuY2xhc3NuYW1lXCIsIC8vIGEgc2VsZWN0b3IgdG8gc2VsZWN0IG9ubHkgZWxlbWVudHMgdGhhdCBtYXRjaGVzXG5cdGV4Y2x1ZGU6IFwiLmNsYXNzbmFtZVwiLCAvLyBhIHNlbGVjdG9yIHRvIGV4Y2x1ZGUgZWxlbWVudHMgZnJvbSBwcm9jZXNzaW5nXG5cdGNhbGxiYWNrOiBmdW5jdGlvbihtdXRhdGlvbikgeyAvLyBhIGZ1bmN0aW9uIHdoaWNoIGdldHMgYSBtdXRhdGlvbiBvYmplY3QgYWNjb3JkaW5nIHRvICNodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTXV0YXRpb25SZWNvcmRcblx0XHRDb0NyZWF0ZUZldGNoLmluaXRFbGVtZW50KG11dGF0aW9uLnRhcmdldClcblx0fVxufSlcbiovXG5cblxuLyoqXG4gKiBkZXNjcmlwdGlvblxuICogXG4gKiBAcGFyYW0ge1N0cmluZ30gW25hbWVdIC0gYW4gb3B0aW9uYWwgbmFtZSB0byBwcm92aWRlIGZvciBkZWJ1Z2dpbmcgY29uc29sZVxuICogQHBhcmFtIHtBcnJheX0gb2JzZXJ2ZSAtIGEgbGlzdCBvZiBtdXRhdGlvbiB0eXBlIHRvIGJlIG9ic2VydmVyZCwgYSBtaXggb2YgcG9zc2libGUgYGF0dHJpYnV0ZXNgLCBgY2hpbGRMaXN0YCBvciBgc3VidHJlZWBcbiAqIC4uLiBhbmQgb3RoZXIgcGFyYW1zIGNhbiBiZSBoZXJlIFxuICogXG4gKiBAcmV0dXJuIG51bGxcbiAqL1xud2luZG93LnByb2ZpbGVyID0ge31cbndpbmRvdy5jb3VudGVyID0gMDtcbndpbmRvdy5jb3VudGVyMiA9IDA7XG53aW5kb3cudGFyZ2V0cyA9IHt9O1xud2luZG93LmF0dHJpYnV0ZU5hbWUgPSB7fTtcbmlmICghRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcykge1xuICBFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzID1cbiAgICBFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzU2VsZWN0b3IgfHxcbiAgICBFbGVtZW50LnByb3RvdHlwZS5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICBFbGVtZW50LnByb3RvdHlwZS5tc01hdGNoZXNTZWxlY3RvciB8fFxuICAgIEVsZW1lbnQucHJvdG90eXBlLm9NYXRjaGVzU2VsZWN0b3IgfHxcbiAgICBFbGVtZW50LnByb3RvdHlwZS53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICBmdW5jdGlvbihzKSB7XG4gICAgICB2YXIgbWF0Y2hlcyA9ICh0aGlzLmRvY3VtZW50IHx8IHRoaXMub3duZXJEb2N1bWVudCkucXVlcnlTZWxlY3RvckFsbChzKSxcbiAgICAgICAgaSA9IG1hdGNoZXMubGVuZ3RoO1xuICAgICAgd2hpbGUgKC0taSA+PSAwICYmIG1hdGNoZXMuaXRlbShpKSAhPT0gdGhpcykge31cbiAgICAgIHJldHVybiBpID4gLTE7XG4gICAgfTtcbn1cblxuY29uc3QgQ29DcmVhdGVPYnNlcnZlciA9IHtcbiAgaW5pdFRhc2tzOiBuZXcgTWFwKCksXG4gIGF0dHJUYXNrczogbmV3IE1hcCgpLFxuICBydWxlczogbmV3IE1hcCgpLFxuICBydWxlc0FycmF5OiBbXSxcblxuICBfX2luaXQ6IGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9uc0xpc3QsIG9ic2VydmVyKSA9PiBzZWxmLl9fY2FsbGJhY2sobXV0YXRpb25zTGlzdCwgb2JzZXJ2ZXIpKTtcblxuICAgIC8vIHNldFRpbWVvdXQoKCk9PntcbiAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmJvZHksIHtcbiAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICBzdWJ0cmVlOiB0cnVlLFxuICAgICAgY2hhcmFjdGVyRGF0YTogZmFsc2UsXG4gICAgICBhdHRyaWJ1dGVPbGRWYWx1ZTogdHJ1ZSxcbiAgICAgIGNoYXJhY3RlckRhdGE6IHRydWUsXG4gICAgfSk7XG4gIH0sXG5cbiAgLy8gaW5pdDogZnVuY3Rpb24oZGF0YSkge1xuICAvLyAgIHRoaXMuYWRkKGRhdGEpO1xuICAvLyB9LFxuXG4gIGluaXQ6IGZ1bmN0aW9uKHsgb2JzZXJ2ZSwgaW5jbHVkZSwgZXhjbHVkZSwgYXR0cmlidXRlcywgbmFtZSwgY2FsbGJhY2sgfSkge1xuICAgIC8vIGlmIChuYW1lID09ICdjY0F0dHJpYnV0ZScgfHwgbmFtZSA9PSAnY2NDc3MnKSB7XG4gICAgICBpZiAob2JzZXJ2ZS5zb21lKHggPT4geCA9PSBcImNoaWxkTGlzdFwiKSkge1xuICAgICAgICB0aGlzLmluaXRUYXNrcy5zZXQoY2FsbGJhY2ssIHsgb2JzZXJ2ZSwgaW5jbHVkZSwgZXhjbHVkZSwgYXR0cmlidXRlcywgbmFtZSB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9ic2VydmUuc29tZSh4ID0+IHggPT0gXCJhdHRyaWJ1dGVzXCIpKSB7XG4gICAgICAgIHRoaXMuYXR0clRhc2tzLnNldChjYWxsYmFjaywgeyBvYnNlcnZlLCBpbmNsdWRlLCBleGNsdWRlLCBhdHRyaWJ1dGVzLCBuYW1lIH0pO1xuICAgICAgfVxuICAgIC8vIH1cblxuICB9LFxuICByZW1vdmU6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5pbml0VGFza3MuZGVsZXRlKGNhbGxiYWNrKVxuICAgIHRoaXMuYXR0clRhc2tzLmRlbGV0ZShjYWxsYmFjaylcbiAgfSxcblxuICBhZGRSdWxlOiBmdW5jdGlvbih7IGluY2x1ZGUsIGV4Y2x1ZGUsIG5hbWUgfSkge1xuICAgIHRoaXMucnVsZXMuc2V0KG5hbWUsIHsgaW5jbHVkZSwgZXhjbHVkZSB9KTtcbiAgICB0aGlzLnJ1bGVzQXJyYXkgPSBBcnJheS5mcm9tKHRoaXMucnVsZXMpO1xuICB9LFxuXG4gIHJlbW92ZVJ1bGU6IGZ1bmN0aW9uKHsgbmFtZSB9KSB7XG4gICAgdGhpcy5ydWxlcy5kZWxldGUobmFtZSk7XG4gICAgdGhpcy5ydWxlc0FycmF5ID0gQXJyYXkuZnJvbSh0aGlzLnJ1bGVzKTtcbiAgfSxcblxuICBfX2NhbGxiYWNrOiBmdW5jdGlvbihtdXRhdGlvbnNMaXN0LCBvYnNlcnZlcikge1xuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMpXG4gICAgd2luZG93LmNvdW50ZXIrKztcbiAgICBmb3IgKGxldCBtdXRhdGlvbiBvZiBtdXRhdGlvbnNMaXN0KSB7XG4gICAgICBpZiAobXV0YXRpb24udHlwZSA9PSBcImNoaWxkTGlzdFwiICYmIG11dGF0aW9uLmFkZGVkTm9kZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAvLy4gcnVuIGluaXQgZnVuY3Rpb25zXG4gICAgICAgIHRoaXMuX19pbml0Q2FsbGJhY2sobXV0YXRpb24pXG4gICAgICB9XG5cbiAgICAgIGlmIChtdXRhdGlvbi50eXBlID09IFwiYXR0cmlidXRlc1wiKSB7XG4gICAgICAgIC8vLiBydW4gYXR0cmlidXRlcyBmdW5jdGlvbnNcbiAgICAgICAgdGhpcy5fX2F0dHJDYWxsYmFjayhtdXRhdGlvbik7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIF9faW5pdENhbGxiYWNrOiBmdW5jdGlvbihtdXRhdGlvbikge1xuICAgIGxldCBhZGRlZE5vZGVzID0gQXJyYXkuZnJvbShtdXRhdGlvbi5hZGRlZE5vZGVzKTtcblxuICAgIHRoaXMuaW5pdFRhc2tzLmZvckVhY2goKHsgb2JzZXJ2ZSwgaW5jbHVkZSwgZXhjbHVkZSwgYXR0cmlidXRlcywgbmFtZSB9LCBjYWxsYmFjaykgPT4ge1xuXG4gICAgICBtdXRhdGlvbi5hZGRlZE5vZGVzLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgIGlmICghZWwudGFnTmFtZSkgcmV0dXJuO1xuXG4gICAgICAgIGlmIChpbmNsdWRlICYmICEoZWwubWF0Y2hlcyhpbmNsdWRlKSB8fCBlbC5xdWVyeVNlbGVjdG9yKGluY2x1ZGUpKSkge1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGlmIChleGNsdWRlICYmIChlbC5tYXRjaGVzKGV4Y2x1ZGUpIHx8IGVsLnF1ZXJ5U2VsZWN0b3IoZXhjbHVkZSkpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVsLmNyZWF0ZWQpIHJldHVybjtcbiAgICAgICAgd2luZG93LmNvdW50ZXIyKys7XG4gICAgICAgIHdpbmRvdy5wcm9maWxlcltuYW1lXSA9IHdpbmRvdy5wcm9maWxlcltuYW1lXSAhPSB1bmRlZmluZWQgPyB3aW5kb3cucHJvZmlsZXJbbmFtZV0gKyAxIDogMDtcbiAgICAgICAgd2luZG93LnRhcmdldHNbbXV0YXRpb24udGFyZ2V0LmlkIHx8IG11dGF0aW9uLnRhcmdldC50YWdOYW1lXSA9XG4gICAgICAgICAgd2luZG93LnRhcmdldHNbbXV0YXRpb24udGFyZ2V0LmlkIHx8IG11dGF0aW9uLnRhcmdldC50YWdOYW1lXSAhPSB1bmRlZmluZWQgP1xuICAgICAgICAgIHdpbmRvdy50YXJnZXRzW211dGF0aW9uLnRhcmdldC5pZCB8fCBtdXRhdGlvbi50YXJnZXQudGFnTmFtZV0gKyAxIDpcbiAgICAgICAgICAwO1xuXG4gICAgICAgIHdpbmRvdy5hdHRyaWJ1dGVOYW1lW211dGF0aW9uLmF0dHJpYnV0ZU5hbWVdID1cbiAgICAgICAgICB3aW5kb3cuYXR0cmlidXRlTmFtZVttdXRhdGlvbi5hdHRyaWJ1dGVOYW1lXSAhPSB1bmRlZmluZWQgP1xuICAgICAgICAgIHdpbmRvdy5hdHRyaWJ1dGVOYW1lW211dGF0aW9uLmF0dHJpYnV0ZU5hbWVdICsgMSA6XG4gICAgICAgICAgMDtcbiAgICAgICAgY2FsbGJhY2suYXBwbHkobnVsbCwgW3sgdHlwZTogbXV0YXRpb24udHlwZSwgdGFyZ2V0OiBlbCB9XSk7XG4gICAgICB9KVxuICAgIH0pO1xuXG4gICAgYWRkZWROb2Rlcy5tYXAoZWwgPT4gZWwuY3JlYXRlZCA9IHRydWUpO1xuICB9LFxuXG4gIF9fYXR0ckNhbGxiYWNrOiBmdW5jdGlvbihtdXRhdGlvbikge1xuICAgIGZvciAobGV0IFtuYW1lLCB7IGluY2x1ZGUsIGV4Y2x1ZGUgfV0gb2YgdGhpcy5ydWxlc0FycmF5KSB7XG4gICAgICBpZiAoaW5jbHVkZSAmJiAhbXV0YXRpb24udGFyZ2V0Lm1hdGNoZXMoaW5jbHVkZSkpIHJldHVybjtcbiAgICAgIGlmIChleGNsdWRlICYmIG11dGF0aW9uLnRhcmdldC5tYXRjaGVzKGV4Y2x1ZGUpKSByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuYXR0clRhc2tzLmZvckVhY2goKHsgb2JzZXJ2ZSwgaW5jbHVkZSwgZXhjbHVkZSwgYXR0cmlidXRlcywgbmFtZSB9LCBjYWxsYmFjaykgPT4ge1xuICAgICAgaWYgKGF0dHJpYnV0ZXMgJiYgbXV0YXRpb24uYXR0cmlidXRlTmFtZSAmJiAhYXR0cmlidXRlcy5pbmNsdWRlcyhtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoaW5jbHVkZSAmJiAhbXV0YXRpb24udGFyZ2V0Lm1hdGNoZXMoaW5jbHVkZSkpIHJldHVybjtcbiAgICAgIGlmIChleGNsdWRlICYmIG11dGF0aW9uLnRhcmdldC5tYXRjaGVzKGV4Y2x1ZGUpKSByZXR1cm47XG5cbiAgICAgIGlmIChtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lKSB7XG4gICAgICAgIGxldCBuZXdWYWx1ZSA9IG11dGF0aW9uLnRhcmdldC5nZXRBdHRyaWJ1dGUobXV0YXRpb24uYXR0cmlidXRlTmFtZSk7XG4gICAgICAgIGlmIChuZXdWYWx1ZSAhPSBtdXRhdGlvbi5vbGRWYWx1ZSkge1xuICAgICAgICAgIHdpbmRvdy5jb3VudGVyMisrO1xuICAgICAgICAgIHdpbmRvdy5wcm9maWxlcltuYW1lXSA9IHdpbmRvdy5wcm9maWxlcltuYW1lXSAhPSB1bmRlZmluZWQgPyB3aW5kb3cucHJvZmlsZXJbbmFtZV0gKyAxIDogMDtcbiAgICAgICAgICB3aW5kb3cudGFyZ2V0c1ttdXRhdGlvbi50YXJnZXQuaWQgfHwgbXV0YXRpb24udGFyZ2V0LnRhZ05hbWVdID1cbiAgICAgICAgICAgIHdpbmRvdy50YXJnZXRzW211dGF0aW9uLnRhcmdldC5pZCB8fCBtdXRhdGlvbi50YXJnZXQudGFnTmFtZV0gIT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAgIHdpbmRvdy50YXJnZXRzW211dGF0aW9uLnRhcmdldC5pZCB8fCBtdXRhdGlvbi50YXJnZXQudGFnTmFtZV0gKyAxIDpcbiAgICAgICAgICAgIDA7XG5cbiAgICAgICAgICB3aW5kb3cuYXR0cmlidXRlTmFtZVttdXRhdGlvbi5hdHRyaWJ1dGVOYW1lXSA9XG4gICAgICAgICAgICB3aW5kb3cuYXR0cmlidXRlTmFtZVttdXRhdGlvbi5hdHRyaWJ1dGVOYW1lXSAhPSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgd2luZG93LmF0dHJpYnV0ZU5hbWVbbXV0YXRpb24uYXR0cmlidXRlTmFtZV0gKyAxIDpcbiAgICAgICAgICAgIDA7XG4gICAgICAgICAgY2FsbGJhY2suYXBwbHkobnVsbCwgW211dGF0aW9uXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgIH0pXG4gIH0sXG5cbiAgc2V0SW5pdGlhbGl6ZWQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHR5cGUpIHtcbiAgICAvLyBlbGVtZW50LnNldEF0dHJpYnV0ZShgaW5pdGlhbGl6ZWRfJHt0eXBlfWAsIFwidHJ1ZVwiKTtcbiAgICB0eXBlID0gdHlwZSB8fCBcIlwiO1xuICAgIGxldCBrZXkgPSBcImNvX2luaXRpYWxpemVkX1wiICsgdHlwZTtcbiAgICBlbGVtZW50W2tleV0gPSB0cnVlO1xuICB9LFxuXG4gIGdldEluaXRpYWxpemVkOiBmdW5jdGlvbihlbGVtZW50LCB0eXBlKSB7XG4gICAgdHlwZSA9IHR5cGUgfHwgXCJcIjtcbiAgICBsZXQga2V5ID0gXCJjb19pbml0aWFsaXplZF9cIiArIHR5cGU7XG4gICAgaWYgKCFlbGVtZW50W2tleV0pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuQ29DcmVhdGVPYnNlcnZlci5fX2luaXQoKTtcblxuXG5leHBvcnQgZGVmYXVsdCBDb0NyZWF0ZU9ic2VydmVyO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../CoCreate-components/CoCreate-observer/src/index.js\n')},"../../CoCreate-components/CoCreate-socket/src/index.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nclass CoCreateSocket {\n  constructor(prefix = \"crud\") {\n    this.prefix = prefix || \"crud\";\n    this.sockets = new Map();\n    this.listeners = new Map();\n    this.messageQueue = new Map();\n    this.saveFileName = '';\n    this.globalScope = \"\";\n  }\n\n  setGlobalScope(scope) {\n    this.globalScope = `${this.prefix}/${scope}`;\n  }\n\n  getGlobalScope() {\n    return this.globalScope;\n  }\n  /**\n   * config: {namespace, room, host}\n   */\n\n\n  create(config) {\n    const {\n      namespace,\n      room\n    } = config;\n    const key = this.getKey(namespace, room);\n\n    let _this = this;\n\n    let socket;\n\n    if (this.sockets.get(key)) {\n      socket = this.sockets.get(key);\n      console.log('SOcket already has been register');\n      return;\n    }\n\n    let w_protocol = window.location.protocol;\n\n    if (window.location.protocol === \"about:\") {\n      w_protocol = window.parent.location.protocol;\n    }\n\n    let protocol = w_protocol === 'http:' ? 'ws' : 'wss';\n    const port = config.port ? config.port : 8088;\n    let socket_url = `${protocol}://${window.location.host}:${port}/${key}`;\n\n    if (config.host) {\n      if (config.host.includes(\"://\")) {\n        socket_url = `${config.host}/${key}`;\n      } else {\n        socket_url = `${protocol}://${config.host}:${port}/${key}`;\n      }\n    }\n\n    socket = new WebSocket(socket_url);\n\n    socket.onopen = function (event) {\n      console.log('created socket: ' + key);\n      const messages = _this.messageQueue.get(key) || [];\n      console.log(messages);\n      messages.forEach(msg => socket.send(JSON.stringify(msg)));\n\n      _this.sockets.set(key, socket);\n\n      _this.messageQueue.set(key, []);\n    };\n\n    socket.onclose = function (event) {\n      switch (event.code) {\n        case 1000:\n          // close normal\n          console.log(\"websocket: closed\");\n          break;\n\n        default:\n          _this.destroy(socket, key);\n\n          _this.reconnect(socket, config);\n\n          break;\n      }\n    };\n\n    socket.onerror = function (err) {\n      console.log('Socket error');\n\n      _this.destroy(socket, key);\n\n      _this.reconnect(socket, config);\n    };\n\n    socket.onmessage = function (data) {\n      try {\n        if (data.data instanceof Blob) {\n          _this.saveFile(data.data);\n\n          return;\n        }\n\n        let rev_data = JSON.parse(data.data);\n\n        if (rev_data.data.event) {\n          var event = new CustomEvent(rev_data.data.event, {\n            detail: rev_data.data\n          });\n          document.dispatchEvent(event);\n          return;\n        }\n\n        let action = rev_data.action;\n\n        const listeners = _this.listeners.get(rev_data.action);\n\n        if (!listeners) {\n          return;\n        }\n\n        listeners.forEach(listener => {\n          listener(rev_data.data, key);\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    };\n  }\n  /**\n   * \n   */\n\n\n  send(action, data, room) {\n    const obj = {\n      action: action,\n      data: data\n    };\n    const key = this.getKeyByRoom(room);\n    const socket = this.getByRoom(room);\n\n    if (socket) {\n      socket.send(JSON.stringify(obj));\n    } else {\n      if (this.messageQueue.get(key)) {\n        this.messageQueue.get(key).push(obj);\n      } else {\n        this.messageQueue.set(key, [obj]);\n      }\n    }\n  }\n\n  sendFile(file, room) {\n    const socket = this.getByRoom(room);\n\n    if (socket) {\n      socket.send(file);\n    }\n  }\n  /**\n   * scope: ns/room\n   */\n\n\n  listen(type, callback) {\n    if (!this.listeners.get(type)) {\n      this.listeners.set(type, [callback]);\n    } else {\n      this.listeners.get(type).push(callback);\n    }\n  }\n\n  reconnect(socket, config) {\n    let _this = this;\n\n    setTimeout(function () {\n      _this.create(config);\n    }, 1000);\n  }\n\n  destroy(socket, key) {\n    if (socket) {\n      socket.onerror = socket.onopen = socket.onclose = null;\n      socket.close();\n      socket = null;\n    }\n\n    if (this.sockets.get(key)) {\n      this.sockets.delete(key);\n    }\n  }\n\n  getKey(namespace, room) {\n    let key = `${this.prefix}`;\n\n    if (namespace && namespace != '') {\n      if (room && room != '') {\n        key += `/${namespace}/${room}`;\n      } else {\n        key += `/${namespace}`;\n      }\n    }\n\n    return key;\n  }\n\n  getByRoom(room) {\n    let key = this.getKeyByRoom(room);\n    return this.sockets.get(key);\n  }\n\n  getKeyByRoom(room) {\n    let key = this.globalScope;\n\n    if (room) {\n      key = `${this.prefix}/${room}`;\n    }\n\n    return key;\n  }\n\n  saveFile(blob) {\n    // const {filename} = window.saveFileInfo;\n    const file_name = this.saveFileName || 'downloadFile';\n    var a = document.createElement(\"a\");\n    document.body.appendChild(a);\n    a.style = \"display: none\";\n    let url = window.URL.createObjectURL(blob);\n    a.href = url;\n    a.download = file_name;\n    a.click();\n    window.URL.revokeObjectURL(url);\n    this.saveFileName = '';\n  }\n\n  listenAsync(eventname) {\n    return new Promise(resolve => {\n      document.addEventListener(eventname, function (event) {\n        resolve(event.detail);\n      }, {\n        once: true\n      });\n    });\n  }\n\n}\n\nvar _default = CoCreateSocket;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5xdWlsbC8vaG9tZS91YnVudHUvZW52aXJvbm1lbnQvcHVibGljL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtc29ja2V0L3NyYy9pbmRleC5qcz9mNGYyIl0sIm5hbWVzIjpbIkNvQ3JlYXRlU29ja2V0IiwiY29uc3RydWN0b3IiLCJwcmVmaXgiLCJzb2NrZXRzIiwiTWFwIiwibGlzdGVuZXJzIiwibWVzc2FnZVF1ZXVlIiwic2F2ZUZpbGVOYW1lIiwiZ2xvYmFsU2NvcGUiLCJzZXRHbG9iYWxTY29wZSIsInNjb3BlIiwiZ2V0R2xvYmFsU2NvcGUiLCJjcmVhdGUiLCJjb25maWciLCJuYW1lc3BhY2UiLCJyb29tIiwia2V5IiwiZ2V0S2V5IiwiX3RoaXMiLCJzb2NrZXQiLCJnZXQiLCJjb25zb2xlIiwibG9nIiwid19wcm90b2NvbCIsIndpbmRvdyIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJwYXJlbnQiLCJwb3J0Iiwic29ja2V0X3VybCIsImhvc3QiLCJpbmNsdWRlcyIsIldlYlNvY2tldCIsIm9ub3BlbiIsImV2ZW50IiwibWVzc2FnZXMiLCJmb3JFYWNoIiwibXNnIiwic2VuZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJzZXQiLCJvbmNsb3NlIiwiY29kZSIsImRlc3Ryb3kiLCJyZWNvbm5lY3QiLCJvbmVycm9yIiwiZXJyIiwib25tZXNzYWdlIiwiZGF0YSIsIkJsb2IiLCJzYXZlRmlsZSIsInJldl9kYXRhIiwicGFyc2UiLCJDdXN0b21FdmVudCIsImRldGFpbCIsImRvY3VtZW50IiwiZGlzcGF0Y2hFdmVudCIsImFjdGlvbiIsImxpc3RlbmVyIiwiZSIsIm9iaiIsImdldEtleUJ5Um9vbSIsImdldEJ5Um9vbSIsInB1c2giLCJzZW5kRmlsZSIsImZpbGUiLCJsaXN0ZW4iLCJ0eXBlIiwiY2FsbGJhY2siLCJzZXRUaW1lb3V0IiwiY2xvc2UiLCJkZWxldGUiLCJibG9iIiwiZmlsZV9uYW1lIiwiYSIsImNyZWF0ZUVsZW1lbnQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJzdHlsZSIsInVybCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsImhyZWYiLCJkb3dubG9hZCIsImNsaWNrIiwicmV2b2tlT2JqZWN0VVJMIiwibGlzdGVuQXN5bmMiLCJldmVudG5hbWUiLCJQcm9taXNlIiwicmVzb2x2ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbmNlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsTUFBTUEsY0FBTixDQUNBO0FBQ0NDLGFBQVcsQ0FBQ0MsTUFBTSxHQUFHLE1BQVYsRUFBa0I7QUFDNUIsU0FBS0EsTUFBTCxHQUFjQSxNQUFNLElBQUksTUFBeEI7QUFDQSxTQUFLQyxPQUFMLEdBQWUsSUFBSUMsR0FBSixFQUFmO0FBQ0EsU0FBS0MsU0FBTCxHQUFpQixJQUFJRCxHQUFKLEVBQWpCO0FBQ0EsU0FBS0UsWUFBTCxHQUFxQixJQUFJRixHQUFKLEVBQXJCO0FBQ0EsU0FBS0csWUFBTCxHQUFxQixFQUFyQjtBQUNBLFNBQUtDLFdBQUwsR0FBb0IsRUFBcEI7QUFDQTs7QUFFREMsZ0JBQWMsQ0FBQ0MsS0FBRCxFQUFRO0FBQ3JCLFNBQUtGLFdBQUwsR0FBb0IsR0FBRSxLQUFLTixNQUFPLElBQUdRLEtBQU0sRUFBM0M7QUFDQTs7QUFFREMsZ0JBQWMsR0FBRztBQUNoQixXQUFPLEtBQUtILFdBQVo7QUFDQTtBQUVEO0FBQ0Q7QUFDQTs7O0FBQ0NJLFFBQU0sQ0FBRUMsTUFBRixFQUFVO0FBQ2YsVUFBTTtBQUFDQyxlQUFEO0FBQVlDO0FBQVosUUFBb0JGLE1BQTFCO0FBQ0EsVUFBTUcsR0FBRyxHQUFHLEtBQUtDLE1BQUwsQ0FBWUgsU0FBWixFQUF1QkMsSUFBdkIsQ0FBWjs7QUFDQSxRQUFJRyxLQUFLLEdBQUcsSUFBWjs7QUFDQSxRQUFJQyxNQUFKOztBQUNBLFFBQUksS0FBS2hCLE9BQUwsQ0FBYWlCLEdBQWIsQ0FBaUJKLEdBQWpCLENBQUosRUFBMkI7QUFDMUJHLFlBQU0sR0FBRyxLQUFLaEIsT0FBTCxDQUFh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LE1BQU8sSUFBR2EsSUFBSyxFQUE3QjtBQUNBOztBQUNELFdBQU9DLEdBQVA7QUFDQTs7QUFHRG1DLFVBQVEsQ0FBQ3NCLElBQUQsRUFBTztBQUNkO0FBRUEsVUFBTUMsU0FBUyxHQUFHLEtBQUtuRSxZQUFMLElBQXFCLGNBQXZDO0FBQ0EsUUFBSW9FLENBQUMsR0FBR25CLFFBQVEsQ0FBQ29CLGFBQVQsQ0FBdUIsR0FBdkIsQ0FBUjtBQUNNcEIsWUFBUSxDQUFDcUIsSUFBVCxDQUFjQyxXQUFkLENBQTBCSCxDQUExQjtBQUNBQSxLQUFDLENBQUNJLEtBQUYsR0FBVSxlQUFWO0FBRUEsUUFBSUMsR0FBRyxHQUFHeEQsTUFBTSxDQUFDeUQsR0FBUCxDQUFXQyxlQUFYLENBQTJCVCxJQUEzQixDQUFWO0FBQ0FFLEtBQUMsQ0FBQ1EsSUFBRixHQUFTSCxHQUFUO0FBQ0FMLEtBQUMsQ0FBQ1MsUUFBRixHQUFhVixTQUFiO0FBQ0FDLEtBQUMsQ0FBQ1UsS0FBRjtBQUNBN0QsVUFBTSxDQUFDeUQsR0FBUCxDQUFXSyxlQUFYLENBQTJCTixHQUEzQjtBQUVBLFNBQUt6RSxZQUFMLEdBQW9CLEVBQXBCO0FBQ047O0FBRURnRixhQUFXLENBQUNDLFNBQUQsRUFBWTtBQUN0QixXQUFPLElBQUlDLE9BQUosQ0FBYUMsT0FBRCxJQUFhO0FBQy9CbEMsY0FBUSxDQUFDbUMsZ0JBQVQsQ0FBMEJILFNBQTFCLEVBQXFDLFVBQVN0RCxLQUFULEVBQWdCO0FBQ2pEd0QsZUFBTyxDQUFDeEQsS0FBSyxDQUFDcUIsTUFBUCxDQUFQO0FBQ0gsT0FGRCxFQUVHO0FBQUVxQyxZQUFJLEVBQUU7QUFBUixPQUZIO0FBSUEsS0FMTSxDQUFQO0FBTUE7O0FBM05GOztlQStOZTVGLGMiLCJmaWxlIjoiLi4vLi4vQ29DcmVhdGUtY29tcG9uZW50cy9Db0NyZWF0ZS1zb2NrZXQvc3JjL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQ29DcmVhdGVTb2NrZXRcbntcblx0Y29uc3RydWN0b3IocHJlZml4ID0gXCJjcnVkXCIpIHtcblx0XHR0aGlzLnByZWZpeCA9IHByZWZpeCB8fCBcImNydWRcIjtcblx0XHR0aGlzLnNvY2tldHMgPSBuZXcgTWFwKCk7XG5cdFx0dGhpcy5saXN0ZW5lcnMgPSBuZXcgTWFwKCk7XG5cdFx0dGhpcy5tZXNzYWdlUXVldWUgPSAgbmV3IE1hcCgpO1xuXHRcdHRoaXMuc2F2ZUZpbGVOYW1lID0gICcnO1xuXHRcdHRoaXMuZ2xvYmFsU2NvcGUgPSAgXCJcIjtcblx0fVxuXG5cdHNldEdsb2JhbFNjb3BlKHNjb3BlKSB7XG5cdFx0dGhpcy5nbG9iYWxTY29wZSA9IGAke3RoaXMucHJlZml4fS8ke3Njb3BlfWA7XG5cdH1cblx0XG5cdGdldEdsb2JhbFNjb3BlKCkge1xuXHRcdHJldHVybiB0aGlzLmdsb2JhbFNjb3BlO1xuXHR9XG5cdFxuXHQvKipcblx0ICogY29uZmlnOiB7bmFtZXNwYWNlLCByb29tLCBob3N0fVxuXHQgKi9cblx0Y3JlYXRlIChjb25maWcpIHtcblx0XHRjb25zdCB7bmFtZXNwYWNlLCByb29tfSA9IGNvbmZpZztcblx0XHRjb25zdCBrZXkgPSB0aGlzLmdldEtleShuYW1lc3BhY2UsIHJvb20pO1xuXHRcdGxldCBfdGhpcyA9IHRoaXM7XG5cdFx0bGV0IHNvY2tldDtcblx0XHRpZiAodGhpcy5zb2NrZXRzLmdldChrZXkpKSB7XG5cdFx0XHRzb2NrZXQgPSB0aGlzLnNvY2tldHMuZ2V0KGtleSk7XG5cdFx0XHRjb25zb2xlLmxvZygnU09ja2V0IGFscmVhZHkgaGFzIGJlZW4gcmVnaXN0ZXInKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0XG5cdFx0bGV0IHdfcHJvdG9jb2wgPSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2w7XHRcdFxuXHRcdGlmICh3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgPT09IFwiYWJvdXQ6XCIpIHtcblx0XHRcdHdfcHJvdG9jb2wgPSB3aW5kb3cucGFyZW50LmxvY2F0aW9uLnByb3RvY29sO1xuXHRcdH1cblx0XHRsZXQgcHJvdG9jb2wgPSB3X3Byb3RvY29sID09PSAnaHR0cDonID8gJ3dzJyA6ICd3c3MnO1xuXHRcdFxuXHRcdGNvbnN0IHBvcnQgPSBjb25maWcucG9ydCA/IGNvbmZpZy5wb3J0IDogODA4ODtcblx0XHRcblx0XHRsZXQgc29ja2V0X3VybCA9IGAke3Byb3RvY29sfTovLyR7d2luZG93LmxvY2F0aW9uLmhvc3R9OiR7cG9ydH0vJHtrZXl9YDtcblx0XHRcblx0XHRpZiAoY29uZmlnLmhvc3QpIHtcblx0XHRcdGlmIChjb25maWcuaG9zdC5pbmNsdWRlcyhcIjovL1wiKSkge1xuXHRcdFx0XHRzb2NrZXRfdXJsID0gYCR7Y29uZmlnLmhvc3R9LyR7a2V5fWA7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzb2NrZXRfdXJsID0gYCR7cHJvdG9jb2x9Oi8vJHtjb25maWcuaG9zdH06JHtwb3J0fS8ke2tleX1gO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHRzb2NrZXQgPSBuZXcgV2ViU29ja2V0KHNvY2tldF91cmwpO1xuXHRcdFxuXHRcdHNvY2tldC5vbm9wZW4gPSBmdW5jdGlvbihldmVudCkge1xuXHRcdFx0Y29uc29sZS5sb2coJ2NyZWF0ZWQgc29ja2V0OiAnICsga2V5KTtcblx0XHRcdGNvbnN0IG1lc3NhZ2VzID0gX3RoaXMubWVzc2FnZVF1ZXVlLmdldChrZXkpIHx8IFtdO1xuXHRcdFx0Y29uc29sZS5sb2cobWVzc2FnZXMpXG5cdFx0XHRtZXNzYWdlcy5mb3JFYWNoKG1zZyA9PiBzb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeShtc2cpKSk7XG5cdFx0XHRcblx0XHRcdF90aGlzLnNvY2tldHMuc2V0KGtleSwgc29ja2V0KTtcblx0XHRcdF90aGlzLm1lc3NhZ2VRdWV1ZS5zZXQoa2V5LCBbXSk7XG5cdFx0fVxuXHRcdFxuXHRcdHNvY2tldC5vbmNsb3NlID0gZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRcdHN3aXRjaChldmVudC5jb2RlKSB7XG5cdFx0XHRcdGNhc2UgMTAwMDogLy8gY2xvc2Ugbm9ybWFsXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coXCJ3ZWJzb2NrZXQ6IGNsb3NlZFwiKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0ZGVmYXVsdDogXG5cdFx0XHRcdFx0X3RoaXMuZGVzdHJveShzb2NrZXQsIGtleSk7XG5cdFx0XHRcdFx0X3RoaXMucmVjb25uZWN0KHNvY2tldCwgY29uZmlnKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0c29ja2V0Lm9uZXJyb3IgPSBmdW5jdGlvbihlcnIpIHtcblx0XHRcdGNvbnNvbGUubG9nKCdTb2NrZXQgZXJyb3InKTtcblx0XHRcdF90aGlzLmRlc3Ryb3koc29ja2V0LCBrZXkpO1xuXHRcdFx0X3RoaXMucmVjb25uZWN0KHNvY2tldCwgY29uZmlnKTtcblx0XHR9XG5cblx0XHRzb2NrZXQub25tZXNzYWdlID0gZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRpZiAoZGF0YS5kYXRhIGluc3RhbmNlb2YgQmxvYikge1xuXHRcdFx0XHRcdF90aGlzLnNhdmVGaWxlKGRhdGEuZGF0YSk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGxldCByZXZfZGF0YSA9IEpTT04ucGFyc2UoZGF0YS5kYXRhKTtcblx0XHRcdFx0aWYgKHJldl9kYXRhLmRhdGEuZXZlbnQpIHtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHR2YXIgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQocmV2X2RhdGEuZGF0YS5ldmVudCwge1xuXHRcdFx0XHRcdFx0ZGV0YWlsOiByZXZfZGF0YS5kYXRhXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0bGV0IGFjdGlvbiA9IHJldl9kYXRhLmFjdGlvbjtcblx0XHRcdFx0Y29uc3QgbGlzdGVuZXJzID0gX3RoaXMubGlzdGVuZXJzLmdldChyZXZfZGF0YS5hY3Rpb24pO1xuXHRcdFx0XHRpZiAoIWxpc3RlbmVycykge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHRsaXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiB7XG5cdFx0XHRcdFx0bGlzdGVuZXIocmV2X2RhdGEuZGF0YSwga2V5KTtcblx0XHRcdFx0fSlcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdFxuXHQvKipcblx0ICogXG5cdCAqL1xuXHRzZW5kIChhY3Rpb24sIGRhdGEsIHJvb20pIHtcblx0XHRjb25zdCBvYmogPSB7XG5cdFx0XHRhY3Rpb246IGFjdGlvbixcblx0XHRcdGRhdGE6IGRhdGFcblx0XHR9XG5cdFx0Y29uc3Qga2V5ID0gdGhpcy5nZXRLZXlCeVJvb20ocm9vbSk7XG5cdFx0Y29uc3Qgc29ja2V0ID0gdGhpcy5nZXRCeVJvb20ocm9vbSk7XG5cdFx0XG5cdFx0aWYgKHNvY2tldCkge1xuXHRcdFx0c29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkob2JqKSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmICh0aGlzLm1lc3NhZ2VRdWV1ZS5nZXQoa2V5KSkge1xuXHRcdFx0XHR0aGlzLm1lc3NhZ2VRdWV1ZS5nZXQoa2V5KS5wdXNoKG9iaik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLm1lc3NhZ2VRdWV1ZS5zZXQoa2V5LCBbb2JqXSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdFxuXHRzZW5kRmlsZSAoZmlsZSwgcm9vbSkge1xuXHRcdGNvbnN0IHNvY2tldCA9IHRoaXMuZ2V0QnlSb29tKHJvb20pO1xuXHRcdGlmIChzb2NrZXQpIHtcblx0XHRcdHNvY2tldC5zZW5kKGZpbGUpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBzY29wZTogbnMvcm9vbVxuXHQgKi9cblx0bGlzdGVuKHR5cGUsIGNhbGxiYWNrKSB7XG5cdFx0aWYgKCF0aGlzLmxpc3RlbmVycy5nZXQodHlwZSkpIHtcblx0XHRcdHRoaXMubGlzdGVuZXJzLnNldCh0eXBlLCBbY2FsbGJhY2tdKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5saXN0ZW5lcnMuZ2V0KHR5cGUpLnB1c2goY2FsbGJhY2spO1xuXHRcdH1cblx0fVxuXHRcblx0cmVjb25uZWN0KHNvY2tldCwgY29uZmlnKSB7XG5cdFx0bGV0IF90aGlzID0gdGhpcztcblx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0X3RoaXMuY3JlYXRlKGNvbmZpZyk7XG5cdFx0fSwgMTAwMClcblx0fVxuXHRcblx0ZGVzdHJveShzb2NrZXQsIGtleSkge1xuXHRcdGlmIChzb2NrZXQpIHtcblx0XHRcdHNvY2tldC5vbmVycm9yID0gc29ja2V0Lm9ub3BlbiA9IHNvY2tldC5vbmNsb3NlID0gbnVsbDtcblx0XHRcdHNvY2tldC5jbG9zZSgpO1xuXHRcdFx0c29ja2V0ID0gbnVsbDtcblx0XHR9XG5cdFx0XG5cdFx0aWYgKHRoaXMuc29ja2V0cy5nZXQoa2V5KSkge1xuXHRcdFx0dGhpcy5zb2NrZXRzLmRlbGV0ZShrZXkpO1xuXHRcdH1cblx0fVxuXHRcblx0Z2V0S2V5KG5hbWVzcGFjZSwgcm9vbSkge1xuXHRcdGxldCBrZXkgPSBgJHt0aGlzLnByZWZpeH1gO1xuXHRcdGlmIChuYW1lc3BhY2UgJiYgbmFtZXNwYWNlICE9ICcnKSB7XG5cdFx0XHRpZiAocm9vbSAmJiAgcm9vbSAhPSAnJykge1xuXHRcdFx0XHRrZXkgKz0gYC8ke25hbWVzcGFjZX0vJHtyb29tfWA7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRrZXkgKz1gLyR7bmFtZXNwYWNlfWA7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBrZXk7XG5cdH1cblx0XG5cdGdldEJ5Um9vbShyb29tKSB7XG5cdFx0bGV0IGtleSA9IHRoaXMuZ2V0S2V5QnlSb29tKHJvb20pXG5cdFx0cmV0dXJuIHRoaXMuc29ja2V0cy5nZXQoa2V5KTtcdFxuXHR9XG5cdFxuXHRnZXRLZXlCeVJvb20ocm9vbSkge1xuXHRcdGxldCBrZXkgPSB0aGlzLmdsb2JhbFNjb3BlO1xuXHRcdGlmIChyb29tKSB7XG5cdFx0XHRrZXkgPSBgJHt0aGlzLnByZWZpeH0vJHtyb29tfWA7XG5cdFx0fVxuXHRcdHJldHVybiBrZXk7XHRcdFxuXHR9XG5cdFxuXHRcblx0c2F2ZUZpbGUoYmxvYikge1xuXHRcdC8vIGNvbnN0IHtmaWxlbmFtZX0gPSB3aW5kb3cuc2F2ZUZpbGVJbmZvO1xuXHRcdFxuXHRcdGNvbnN0IGZpbGVfbmFtZSA9IHRoaXMuc2F2ZUZpbGVOYW1lIHx8ICdkb3dubG9hZEZpbGUnO1xuXHRcdHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XG4gICAgICAgIGEuc3R5bGUgPSBcImRpc3BsYXk6IG5vbmVcIjtcblxuICAgICAgICBsZXQgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgIGEuaHJlZiA9IHVybDtcbiAgICAgICAgYS5kb3dubG9hZCA9IGZpbGVfbmFtZTtcbiAgICAgICAgYS5jbGljaygpO1xuICAgICAgICB3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xuXG4gICAgICAgIHRoaXMuc2F2ZUZpbGVOYW1lID0gJydcblx0fVxuXHRcblx0bGlzdGVuQXN5bmMoZXZlbnRuYW1lKSB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG5cdFx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50bmFtZSwgZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRcdCAgICByZXNvbHZlKGV2ZW50LmRldGFpbCk7XG5cdFx0XHR9LCB7IG9uY2U6IHRydWUgfSlcblx0XHRcdFxuXHRcdH0pXG5cdH1cbn1cblxuXG5leHBvcnQgZGVmYXVsdCBDb0NyZWF0ZVNvY2tldDtcblxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../CoCreate-components/CoCreate-socket/src/index.js\n")},"../../CoCreate-components/CoCreate-utils/src/index.js":function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.generateUUID = generateUUID;\nexports.isRealTime = isRealTime;\nexports.getParentFromElement = getParentFromElement;\nexports.isReadValue = isReadValue;\nexports.isUpdateValue = isUpdateValue;\nexports.isJsonString = isJsonString;\nexports.getAttributes = getAttributes;\nexports.checkValue = checkValue;\nexports.allFrame = allFrame;\nexports.cssPath = cssPath;\nexports.getTopMostWindow = getTopMostWindow;\nexports.findIframeFromElement = findIframeFromElement;\nexports.getIframeFromPath = getIframeFromPath;\nexports.configMatch = configMatch;\nexports.configExecuter = configExecuter;\nexports.UUID = UUID;\nexports.parseTextToHtml = parseTextToHtml;\nexports.splitBydelimiter = splitBydelimiter;\nexports.joinBydelimiter = joinBydelimiter;\nexports.isValidSelector = isValidSelector;\nexports.getElementPath = getElementPath;\nexports.isUsageY = isUsageY;\nexports.default = void 0;\n\n/**\n * Created by jin\n * 2020-04-03\n */\nfunction generateUUID(length = 36) {\n  // if (length == 10) {\n  //   var result           = \'\';\n  //   var characters       = \'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\';\n  //   var charactersLength = characters.length;\n  //   for ( var i = 0; i < length; i++ ) {\n  //     result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  //   }\n  //   var dd = new Date().toTimeString();\n  //   var random = dd.replace(/[\\W_]+/g, "").substr(0,6);\n  //   result += random;\n  //   return result;\n  // }\n  let d = new Date().getTime();\n  let d2 = window.performance && window.performance.now && window.performance.now() * 1000 || 0;\n  let pattern = "uxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";\n\n  if (length <= pattern.length) {\n    pattern = pattern.substr(0, length);\n  } else {\n    let add_len = length - pattern.length;\n    let sub_pattern = "-xxxyyxxx";\n    let group_n = Math.floor(add_len / sub_pattern.length);\n\n    for (let i = 0; i < group_n; i++) {\n      pattern += sub_pattern;\n    }\n\n    group_n = add_len - group_n * sub_pattern.length;\n    pattern += sub_pattern.substr(0, group_n);\n  }\n\n  let uuid = pattern.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16;\n\n    if (d > 0) {\n      var r = (d + r) % 16 | 0;\n      d = Math.floor(d / 16);\n    } else {\n      var r = (d2 + r) % 16 | 0;\n      d2 = Math.floor(d2 / 16);\n    }\n\n    return (c == "x" ? r : r & 0x7 | 0x8).toString(16);\n  });\n  return uuid;\n}\n\nfunction isRealTime(element, parent_realTime) {\n  let realtime = element.getAttribute("data-realtime") || parent_realTime;\n\n  if (realtime === "false") {\n    return false;\n  }\n\n  return true;\n}\n\nfunction getParentFromElement(element, parent_class, attributes) {\n  if (parent_class) {\n    if (element.classList.contains(parent_class)) {\n      return element;\n    }\n\n    let node = element.parentNode;\n\n    while (node != null && node.classList) {\n      if (node.classList.contains(parent_class)) {\n        return node;\n      }\n\n      node = node.parentNode;\n    }\n  } else if (attributes) {\n    if (attributes.every(attr => element.attributes.hasOwnProperty(attr))) {\n      return element;\n    }\n\n    let node = element.parentNode;\n\n    while (node != null && node.attributes) {\n      if (attributes.every(attr => node.attributes.hasOwnProperty(attr))) {\n        return node;\n      }\n\n      node = node.parentNode;\n    }\n  }\n\n  return false;\n}\n\nfunction isReadValue(element) {\n  return element.getAttribute("data-read_value") != "false";\n}\n\nfunction isUpdateValue(element) {\n  return element.getAttribute("data-update_value") != "false";\n}\n\nfunction isJsonString(str_data) {\n  try {\n    let json_data = JSON.parse(str_data);\n\n    if (typeof json_data === "object" && json_data != null) {\n      return true;\n    } else {\n      return false;\n    }\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction getAttributes(element) {\n  return element.getAttributeNames().reduce((attrMap, name) => {\n    attrMap[name] = element.getAttribute(name);\n    return attrMap;\n  }, {});\n}\n\nfunction checkValue(value) {\n  if (!value) return false;\n\n  if (/{{\\s*([\\w\\W]+)\\s*}}/g.test(value)) {\n    return false;\n  }\n\n  return true;\n} // hosseins utills\n// function to go through all frames\n\n\nfunction allFrame(callback) {\n  let allFrames = [{\n    document,\n    window\n  }];\n\n  for (let frame of document.querySelectorAll("iframe")) {\n    let frameDocument = frame.contentDocument || frame.contentWindow.document;\n    let frameWindow = frame.contentWindow;\n    allFrames.push({\n      document: frameDocument,\n      window: frameWindow,\n      frameElement: frame\n    });\n  }\n\n  let result = new Set();\n\n  for (let frame of allFrames) {\n    let callbackResult = callback(frame);\n    if (callbackResult && typeof callbackResult[Symbol.iterator] === "function") callbackResult.forEach(el => result.add(el));else if (callbackResult) result.add(callbackResult);\n  }\n\n  return Array.from(result);\n}\n\nfunction cssPath(node) {\n  let pathSplits = [];\n\n  do {\n    if (!node || !node.tagName) return false;\n    let pathSplit = node.tagName.toLowerCase();\n    if (node.id && node.tagName !== "BODY") pathSplit += "#" + node.id;\n\n    if (node.classList.length && node.tagName !== "BODY") {\n      node.classList.forEach(item => {\n        if (item.indexOf(":") === -1) pathSplit += "." + item;\n      });\n    }\n\n    if (node.tagName !== "BODY" && node.parentNode) {\n      let index = Array.prototype.indexOf.call(node.parentNode.children, node);\n      pathSplit += `:nth-child(${index + 1})`;\n    }\n\n    pathSplits.unshift(pathSplit);\n    node = node.parentNode;\n  } while (node.tagName !== "HTML");\n\n  return pathSplits.join(" > ");\n}\n\nfunction getTopMostWindow() {\n  let parentWindow = window;\n\n  while (parentWindow !== window.parent) parentWindow = window.parent;\n\n  return parentWindow;\n}\n\nfunction findIframeFromElement(windowObject, element) {\n  let frameElement;\n  allFrame(frame => {\n    if (frame.document.contains(element)) frameElement = frame.frameElement; // window.cc.findIframeFromElement(frame.window, element);\n  });\n  return frameElement;\n}\n\nfunction getIframeFromPath(path) {\n  let topWindow = getTopMostWindow;\n  path.forEach(selector => {\n    if (topWindow) topWindow = topWindow.querySelector(selector);\n  });\n  return topWindow;\n} // DO NOT REMOVE\n\n\nfunction* configMatch(elementConfig, element) {\n  for (let config of elementConfig) {\n    // if (!Array.isArray(config.selector))\n    //   config.selector = [config.selector];\n    if (config.selector && element.matches(config.selector)) yield config;\n  }\n\n  return;\n} // export function configMatch2(elementConfig, element) {\n//   let result = [];\n//   for (let config of elementConfig) {\n//     if (config.selector && element.matches(config.selector)) result.push(config);\n//   }\n//   return result;\n// }\n// DO NOT REMOVE\n// an opiniated function uses configMatch2 to read configs\n// WARNING: the config iterated from top to bottom. for deseired effect elementConfig should be reveresed\n// typeof elementConfig: array of objects and every objects containing keys as false, true or a selector \n// element: the element to read attributes\n// key: the key in which is in elementConfig and on match onSuccess callback will be called\n\n\nfunction configExecuter(element, key, onSuccess, elementConfig) {\n  for (let config of configMatch(elementConfig || window.elementConfig, element)) if (config[key] === true) return onSuccess(element, config);else if (config[key] === false) return false;else if (config[key] === undefined) continue;else if (isValidSelector(config[key])) return onSuccess(element, config, true);else console.warn("builder: wrong element config ", config);\n\n  return false;\n}\n\nfunction UUID(length = 10) {\n  var result = "";\n  var characters = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";\n  var charactersLength = characters.length;\n\n  for (var i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n\n  var d = new Date().toTimeString();\n  var random = d.replace(/[\\W_]+/g, "").substr(0, 6);\n  result += random;\n  return result;\n}\n\nfunction parseTextToHtml(text) {\n  let doc = new DOMParser().parseFromString(text, "text/html");\n  if (doc.head.children[0]) return doc.head.children[0];else return doc.body.children[0];\n}\n\nfunction splitBydelimiter(str, delimiter) {\n  return str.split(delimiter).map(s => s.trim());\n}\n\nfunction joinBydelimiter(str, delimiter) {\n  return str.map(s => s.trim()).join(delimiter);\n}\n\nfunction isValidSelector(selector) {\n  try {\n    document.createDocumentFragment().querySelector(selector);\n  } catch (error) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction getElementPath(element, returnContext) {\n  let path = [];\n  let topWindow = window;\n  let iframeElement = findIframeFromElement(topWindow, element);\n  let p = cssPath(iframeElement);\n  if (p) path.unshift(p);\n  return returnContext ? {\n    path,\n    document: iframeElement || document\n  } : path; //todo: support for nested iframe\n  // while(iframeElement !== findIframeFromElement(topWindow,iframeElement))\n  // {\n  //   iframeElement = findIframeFromElement(topWindow,iframeElement);\n  //   path.unshift(cssPath(iframeElement))\n  // }\n}\n\nfunction isUsageY(input) {\n  if (this.isJsonString(input.getAttribute(\'data-collection\'))) {\n    return false;\n  }\n\n  if (this.isJsonString(input.getAttribute(\'name\'))) {\n    return false;\n  }\n\n  if (input.tagName === "INPUT" && ["text", "email", "tel", "url"].includes(input.type) || input.tagName === "TEXTAREA") {\n    if (!input.getAttribute(\'name\')) {\n      return false;\n    }\n\n    if (input.getAttribute("data-realtime") == "false") {\n      return false;\n    }\n\n    if (input.getAttribute("data-unique") === "true") {\n      return false;\n    }\n\n    if (input.type === \'password\') {\n      return false;\n    }\n\n    if (!this.isReadValue(input)) {\n      return false;\n    }\n\n    return true;\n  }\n\n  return false;\n}\n\nvar _default = {\n  isUsageY,\n  getElementPath,\n  isValidSelector,\n  joinBydelimiter,\n  splitBydelimiter,\n  parseTextToHtml,\n  UUID,\n  configExecuter,\n  configMatch,\n  getIframeFromPath,\n  findIframeFromElement,\n  getTopMostWindow,\n  cssPath,\n  allFrame,\n  checkValue,\n  getAttributes,\n  isJsonString,\n  isUpdateValue,\n  isReadValue,\n  getParentFromElement,\n  isRealTime,\n  generateUUID\n};\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5xdWlsbC8vaG9tZS91YnVudHUvZW52aXJvbm1lbnQvcHVibGljL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtdXRpbHMvc3JjL2luZGV4LmpzP2E5NTYiXSwibmFtZXMiOlsiZ2VuZXJhdGVVVUlEIiwibGVuZ3RoIiwiZCIsIkRhdGUiLCJnZXRUaW1lIiwiZDIiLCJ3aW5kb3ciLCJwZXJmb3JtYW5jZSIsIm5vdyIsInBhdHRlcm4iLCJzdWJzdHIiLCJhZGRfbGVuIiwic3ViX3BhdHRlcm4iLCJncm91cF9uIiwiTWF0aCIsImZsb29yIiwiaSIsInV1aWQiLCJyZXBsYWNlIiwiYyIsInIiLCJyYW5kb20iLCJ0b1N0cmluZyIsImlzUmVhbFRpbWUiLCJlbGVtZW50IiwicGFyZW50X3JlYWxUaW1lIiwicmVhbHRpbWUiLCJnZXRBdHRyaWJ1dGUiLCJnZXRQYXJlbnRGcm9tRWxlbWVudCIsInBhcmVudF9jbGFzcyIsImF0dHJpYnV0ZXMiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsIm5vZGUiLCJwYXJlbnROb2RlIiwiZXZlcnkiLCJhdHRyIiwiaGFzT3duUHJvcGVydHkiLCJpc1JlYWRWYWx1ZSIsImlzVXBkYXRlVmFsdWUiLCJpc0pzb25TdHJpbmciLCJzdHJfZGF0YSIsImpzb25fZGF0YSIsIkpTT04iLCJwYXJzZSIsImUiLCJnZXRBdHRyaWJ1dGVzIiwiZ2V0QXR0cmlidXRlTmFtZXMiLCJyZWR1Y2UiLCJhdHRyTWFwIiwibmFtZSIsImNoZWNrVmFsdWUiLCJ2YWx1ZSIsInRlc3QiLCJhbGxGcmFtZSIsImNhbGxiYWNrIiwiYWxsRnJhbWVzIiwiZG9jdW1lbnQiLCJmcmFtZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmcmFtZURvY3VtZW50IiwiY29udGVudERvY3VtZW50IiwiY29udGVudFdpbmRvdyIsImZyYW1lV2luZG93IiwicHVzaCIsImZyYW1lRWxlbWVudCIsInJlc3VsdCIsIlNldCIsImNhbGxiYWNrUmVzdWx0IiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJmb3JFYWNoIiwiZWwiLCJhZGQiLCJBcnJheSIsImZyb20iLCJjc3NQYXRoIiwicGF0aFNwbGl0cyIsInRhZ05hbWUiLCJwYXRoU3BsaXQiLCJ0b0xvd2VyQ2FzZSIsImlkIiwiaXRlbSIsImluZGV4T2YiLCJpbmRleCIsInByb3RvdHlwZSIsImNhbGwiLCJjaGlsZHJlbiIsInVuc2hpZnQiLCJqb2luIiwiZ2V0VG9wTW9zdFdpbmRvdyIsInBhcmVudFdpbmRvdyIsInBhcmVudCIsImZpbmRJZnJhbWVGcm9tRWxlbWVudCIsIndpbmRvd09iamVjdCIsImdldElmcmFtZUZyb21QYXRoIiwicGF0aCIsInRvcFdpbmRvdyIsInNlbGVjdG9yIiwicXVlcnlTZWxlY3RvciIsImNvbmZpZ01hdGNoIiwiZWxlbWVudENvbmZpZyIsImNvbmZpZyIsIm1hdGNoZXMiLCJjb25maWdFeGVjdXRlciIsImtleSIsIm9uU3VjY2VzcyIsInVuZGVmaW5lZCIsImlzVmFsaWRTZWxlY3RvciIsImNvbnNvbGUiLCJ3YXJuIiwiVVVJRCIsImNoYXJhY3RlcnMiLCJjaGFyYWN0ZXJzTGVuZ3RoIiwiY2hhckF0IiwidG9UaW1lU3RyaW5nIiwicGFyc2VUZXh0VG9IdG1sIiwidGV4dCIsImRvYyIsIkRPTVBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsImhlYWQiLCJib2R5Iiwic3BsaXRCeWRlbGltaXRlciIsInN0ciIsImRlbGltaXRlciIsInNwbGl0IiwibWFwIiwicyIsInRyaW0iLCJqb2luQnlkZWxpbWl0ZXIiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiZXJyb3IiLCJnZXRFbGVtZW50UGF0aCIsInJldHVybkNvbnRleHQiLCJpZnJhbWVFbGVtZW50IiwicCIsImlzVXNhZ2VZIiwiaW5wdXQiLCJpbmNsdWRlcyIsInR5cGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFHTyxTQUFTQSxZQUFULENBQXNCQyxN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Q0Q7O2VBRWM7QUFDYkQsVUFEYTtBQUViSixnQkFGYTtBQUdiekIsaUJBSGE7QUFJYnNCLGlCQUphO0FBS2JQLGtCQUxhO0FBTWJQLGlCQU5hO0FBT2JMLE1BUGE7QUFRYlAsZ0JBUmE7QUFTYkosYUFUYTtBQVViTCxtQkFWYTtBQVdiRix1QkFYYTtBQVliSCxrQkFaYTtBQWFiZCxTQWJhO0FBY2J0QixVQWRhO0FBZWJILFlBZmE7QUFnQmJMLGVBaEJhO0FBaUJiTixjQWpCYTtBQWtCYkQsZUFsQmE7QUFtQmJELGFBbkJhO0FBb0JiVixzQkFwQmE7QUFxQmJMLFlBckJhO0FBc0JidkI7QUF0QmEsQyIsImZpbGUiOiIuLi8uLi9Db0NyZWF0ZS1jb21wb25lbnRzL0NvQ3JlYXRlLXV0aWxzL3NyYy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBqaW5cbiAqIDIwMjAtMDQtMDNcbiAqL1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVVVSUQobGVuZ3RoID0gMzYpIHtcbiAgLy8gaWYgKGxlbmd0aCA9PSAxMCkge1xuICAvLyAgIHZhciByZXN1bHQgICAgICAgICAgID0gJyc7XG4gIC8vICAgdmFyIGNoYXJhY3RlcnMgICAgICAgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODknO1xuICAvLyAgIHZhciBjaGFyYWN0ZXJzTGVuZ3RoID0gY2hhcmFjdGVycy5sZW5ndGg7XG4gIC8vICAgZm9yICggdmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG4gIC8vICAgICByZXN1bHQgKz0gY2hhcmFjdGVycy5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hhcmFjdGVyc0xlbmd0aCkpO1xuICAvLyAgIH1cblxuICAvLyAgIHZhciBkZCA9IG5ldyBEYXRlKCkudG9UaW1lU3RyaW5nKCk7XG4gIC8vICAgdmFyIHJhbmRvbSA9IGRkLnJlcGxhY2UoL1tcXFdfXSsvZywgXCJcIikuc3Vic3RyKDAsNik7XG4gIC8vICAgcmVzdWx0ICs9IHJhbmRvbTtcbiAgLy8gICByZXR1cm4gcmVzdWx0O1xuICAvLyB9XG5cbiAgbGV0IGQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgbGV0IGQyID1cbiAgICAod2luZG93LnBlcmZvcm1hbmNlICYmXG4gICAgICB3aW5kb3cucGVyZm9ybWFuY2Uubm93ICYmXG4gICAgICB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCkgKiAxMDAwKSB8fFxuICAgIDA7XG4gIGxldCBwYXR0ZXJuID0gXCJ1eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHhcIjtcblxuICBpZiAobGVuZ3RoIDw9IHBhdHRlcm4ubGVuZ3RoKSB7XG4gICAgcGF0dGVybiA9IHBhdHRlcm4uc3Vic3RyKDAsIGxlbmd0aCk7XG4gIH1cbiAgZWxzZSB7XG4gICAgbGV0IGFkZF9sZW4gPSBsZW5ndGggLSBwYXR0ZXJuLmxlbmd0aDtcbiAgICBsZXQgc3ViX3BhdHRlcm4gPSBcIi14eHh5eXh4eFwiO1xuXG4gICAgbGV0IGdyb3VwX24gPSBNYXRoLmZsb29yKGFkZF9sZW4gLyBzdWJfcGF0dGVybi5sZW5ndGgpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBncm91cF9uOyBpKyspIHtcbiAgICAgIHBhdHRlcm4gKz0gc3ViX3BhdHRlcm47XG4gICAgfVxuXG4gICAgZ3JvdXBfbiA9IGFkZF9sZW4gLSBncm91cF9uICogc3ViX3BhdHRlcm4ubGVuZ3RoO1xuICAgIHBhdHRlcm4gKz0gc3ViX3BhdHRlcm4uc3Vic3RyKDAsIGdyb3VwX24pO1xuICB9XG5cbiAgbGV0IHV1aWQgPSBwYXR0ZXJuLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24oYykge1xuICAgIHZhciByID0gTWF0aC5yYW5kb20oKSAqIDE2O1xuICAgIGlmIChkID4gMCkge1xuICAgICAgdmFyIHIgPSAoZCArIHIpICUgMTYgfCAwO1xuICAgICAgZCA9IE1hdGguZmxvb3IoZCAvIDE2KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB2YXIgciA9IChkMiArIHIpICUgMTYgfCAwO1xuICAgICAgZDIgPSBNYXRoLmZsb29yKGQyIC8gMTYpO1xuICAgIH1cbiAgICByZXR1cm4gKGMgPT0gXCJ4XCIgPyByIDogKHIgJiAweDcpIHwgMHg4KS50b1N0cmluZygxNik7XG4gIH0pO1xuICByZXR1cm4gdXVpZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVhbFRpbWUoZWxlbWVudCwgcGFyZW50X3JlYWxUaW1lKSB7XG4gIGxldCByZWFsdGltZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1yZWFsdGltZVwiKSB8fCBwYXJlbnRfcmVhbFRpbWU7XG4gIGlmIChyZWFsdGltZSA9PT0gXCJmYWxzZVwiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXJlbnRGcm9tRWxlbWVudChlbGVtZW50LCBwYXJlbnRfY2xhc3MsIGF0dHJpYnV0ZXMpIHtcbiAgaWYgKHBhcmVudF9jbGFzcykge1xuICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhwYXJlbnRfY2xhc3MpKSB7XG4gICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG5cbiAgICBsZXQgbm9kZSA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICB3aGlsZSAobm9kZSAhPSBudWxsICYmIG5vZGUuY2xhc3NMaXN0KSB7XG4gICAgICBpZiAobm9kZS5jbGFzc0xpc3QuY29udGFpbnMocGFyZW50X2NsYXNzKSkge1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgIH1cbiAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgfVxuICB9XG4gIGVsc2UgaWYgKGF0dHJpYnV0ZXMpIHtcbiAgICBpZiAoYXR0cmlidXRlcy5ldmVyeSgoYXR0cikgPT4gZWxlbWVudC5hdHRyaWJ1dGVzLmhhc093blByb3BlcnR5KGF0dHIpKSkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgbGV0IG5vZGUgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgd2hpbGUgKG5vZGUgIT0gbnVsbCAmJiBub2RlLmF0dHJpYnV0ZXMpIHtcbiAgICAgIGlmIChhdHRyaWJ1dGVzLmV2ZXJ5KChhdHRyKSA9PiBub2RlLmF0dHJpYnV0ZXMuaGFzT3duUHJvcGVydHkoYXR0cikpKSB7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgICAgfVxuICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1JlYWRWYWx1ZShlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtcmVhZF92YWx1ZVwiKSAhPSBcImZhbHNlXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1VwZGF0ZVZhbHVlKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS11cGRhdGVfdmFsdWVcIikgIT0gXCJmYWxzZVwiO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNKc29uU3RyaW5nKHN0cl9kYXRhKSB7XG4gIHRyeSB7XG4gICAgbGV0IGpzb25fZGF0YSA9IEpTT04ucGFyc2Uoc3RyX2RhdGEpO1xuICAgIGlmICh0eXBlb2YganNvbl9kYXRhID09PSBcIm9iamVjdFwiICYmIGpzb25fZGF0YSAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBdHRyaWJ1dGVzKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlTmFtZXMoKS5yZWR1Y2UoKGF0dHJNYXAsIG5hbWUpID0+IHtcbiAgICBhdHRyTWFwW25hbWVdID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUobmFtZSk7XG4gICAgcmV0dXJuIGF0dHJNYXA7XG4gIH0sIHt9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrVmFsdWUodmFsdWUpIHtcbiAgaWYgKCF2YWx1ZSkgcmV0dXJuIGZhbHNlO1xuICBpZiAoL3t7XFxzKihbXFx3XFxXXSspXFxzKn19L2cudGVzdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cbi8vIGhvc3NlaW5zIHV0aWxsc1xuXG4vLyBmdW5jdGlvbiB0byBnbyB0aHJvdWdoIGFsbCBmcmFtZXNcbmV4cG9ydCBmdW5jdGlvbiBhbGxGcmFtZShjYWxsYmFjaykge1xuICBsZXQgYWxsRnJhbWVzID0gW3sgZG9jdW1lbnQsIHdpbmRvdyB9XTtcbiAgZm9yIChsZXQgZnJhbWUgb2YgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImlmcmFtZVwiKSkge1xuICAgIGxldCBmcmFtZURvY3VtZW50ID0gZnJhbWUuY29udGVudERvY3VtZW50IHx8IGZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7XG4gICAgbGV0IGZyYW1lV2luZG93ID0gZnJhbWUuY29udGVudFdpbmRvdztcbiAgICBhbGxGcmFtZXMucHVzaCh7XG4gICAgICBkb2N1bWVudDogZnJhbWVEb2N1bWVudCxcbiAgICAgIHdpbmRvdzogZnJhbWVXaW5kb3csXG4gICAgICBmcmFtZUVsZW1lbnQ6IGZyYW1lLFxuICAgIH0pO1xuICB9XG4gIGxldCByZXN1bHQgPSBuZXcgU2V0KCk7XG4gIGZvciAobGV0IGZyYW1lIG9mIGFsbEZyYW1lcykge1xuICAgIGxldCBjYWxsYmFja1Jlc3VsdCA9IGNhbGxiYWNrKGZyYW1lKTtcbiAgICBpZiAoXG4gICAgICBjYWxsYmFja1Jlc3VsdCAmJlxuICAgICAgdHlwZW9mIGNhbGxiYWNrUmVzdWx0W1N5bWJvbC5pdGVyYXRvcl0gPT09IFwiZnVuY3Rpb25cIlxuICAgIClcbiAgICAgIGNhbGxiYWNrUmVzdWx0LmZvckVhY2goKGVsKSA9PiByZXN1bHQuYWRkKGVsKSk7XG4gICAgZWxzZSBpZiAoY2FsbGJhY2tSZXN1bHQpIHJlc3VsdC5hZGQoY2FsbGJhY2tSZXN1bHQpO1xuICB9XG5cbiAgcmV0dXJuIEFycmF5LmZyb20ocmVzdWx0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNzc1BhdGgobm9kZSkge1xuICBsZXQgcGF0aFNwbGl0cyA9IFtdO1xuICBkbyB7XG4gICAgaWYgKCFub2RlIHx8ICFub2RlLnRhZ05hbWUpIHJldHVybiBmYWxzZTtcbiAgICBsZXQgcGF0aFNwbGl0ID0gbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKG5vZGUuaWQgJiYgbm9kZS50YWdOYW1lICE9PSBcIkJPRFlcIikgcGF0aFNwbGl0ICs9IFwiI1wiICsgbm9kZS5pZDtcblxuICAgIGlmIChub2RlLmNsYXNzTGlzdC5sZW5ndGggJiYgbm9kZS50YWdOYW1lICE9PSBcIkJPRFlcIikge1xuICAgICAgbm9kZS5jbGFzc0xpc3QuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBpZiAoaXRlbS5pbmRleE9mKFwiOlwiKSA9PT0gLTEpIHBhdGhTcGxpdCArPSBcIi5cIiArIGl0ZW07XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAobm9kZS50YWdOYW1lICE9PSBcIkJPRFlcIiAmJiBub2RlLnBhcmVudE5vZGUpIHtcbiAgICAgIGxldCBpbmRleCA9IEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoXG4gICAgICAgIG5vZGUucGFyZW50Tm9kZS5jaGlsZHJlbixcbiAgICAgICAgbm9kZVxuICAgICAgKTtcbiAgICAgIHBhdGhTcGxpdCArPSBgOm50aC1jaGlsZCgke2luZGV4ICsgMX0pYDtcbiAgICB9XG5cbiAgICBwYXRoU3BsaXRzLnVuc2hpZnQocGF0aFNwbGl0KTtcbiAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICB9IHdoaWxlIChub2RlLnRhZ05hbWUgIT09IFwiSFRNTFwiKTtcblxuICByZXR1cm4gcGF0aFNwbGl0cy5qb2luKFwiID4gXCIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VG9wTW9zdFdpbmRvdygpIHtcbiAgbGV0IHBhcmVudFdpbmRvdyA9IHdpbmRvdztcbiAgd2hpbGUgKHBhcmVudFdpbmRvdyAhPT0gd2luZG93LnBhcmVudCkgcGFyZW50V2luZG93ID0gd2luZG93LnBhcmVudDtcbiAgcmV0dXJuIHBhcmVudFdpbmRvdztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRJZnJhbWVGcm9tRWxlbWVudCh3aW5kb3dPYmplY3QsIGVsZW1lbnQpIHtcbiAgbGV0IGZyYW1lRWxlbWVudDtcbiAgYWxsRnJhbWUoKGZyYW1lKSA9PiB7XG4gICAgaWYgKGZyYW1lLmRvY3VtZW50LmNvbnRhaW5zKGVsZW1lbnQpKSBmcmFtZUVsZW1lbnQgPSBmcmFtZS5mcmFtZUVsZW1lbnQ7XG4gICAgLy8gd2luZG93LmNjLmZpbmRJZnJhbWVGcm9tRWxlbWVudChmcmFtZS53aW5kb3csIGVsZW1lbnQpO1xuICB9KTtcbiAgcmV0dXJuIGZyYW1lRWxlbWVudDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldElmcmFtZUZyb21QYXRoKHBhdGgpIHtcbiAgbGV0IHRvcFdpbmRvdyA9IGdldFRvcE1vc3RXaW5kb3c7XG5cbiAgcGF0aC5mb3JFYWNoKChzZWxlY3RvcikgPT4ge1xuICAgIGlmICh0b3BXaW5kb3cpIHRvcFdpbmRvdyA9IHRvcFdpbmRvdy5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgfSk7XG4gIHJldHVybiB0b3BXaW5kb3c7XG59XG4vLyBETyBOT1QgUkVNT1ZFXG5cbmV4cG9ydCBmdW5jdGlvbiogY29uZmlnTWF0Y2goZWxlbWVudENvbmZpZywgZWxlbWVudCkge1xuICBmb3IgKGxldCBjb25maWcgb2YgZWxlbWVudENvbmZpZykge1xuICAgIC8vIGlmICghQXJyYXkuaXNBcnJheShjb25maWcuc2VsZWN0b3IpKVxuICAgIC8vICAgY29uZmlnLnNlbGVjdG9yID0gW2NvbmZpZy5zZWxlY3Rvcl07XG5cbiAgICBpZiAoY29uZmlnLnNlbGVjdG9yICYmIGVsZW1lbnQubWF0Y2hlcyhjb25maWcuc2VsZWN0b3IpKSB5aWVsZCBjb25maWc7XG4gIH1cbiAgcmV0dXJuO1xufVxuXG5cbi8vIGV4cG9ydCBmdW5jdGlvbiBjb25maWdNYXRjaDIoZWxlbWVudENvbmZpZywgZWxlbWVudCkge1xuLy8gICBsZXQgcmVzdWx0ID0gW107XG4vLyAgIGZvciAobGV0IGNvbmZpZyBvZiBlbGVtZW50Q29uZmlnKSB7XG4vLyAgICAgaWYgKGNvbmZpZy5zZWxlY3RvciAmJiBlbGVtZW50Lm1hdGNoZXMoY29uZmlnLnNlbGVjdG9yKSkgcmVzdWx0LnB1c2goY29uZmlnKTtcbi8vICAgfVxuLy8gICByZXR1cm4gcmVzdWx0O1xuLy8gfVxuXG4vLyBETyBOT1QgUkVNT1ZFXG5cbi8vIGFuIG9waW5pYXRlZCBmdW5jdGlvbiB1c2VzIGNvbmZpZ01hdGNoMiB0byByZWFkIGNvbmZpZ3Ncbi8vIFdBUk5JTkc6IHRoZSBjb25maWcgaXRlcmF0ZWQgZnJvbSB0b3AgdG8gYm90dG9tLiBmb3IgZGVzZWlyZWQgZWZmZWN0IGVsZW1lbnRDb25maWcgc2hvdWxkIGJlIHJldmVyZXNlZFxuLy8gdHlwZW9mIGVsZW1lbnRDb25maWc6IGFycmF5IG9mIG9iamVjdHMgYW5kIGV2ZXJ5IG9iamVjdHMgY29udGFpbmluZyBrZXlzIGFzIGZhbHNlLCB0cnVlIG9yIGEgc2VsZWN0b3IgXG4vLyBlbGVtZW50OiB0aGUgZWxlbWVudCB0byByZWFkIGF0dHJpYnV0ZXNcbi8vIGtleTogdGhlIGtleSBpbiB3aGljaCBpcyBpbiBlbGVtZW50Q29uZmlnIGFuZCBvbiBtYXRjaCBvblN1Y2Nlc3MgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWRcbmV4cG9ydCBmdW5jdGlvbiBjb25maWdFeGVjdXRlcihlbGVtZW50LCBrZXksIG9uU3VjY2VzcywgZWxlbWVudENvbmZpZykge1xuICBmb3IgKGxldCBjb25maWcgb2YgY29uZmlnTWF0Y2goZWxlbWVudENvbmZpZyB8fCB3aW5kb3cuZWxlbWVudENvbmZpZywgZWxlbWVudCkpXG4gICAgaWYgKGNvbmZpZ1trZXldID09PSB0cnVlKSByZXR1cm4gb25TdWNjZXNzKGVsZW1lbnQsIGNvbmZpZyk7XG4gICAgZWxzZSBpZiAoY29uZmlnW2tleV0gPT09IGZhbHNlKSByZXR1cm4gZmFsc2U7XG4gIGVsc2UgaWYgKGNvbmZpZ1trZXldID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuICBlbHNlIGlmIChpc1ZhbGlkU2VsZWN0b3IoY29uZmlnW2tleV0pKVxuICAgIHJldHVybiBvblN1Y2Nlc3MoZWxlbWVudCwgY29uZmlnLCB0cnVlKTtcbiAgZWxzZSBjb25zb2xlLndhcm4oXCJidWlsZGVyOiB3cm9uZyBlbGVtZW50IGNvbmZpZyBcIiwgY29uZmlnKTtcblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBVVUlEKGxlbmd0aCA9IDEwKSB7XG4gIHZhciByZXN1bHQgPSBcIlwiO1xuICB2YXIgY2hhcmFjdGVycyA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5elwiO1xuXG4gIHZhciBjaGFyYWN0ZXJzTGVuZ3RoID0gY2hhcmFjdGVycy5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICByZXN1bHQgKz0gY2hhcmFjdGVycy5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hhcmFjdGVyc0xlbmd0aCkpO1xuICB9XG5cbiAgdmFyIGQgPSBuZXcgRGF0ZSgpLnRvVGltZVN0cmluZygpO1xuICB2YXIgcmFuZG9tID0gZC5yZXBsYWNlKC9bXFxXX10rL2csIFwiXCIpLnN1YnN0cigwLCA2KTtcbiAgcmVzdWx0ICs9IHJhbmRvbTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVGV4dFRvSHRtbCh0ZXh0KSB7XG4gIGxldCBkb2MgPSBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKHRleHQsIFwidGV4dC9odG1sXCIpO1xuICBpZiAoZG9jLmhlYWQuY2hpbGRyZW5bMF0pIHJldHVybiBkb2MuaGVhZC5jaGlsZHJlblswXTtcbiAgZWxzZSByZXR1cm4gZG9jLmJvZHkuY2hpbGRyZW5bMF07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzcGxpdEJ5ZGVsaW1pdGVyKHN0ciwgZGVsaW1pdGVyKSB7XG4gIHJldHVybiBzdHIuc3BsaXQoZGVsaW1pdGVyKS5tYXAoKHMpID0+IHMudHJpbSgpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGpvaW5CeWRlbGltaXRlcihzdHIsIGRlbGltaXRlcikge1xuICByZXR1cm4gc3RyLm1hcCgocykgPT4gcy50cmltKCkpLmpvaW4oZGVsaW1pdGVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRTZWxlY3RvcihzZWxlY3Rvcikge1xuICB0cnkge1xuICAgIGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgfVxuICBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50UGF0aChlbGVtZW50LCByZXR1cm5Db250ZXh0KSB7XG4gIGxldCBwYXRoID0gW107XG5cbiAgbGV0IHRvcFdpbmRvdyA9IHdpbmRvdztcbiAgbGV0IGlmcmFtZUVsZW1lbnQgPSBmaW5kSWZyYW1lRnJvbUVsZW1lbnQodG9wV2luZG93LCBlbGVtZW50KTtcbiAgbGV0IHAgPSBjc3NQYXRoKGlmcmFtZUVsZW1lbnQpO1xuICBpZiAocCkgcGF0aC51bnNoaWZ0KHApO1xuXG4gIHJldHVybiByZXR1cm5Db250ZXh0ID8geyBwYXRoLCBkb2N1bWVudDogaWZyYW1lRWxlbWVudCB8fCBkb2N1bWVudCB9IDogcGF0aDtcbiAgLy90b2RvOiBzdXBwb3J0IGZvciBuZXN0ZWQgaWZyYW1lXG4gIC8vIHdoaWxlKGlmcmFtZUVsZW1lbnQgIT09IGZpbmRJZnJhbWVGcm9tRWxlbWVudCh0b3BXaW5kb3csaWZyYW1lRWxlbWVudCkpXG4gIC8vIHtcbiAgLy8gICBpZnJhbWVFbGVtZW50ID0gZmluZElmcmFtZUZyb21FbGVtZW50KHRvcFdpbmRvdyxpZnJhbWVFbGVtZW50KTtcbiAgLy8gICBwYXRoLnVuc2hpZnQoY3NzUGF0aChpZnJhbWVFbGVtZW50KSlcbiAgLy8gfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNVc2FnZVkoaW5wdXQpIHtcbiAgaWYgKHRoaXMuaXNKc29uU3RyaW5nKGlucHV0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2xsZWN0aW9uJykpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKHRoaXMuaXNKc29uU3RyaW5nKGlucHV0LmdldEF0dHJpYnV0ZSgnbmFtZScpKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICgoaW5wdXQudGFnTmFtZSA9PT0gXCJJTlBVVFwiICYmIFtcInRleHRcIiwgXCJlbWFpbFwiLCBcInRlbFwiLCBcInVybFwiXS5pbmNsdWRlcyhpbnB1dC50eXBlKSkgfHwgaW5wdXQudGFnTmFtZSA9PT0gXCJURVhUQVJFQVwiKSB7XG5cbiAgICBpZiAoIWlucHV0LmdldEF0dHJpYnV0ZSgnbmFtZScpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChpbnB1dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXJlYWx0aW1lXCIpID09IFwiZmFsc2VcIikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChpbnB1dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXVuaXF1ZVwiKSA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoaW5wdXQudHlwZSA9PT0gJ3Bhc3N3b3JkJykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5pc1JlYWRWYWx1ZShpbnB1dCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGlzVXNhZ2VZLFxuICBnZXRFbGVtZW50UGF0aCxcbiAgaXNWYWxpZFNlbGVjdG9yLFxuICBqb2luQnlkZWxpbWl0ZXIsXG4gIHNwbGl0QnlkZWxpbWl0ZXIsXG4gIHBhcnNlVGV4dFRvSHRtbCxcbiAgVVVJRCxcbiAgY29uZmlnRXhlY3V0ZXIsXG4gIGNvbmZpZ01hdGNoLFxuICBnZXRJZnJhbWVGcm9tUGF0aCxcbiAgZmluZElmcmFtZUZyb21FbGVtZW50LFxuICBnZXRUb3BNb3N0V2luZG93LFxuICBjc3NQYXRoLFxuICBhbGxGcmFtZSxcbiAgY2hlY2tWYWx1ZSxcbiAgZ2V0QXR0cmlidXRlcyxcbiAgaXNKc29uU3RyaW5nLFxuICBpc1VwZGF0ZVZhbHVlLFxuICBpc1JlYWRWYWx1ZSxcbiAgZ2V0UGFyZW50RnJvbUVsZW1lbnQsXG4gIGlzUmVhbFRpbWUsXG4gIGdlbmVyYXRlVVVJRFxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../CoCreate-components/CoCreate-utils/src/index.js\n')},"./src/index.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nvar Y = _interopRequireWildcard(__webpack_require__(/*! yjs */ \"./node_modules/yjs/dist/yjs.mjs\"));\n\nvar _yQuill_binding = __webpack_require__(/*! ./js/y-quill_binding */ \"./src/js/y-quill_binding.js\");\n\nvar _quill = _interopRequireDefault(__webpack_require__(/*! quill */ \"./node_modules/quill/dist/quill.js\"));\n\nvar _quillCursors = _interopRequireDefault(__webpack_require__(/*! quill-cursors */ \"./node_modules/quill-cursors/dist/quill-cursors.js\"));\n\nvar _userCursor_class = __webpack_require__(/*! @cocreate/crdt/src/utils/cursor/userCursor_class */ \"../../CoCreate-components/CoCreate-crdt/src/utils/cursor/userCursor_class.js\");\n\nvar _crdt = _interopRequireDefault(__webpack_require__(/*! @cocreate/crdt */ \"../../CoCreate-components/CoCreate-crdt/src/index.js\"));\n\nvar _form = _interopRequireDefault(__webpack_require__(/*! @cocreate/form */ \"../../CoCreate-components/CoCreate-form/src/index.js\"));\n\nvar _observer = _interopRequireDefault(__webpack_require__(/*! @cocreate/observer */ \"../../CoCreate-components/CoCreate-observer/src/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/* eslint-env browser */\n// @ts-ignore\n_quill.default.register('modules/cursors', _quillCursors.default);\n\nwindow.addEventListener('load', () => {\n  /**\n   * Create all  Quills with class .quill\n   * @private\n   *\n   * @development jeanmendozar@gmail.com\n   * @param {None}\n   */\n  class CoCreateYjsQuill {\n    constructor(selector) {\n      this.elements = [];\n      this.selector = selector;\n      this.editors = [];\n      this.bindings = [];\n      this.organization_Id = config.organization_Id || 'randomOrganizationID';\n      this.themeQuill = 'snow';\n      this.onNewEditor = null; //this.themeQuill = typeof window.config.themeQuill != 'undefined' ? window.config.themeQuill : 'snow';\n    }\n\n    _createEditor(editorContainer) {\n      let themeQuill = editorContainer.dataset['theme'] ? editorContainer.dataset['theme'] : this.themeQuill;\n      console.log(\"ThemeQuill => \" + themeQuill);\n      var editor = new _quill.default(editorContainer, {\n        modules: {\n          cursors: true,\n          toolbar: [[{\n            header: [1, 2, false]\n          }], ['bold', 'italic', 'underline'], ['image', 'code-block']],\n          history: {\n            userOnly: true\n          }\n        },\n        placeholder: 'Start collaborating...',\n        theme: themeQuill // 'snow' or  'bubble'\n\n      });\n      this.editors.push(editor);\n      if (this.onNewEditor) this.onNewEditor(editor);\n      return editor;\n    }\n\n    _createBinding(type_element, editor, provider) {\n      let binding = new _yQuill_binding.QuillBinding(type_element, editor, provider.awareness);\n      this.bindings.push(binding);\n      return binding;\n    }\n\n    initYSocket(element, editor) {\n      let collection = element.getAttribute('data-collection');\n      let name = element.getAttribute('name');\n      let document_id = element.getAttribute('data-document_id');\n\n      if (collection && name && document_id) {\n        const id = _crdt.default.generateID(config.organization_Id, collection, document_id, name);\n\n        _crdt.default.createDoc(id, element);\n\n        let provider = _crdt.default.getProvider(id);\n\n        let doc_type = _crdt.default.getType(id);\n\n        let binding = this._createBinding(doc_type, editor, provider);\n\n        setTimeout(function () {\n          if (element.crudSetted) {\n            return;\n          } // CoCreate.getDocument({\n          // \tcollection: collection,\n          // \tdocument_id: document_id,\n          // \tmetadata: {\n          // \t\ttype: 'crdt'\n          // \t}\n          // })\n\n        }, 1000);\n        new _userCursor_class.UserCursor(provider);\n      }\n    }\n\n    init(container) {\n      this._init(container);\n\n      this.initSocketEvent();\n    }\n\n    _init(container) {\n      var _this = this;\n\n      const mainContainer = container || document;\n      let elements = mainContainer.querySelectorAll('.quill');\n\n      if (elements.length == 0 && mainContainer.classList && mainContainer.classList.contains('quill')) {\n        elements = [mainContainer];\n      }\n\n      elements.forEach(function (element, index) {\n        if (_observer.default) {\n          if (_observer.default.getInitialized(element, \"cocreate-quill\")) {\n            return;\n          }\n        }\n\n        try {\n          /**\n           * Creando la instancia Codemirror\n          */\n          let editor = _this._createEditor(element);\n\n          _this.initYSocket(element, editor);\n\n          _this.initEvent(element, editor);\n\n          if (_observer.default) {\n            _observer.default.setInitialized(element, \"cocreate-quill\");\n          }\n\n          _this.elements.push(element);\n        } catch (error) {\n          console.error(error); //return false \n        }\n      }); //end forEach\n    }\n\n    initSocketEvent() {\n      const self = this; // CoCreateSocket.listen('getDocument', function(data) {\n      // \tif (!data.metadata || data.metadata.type != \"crdt\") {\n      // \t\treturn;\n      // \t}\n      // \tself.elements.forEach((quill) => {\n      // \t\tconst collection = quill.getAttribute('data-collection')\n      // \t\tconst id = quill.getAttribute('data-document_id')\n      // \t\tconst name = quill.getAttribute('name')\n      // \t\tif (quill.crudSetted === true) {\n      // \t\t\treturn;\n      // \t\t}\n      // \t\tif (data['collection'] == collection && data['document_id'] == id && (name in data.data)) {\n      // \t\t\tcrdt.replaceText({\n      // \t\t\t\tcollection: collection,\n      // \t\t\t\tdocument_id: id,\n      // \t\t\t\tname: name,\n      // \t\t\t\tvalue: data['data'][name],\n      // \t\t\t})\n      // \t\t\tquill.crudSetted = true;\n      // \t\t}\n      // \t});\n      // \t// self.editors.forEach((editor) => {\n      // \t// \tconst el = editor.options.container\n      // \t// \tconst collection = el.getAttribute('data-collection')\n      // \t// \tconst id = el.getAttribute('data-document_id')\n      // \t// \tconst name = el.getAttribute('name')\n      // \t// \tif (el.crudSetted === true) {\n      // \t// \t\treturn;\n      // \t// \t}\n      // \t// \tif (data['collection'] == collection && data['document_id'] == id && (name in data.data)) {\n      // \t// \t\t// crdt.replaceText({\n      // \t// \t\t// \tcollection: collection,\n      // \t// \t\t// \tdocument_id: id,\n      // \t// \t\t// \tname: name,\n      // \t// \t\t// \tvalue: data['data'][name],\n      // \t// \t\t// })\n      // \t// \t\teditor.setText(data['data'][name]);\n      // \t// \t\tel.crudSetted = true;\n      // \t// \t}\n      // \t// });\n      // });\n    }\n\n    initEvent(element, editor) {\n      let _this = this;\n\n      editor.on('editor-change', function () {\n        var value = editor.getText();\n        var id = element.getAttribute('id');\n\n        _this.requestDocumentID(element);\n\n        if (!id) return;\n        var targets = document.querySelectorAll('[data-get_value=\"' + id + '\"]');\n        targets.forEach(target => {\n          if (target.nodeName == 'IFRAME') {\n            let document_iframe = target.contentDocument;\n            target.srcdoc = value;\n          } else {\n            if (typeof target.innerHTML != \"undefined\") {\n              target.innerHTML = value;\n            } else if (typeof target.value != \"undefined\") {\n              target.value = value;\n            } else if (typeof target.textContent != \"undefined\") {\n              target.textContent = value;\n            }\n          }\n        });\n      });\n      element.addEventListener('set-document_id', function (event) {\n        const old_data = editor.getText();\n\n        _this.initYSocket(element, editor, old_data);\n\n        _this.saveDataIntoDB(element, old_data);\n      });\n      element.addEventListener('clicked-submitBtn', function () {\n        const old_data = editor.getText();\n\n        _this.saveDataIntoDB(element, old_data);\n\n        editor.setText(old_data);\n      });\n    }\n\n    generateTypeName(element) {\n      try {\n        var collection = element.getAttribute('data-collection') || '_';\n        var document_id = element.getAttribute('data-document_id') || '_';\n        var name = element.getAttribute('name') || '_';\n      } catch (error) {\n        console.error(error);\n        return false;\n      }\n\n      const info = {\n        org: config.organization_Id,\n        collection,\n        document_id,\n        name\n      };\n      return btoa(JSON.stringify(info));\n    }\n\n    requestDocumentID(element) {\n      const document_id = element.getAttribute('data-document_id');\n      const realtime = element.getAttribute('data-realtime') != \"false\";\n\n      if (!document_id && realtime) {\n        _form.default.request({\n          element\n        });\n\n        element.setAttribute('data-document_id', 'pending');\n      }\n    }\n\n    saveDataIntoDB(element, value) {\n      const collection = element.getAttribute('data-collection');\n      const document_id = element.getAttribute('data-document_id');\n      const name = element.getAttribute('name');\n\n      if (element.getAttribute('data-save_value') == 'false' || document_id == 'null') {\n        return;\n      }\n\n      _crdt.default.replaceText({\n        collection,\n        document_id,\n        data: {\n          [name]: value\n        }\n      });\n    }\n\n    parseTypeName(name) {\n      const data = JSON.parse(atob(name));\n      return data;\n    }\n\n  } //end Class CoCreateYjsQuill\n\n\n  const obj_cocreatequill = new CoCreateYjsQuill('.quill');\n  /**\n   * Initialization all OBJS with class .quill\n  */\n\n  obj_cocreatequill.init(); // @ts-ignore\n\n  window.CoCreateQuill = obj_cocreatequill;\n\n  if (_observer.default) {\n    _observer.default.init({\n      name: 'CoCreateQuill',\n      observe: ['subtree', 'childList'],\n      include: '.quill',\n      callback: function (mutation) {\n        CoCreateQuill._init(mutation.target);\n      }\n    });\n  }\n\n  if (_form.default) {\n    _form.default.init({\n      name: 'CoCreateQuill',\n      selector: '.quill',\n      callback: function (el) {}\n    });\n  }\n}); //end window LOAD//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5xdWlsbC8uL3NyYy9pbmRleC5qcz9iNjM1Il0sIm5hbWVzIjpbIlF1aWxsIiwicmVnaXN0ZXIiLCJRdWlsbEN1cnNvcnMiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiQ29DcmVhdGVZanNRdWlsbCIsImNvbnN0cnVjdG9yIiwic2VsZWN0b3IiLCJlbGVtZW50cyIsImVkaXRvcnMiLCJiaW5kaW5ncyIsIm9yZ2FuaXphdGlvbl9JZCIsImNvbmZpZyIsInRoZW1lUXVpbGwiLCJvbk5ld0VkaXRvciIsIl9jcmVhdGVFZGl0b3IiLCJlZGl0b3JDb250YWluZXIiLCJkYXRhc2V0IiwiY29uc29sZSIsImxvZyIsImVkaXRvciIsIm1vZHVsZXMiLCJjdXJzb3JzIiwidG9vbGJhciIsImhlYWRlciIsImhpc3RvcnkiLCJ1c2VyT25seSIsInBsYWNlaG9sZGVyIiwidGhlbWUiLCJwdXNoIiwiX2NyZWF0ZUJpbmRpbmciLCJ0eXBlX2VsZW1lbnQiLCJwcm92aWRlciIsImJpbmRpbmciLCJRdWlsbEJpbmRpbmciLCJhd2FyZW5lc3MiLCJpbml0WVNvY2tldCIsImVsZW1lbnQiLCJjb2xsZWN0aW9uIiwiZ2V0QXR0cmlidXRlIiwibmFtZSIsImRvY3VtZW50X2lkIiwiaWQiLCJjcmR0IiwiZ2VuZXJhdGVJRCIsImNyZWF0ZURvYyIsImdldFByb3ZpZGVyIiwiZG9jX3R5cGUiLCJnZXRUeXBlIiwic2V0VGltZW91dCIsImNydWRTZXR0ZWQiLCJVc2VyQ3Vyc29yIiwiaW5pdCIsImNvbnRhaW5lciIsIl9pbml0IiwiaW5pdFNvY2tldEV2ZW50IiwiX3RoaXMiLCJtYWluQ29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwibGVuZ3RoIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJmb3JFYWNoIiwiaW5kZXgiLCJDb0NyZWF0ZU9ic2VydmVyIiwiZ2V0SW5pdGlhbGl6ZWQiLCJpbml0RXZlbnQiLCJzZXRJbml0aWFsaXplZCIsImVycm9yIiwic2VsZiIsIm9uIiwidmFsdWUiLCJnZXRUZXh0IiwicmVxdWVzdERvY3VtZW50SUQiLCJ0YXJnZXRzIiwidGFyZ2V0Iiwibm9kZU5hbWUiLCJkb2N1bWVudF9pZnJhbWUiLCJjb250ZW50RG9jdW1lbnQiLCJzcmNkb2MiLCJpbm5lckhUTUwiLCJ0ZXh0Q29udGVudCIsImV2ZW50Iiwib2xkX2RhdGEiLCJzYXZlRGF0YUludG9EQiIsInNldFRleHQiLCJnZW5lcmF0ZVR5cGVOYW1lIiwiaW5mbyIsIm9yZyIsImJ0b2EiLCJKU09OIiwic3RyaW5naWZ5IiwicmVhbHRpbWUiLCJDb0NyZWF0ZUZvcm0iLCJyZXF1ZXN0Iiwic2V0QXR0cmlidXRlIiwicmVwbGFjZVRleHQiLCJkYXRhIiwicGFyc2VUeXBlTmFtZSIsInBhcnNlIiwiYXRvYiIsIm9ial9jb2NyZWF0ZXF1aWxsIiwiQ29DcmVhdGVRdWlsbCIsIm9ic2VydmUiLCJpbmNsdWRlIiwiY2FsbGJhY2siLCJtdXRhdGlvbiIsImVsIl0sIm1hcHBpbmdzIjoiOztBQUlBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUVBOztBQUNBOztBQUNBOzs7Ozs7OztBQVhBO0FBQ0E7QUFZQUEsZUFBTUMsUUFBTixDQUFlLGlCQUFmLEVBQWtDQyxxQkFBbEM7O0FBR0FDLE1BQU0sQ0FBQ0MsZ0JBQVAsQ0FBd0IsTUFBeEIsRUFBZ0MsTUFBTTtBQUNyQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdDLFFBQU1DLGdCQUFOLENBQXVCO0FBRXRCQyxlQUFXLENBQUNDLFFBQUQsRUFBVztBQUNyQixXQUFLQyxRQUFMLEdBQWdCLEVBQWhCO0FBQ0EsV0FBS0QsUUFBTCxHQUFnQkEsUUFBaEI7QUFDQSxXQUFLRSxPQUFMLEdBQWUsRUFBZjtBQUNBLFdBQUtDLFFBQUwsR0FBZ0IsRUFBaEI7QUFDQSxXQUFLQyxlQUFMLEdBQXVCQyxNQUFNLENBQUNELGVBQVAsSUFBMEIsc0JBQWpEO0FBQ0EsV0FBS0UsVUFBTCxHQUFrQixN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QUFDTCxXQUFDMUQsSUFBRCxHQUFRZ0M7QUFESDtBQUZVLE9BQWpCO0FBTUE7O0FBRUQyQixpQkFBYSxDQUFDM0QsSUFBRCxFQUFPO0FBQ25CLFlBQU0wRCxJQUFJLEdBQUdQLElBQUksQ0FBQ1MsS0FBTCxDQUFXQyxJQUFJLENBQUM3RCxJQUFELENBQWYsQ0FBYjtBQUNBLGFBQU8wRCxJQUFQO0FBQ0E7O0FBaFFxQixHQVZjLENBNFFwQzs7O0FBRUQsUUFBTUksaUJBQWlCLEdBQUcsSUFBSWpHLGdCQUFKLENBQXFCLFFBQXJCLENBQTFCO0FBQ0E7QUFDRDtBQUNBOztBQUNDaUcsbUJBQWlCLENBQUNsRCxJQUFsQixHQWxScUMsQ0FvUnJDOztBQUNBakQsUUFBTSxDQUFDb0csYUFBUCxHQUF1QkQsaUJBQXZCOztBQUVBLE1BQUlyQyxpQkFBSixFQUFzQjtBQUNyQkEsc0JBQWlCYixJQUFqQixDQUFzQjtBQUNyQlosVUFBSSxFQUFFLGVBRGU7QUFFckJnRSxhQUFPLEVBQUUsQ0FBQyxTQUFELEVBQVksV0FBWixDQUZZO0FBR3JCQyxhQUFPLEVBQUUsUUFIWTtBQUlyQkMsY0FBUSxFQUFFLFVBQVNDLFFBQVQsRUFBbUI7QUFDNUJKLHFCQUFhLENBQUNqRCxLQUFkLENBQW9CcUQsUUFBUSxDQUFDL0IsTUFBN0I7QUFDQTtBQU5vQixLQUF0QjtBQVNBOztBQUVELE1BQUlrQixhQUFKLEVBQWtCO0FBQ2pCQSxrQkFBYTFDLElBQWIsQ0FBa0I7QUFDakJaLFVBQUksRUFBRSxlQURXO0FBRWpCakMsY0FBUSxFQUFFLFFBRk87QUFHakJtRyxjQUFRLEVBQUUsVUFBU0UsRUFBVCxFQUFhLENBRXRCO0FBTGdCLEtBQWxCO0FBT0E7QUFFRCxDQTdTRCxFLENBNlNHIiwiZmlsZSI6Ii4vc3JjL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG4vKiBlc2xpbnQtZW52IGJyb3dzZXIgKi9cbi8vIEB0cy1pZ25vcmVcblxuaW1wb3J0ICogYXMgWSBmcm9tICd5anMnXG5pbXBvcnQgeyBRdWlsbEJpbmRpbmcgfSBmcm9tICcuL2pzL3ktcXVpbGxfYmluZGluZydcbmltcG9ydCBRdWlsbCBmcm9tICdxdWlsbCdcbmltcG9ydCBRdWlsbEN1cnNvcnMgZnJvbSAncXVpbGwtY3Vyc29ycydcbmltcG9ydCB7IFVzZXJDdXJzb3IgfSBmcm9tICdAY29jcmVhdGUvY3JkdC9zcmMvdXRpbHMvY3Vyc29yL3VzZXJDdXJzb3JfY2xhc3MnXG5cbmltcG9ydCBjcmR0IGZyb20gJ0Bjb2NyZWF0ZS9jcmR0J1xuaW1wb3J0IENvQ3JlYXRlRm9ybSBmcm9tICdAY29jcmVhdGUvZm9ybSdcbmltcG9ydCBDb0NyZWF0ZU9ic2VydmVyIGZyb20gJ0Bjb2NyZWF0ZS9vYnNlcnZlcidcblxuUXVpbGwucmVnaXN0ZXIoJ21vZHVsZXMvY3Vyc29ycycsIFF1aWxsQ3Vyc29ycylcblxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcblx0LyoqXG5cdCAqIENyZWF0ZSBhbGwgIFF1aWxscyB3aXRoIGNsYXNzIC5xdWlsbFxuXHQgKiBAcHJpdmF0ZVxuXHQgKlxuXHQgKiBAZGV2ZWxvcG1lbnQgamVhbm1lbmRvemFyQGdtYWlsLmNvbVxuXHQgKiBAcGFyYW0ge05vbmV9XG5cdCAqL1xuIFxuXG5cdGNsYXNzIENvQ3JlYXRlWWpzUXVpbGwge1xuXHRcdFxuXHRcdGNvbnN0cnVjdG9yKHNlbGVjdG9yKSB7XG5cdFx0XHR0aGlzLmVsZW1lbnRzID0gW107XG5cdFx0XHR0aGlzLnNlbGVjdG9yID0gc2VsZWN0b3I7XG5cdFx0XHR0aGlzLmVkaXRvcnMgPSBbXTtcblx0XHRcdHRoaXMuYmluZGluZ3MgPSBbXTtcblx0XHRcdHRoaXMub3JnYW5pemF0aW9uX0lkID0gY29uZmlnLm9yZ2FuaXphdGlvbl9JZCB8fCAncmFuZG9tT3JnYW5pemF0aW9uSUQnO1xuXHRcdFx0dGhpcy50aGVtZVF1aWxsID0gJ3Nub3cnXG5cdFx0XHR0aGlzLm9uTmV3RWRpdG9yID0gbnVsbDtcblx0XHRcdC8vdGhpcy50aGVtZVF1aWxsID0gdHlwZW9mIHdpbmRvdy5jb25maWcudGhlbWVRdWlsbCAhPSAndW5kZWZpbmVkJyA/IHdpbmRvdy5jb25maWcudGhlbWVRdWlsbCA6ICdzbm93Jztcblx0XHR9XG5cdFx0XG5cdFx0X2NyZWF0ZUVkaXRvcihlZGl0b3JDb250YWluZXIpe1xuXHRcdFx0bGV0IHRoZW1lUXVpbGwgPSBlZGl0b3JDb250YWluZXIuZGF0YXNldFsndGhlbWUnXSA/IGVkaXRvckNvbnRhaW5lci5kYXRhc2V0Wyd0aGVtZSddIDogdGhpcy50aGVtZVF1aWxsXG5cdFx0XHRjb25zb2xlLmxvZyhcIlRoZW1lUXVpbGwgPT4gXCIrdGhlbWVRdWlsbClcblx0XHRcdHZhciBlZGl0b3IgPSBuZXcgUXVpbGwoZWRpdG9yQ29udGFpbmVyLCB7XG5cdFx0XHRcdFx0bW9kdWxlczoge1xuXHRcdFx0XHRcdFx0Y3Vyc29yczogdHJ1ZSxcblx0XHRcdFx0XHRcdHRvb2xiYXI6IFtcblx0XHRcdFx0XHRcdFx0W3sgaGVhZGVyOiBbMSwgMiwgZmFsc2VdIH1dLFxuXHRcdFx0XHRcdFx0XHRbJ2JvbGQnLCAnaXRhbGljJywgJ3VuZGVybGluZSddLFxuXHRcdFx0XHRcdFx0XHRbJ2ltYWdlJywgJ2NvZGUtYmxvY2snXVxuXHRcdFx0XHRcdFx0XSxcblx0XHRcdFx0XHRcdGhpc3Rvcnk6IHtcblx0XHRcdFx0XHRcdFx0dXNlck9ubHk6IHRydWVcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHBsYWNlaG9sZGVyOiAnU3RhcnQgY29sbGFib3JhdGluZy4uLicsXG5cdFx0XHRcdFx0dGhlbWU6IHRoZW1lUXVpbGwgLy8gJ3Nub3cnIG9yICAnYnViYmxlJ1xuXHRcdFx0XHR9KTtcblx0XHRcdHRoaXMuZWRpdG9ycy5wdXNoKGVkaXRvcik7XG5cdFx0XHRpZih0aGlzLm9uTmV3RWRpdG9yKVxuXHRcdFx0XHR0aGlzLm9uTmV3RWRpdG9yKGVkaXRvcik7XG5cdFx0XHRyZXR1cm4gZWRpdG9yO1xuXHRcdH1cblx0XHRcblx0XHRfY3JlYXRlQmluZGluZyh0eXBlX2VsZW1lbnQsIGVkaXRvciwgcHJvdmlkZXIpe1xuXHRcdFx0XHRsZXQgYmluZGluZyA9IG5ldyBRdWlsbEJpbmRpbmcodHlwZV9lbGVtZW50LCBlZGl0b3IsIHByb3ZpZGVyLmF3YXJlbmVzcylcblx0XHRcdFx0dGhpcy5iaW5kaW5ncy5wdXNoKGJpbmRpbmcpO1xuXHRcdFx0cmV0dXJuIGJpbmRpbmc7XG5cdFx0fVxuXHRcdFxuXHRcdGluaXRZU29ja2V0KGVsZW1lbnQsIGVkaXRvcikge1xuXHRcdFx0bGV0IGNvbGxlY3Rpb24gPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2xsZWN0aW9uJylcblx0XHRcdGxldCBuYW1lID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ25hbWUnKVxuXHRcdFx0bGV0IGRvY3VtZW50X2lkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKVxuXG5cdFx0XHRpZiAoY29sbGVjdGlvbiAmJiBuYW1lICYmIGRvY3VtZW50X2lkKSB7XG5cdFx0XHRcdGNvbnN0IGlkID0gY3JkdC5nZW5lcmF0ZUlEKGNvbmZpZy5vcmdhbml6YXRpb25fSWQsIGNvbGxlY3Rpb24sIGRvY3VtZW50X2lkLCBuYW1lKTtcblx0XHRcdFx0Y3JkdC5jcmVhdGVEb2MoaWQsIGVsZW1lbnQpO1xuXHRcdFx0XHRcblx0XHRcdFx0bGV0IHByb3ZpZGVyID0gY3JkdC5nZXRQcm92aWRlcihpZClcblx0XHRcdFx0bGV0IGRvY190eXBlID0gY3JkdC5nZXRUeXBlKGlkKVxuXHRcdFx0XHRcblx0XHRcdFx0bGV0IGJpbmRpbmcgPSB0aGlzLl9jcmVhdGVCaW5kaW5nKGRvY190eXBlLCBlZGl0b3IsIHByb3ZpZGVyKVxuXHRcdFx0XHRcblx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoZWxlbWVudC5jcnVkU2V0dGVkKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC8vIENvQ3JlYXRlLmdldERvY3VtZW50KHtcblx0XHRcdFx0XHQvLyBcdGNvbGxlY3Rpb246IGNvbGxlY3Rpb24sXG5cdFx0XHRcdFx0Ly8gXHRkb2N1bWVudF9pZDogZG9jdW1lbnRfaWQsXG5cdFx0XHRcdFx0Ly8gXHRtZXRhZGF0YToge1xuXHRcdFx0XHRcdC8vIFx0XHR0eXBlOiAnY3JkdCdcblx0XHRcdFx0XHQvLyBcdH1cblx0XHRcdFx0XHQvLyB9KVxuXHRcdFx0XHR9LCAxMDAwKTtcblx0XHRcdFx0bmV3IFVzZXJDdXJzb3IocHJvdmlkZXIpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHRpbml0KGNvbnRhaW5lcikge1xuXHRcdFx0dGhpcy5faW5pdChjb250YWluZXIpXG5cdFx0XHR0aGlzLmluaXRTb2NrZXRFdmVudCgpXG5cdFx0fVxuXHRcdFxuXHRcdF9pbml0KGNvbnRhaW5lcil7XG5cdFx0XHR2YXIgX3RoaXMgPSB0aGlzO1xuXHRcdFx0Y29uc3QgbWFpbkNvbnRhaW5lciA9IGNvbnRhaW5lciB8fCBkb2N1bWVudDtcblx0XHRcdFxuXHRcdFx0bGV0IGVsZW1lbnRzID0gbWFpbkNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcucXVpbGwnKVxuXHRcdFx0XG5cdFx0XHRpZiAoZWxlbWVudHMubGVuZ3RoID09IDAgJiYgbWFpbkNvbnRhaW5lci5jbGFzc0xpc3QgJiYgbWFpbkNvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoJ3F1aWxsJykpIHtcblx0XHRcdFx0ZWxlbWVudHMgPSBbbWFpbkNvbnRhaW5lcl07XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdFxuXHRcdFx0ZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50LGluZGV4KXtcblx0XHRcdFx0aWYgKENvQ3JlYXRlT2JzZXJ2ZXIpIHtcblx0XHRcdFx0XHRpZiAoQ29DcmVhdGVPYnNlcnZlci5nZXRJbml0aWFsaXplZChlbGVtZW50LCBcImNvY3JlYXRlLXF1aWxsXCIpKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHRyeXsgIFxuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdC8qKlxuXHRcdFx0XHRcdCAqIENyZWFuZG8gbGEgaW5zdGFuY2lhIENvZGVtaXJyb3Jcblx0XHRcdFx0XHQqL1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGxldCBlZGl0b3IgPSBfdGhpcy5fY3JlYXRlRWRpdG9yKGVsZW1lbnQpO1xuXHRcdFx0XHRcdF90aGlzLmluaXRZU29ja2V0KGVsZW1lbnQsIGVkaXRvcilcblx0XHRcdFx0XHRfdGhpcy5pbml0RXZlbnQoZWxlbWVudCwgZWRpdG9yKVxuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGlmIChDb0NyZWF0ZU9ic2VydmVyKSB7XG5cdFx0XHRcdFx0XHRDb0NyZWF0ZU9ic2VydmVyLnNldEluaXRpYWxpemVkKGVsZW1lbnQsIFwiY29jcmVhdGUtcXVpbGxcIilcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0X3RoaXMuZWxlbWVudHMucHVzaChlbGVtZW50KVxuXHRcdFx0XHRcdFxuXHRcdFx0XHR9Y2F0Y2goZXJyb3IpIHtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yKGVycm9yKTsgICAgXG5cdFx0XHRcdFx0Ly9yZXR1cm4gZmFsc2UgXG5cdFx0XHRcdFx0XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHR9KTsvL2VuZCBmb3JFYWNoXG5cdFx0fVxuXHRcdFxuXHRcdGluaXRTb2NrZXRFdmVudCgpIHtcblx0XHRcdGNvbnN0IHNlbGYgPSB0aGlzO1xuXHRcdFx0Ly8gQ29DcmVhdGVTb2NrZXQubGlzdGVuKCdnZXREb2N1bWVudCcsIGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdC8vIFx0aWYgKCFkYXRhLm1ldGFkYXRhIHx8IGRhdGEubWV0YWRhdGEudHlwZSAhPSBcImNyZHRcIikge1xuXHRcdFx0Ly8gXHRcdHJldHVybjtcblx0XHRcdC8vIFx0fVxuXHRcdFx0XHRcblx0XHRcdC8vIFx0c2VsZi5lbGVtZW50cy5mb3JFYWNoKChxdWlsbCkgPT4ge1xuXHRcdFx0Ly8gXHRcdGNvbnN0IGNvbGxlY3Rpb24gPSBxdWlsbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjdGlvbicpXG5cdFx0XHQvLyBcdFx0Y29uc3QgaWQgPSBxdWlsbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKVxuXHRcdFx0Ly8gXHRcdGNvbnN0IG5hbWUgPSBxdWlsbC5nZXRBdHRyaWJ1dGUoJ25hbWUnKVxuXHRcdFx0XHRcdFxuXHRcdFx0Ly8gXHRcdGlmIChxdWlsbC5jcnVkU2V0dGVkID09PSB0cnVlKSB7XG5cdFx0XHQvLyBcdFx0XHRyZXR1cm47XG5cdFx0XHQvLyBcdFx0fVxuXHRcdFx0Ly8gXHRcdGlmIChkYXRhWydjb2xsZWN0aW9uJ10gPT0gY29sbGVjdGlvbiAmJiBkYXRhWydkb2N1bWVudF9pZCddID09IGlkICYmIChuYW1lIGluIGRhdGEuZGF0YSkpIHtcblx0XHRcdC8vIFx0XHRcdGNyZHQucmVwbGFjZVRleHQoe1xuXHRcdFx0Ly8gXHRcdFx0XHRjb2xsZWN0aW9uOiBjb2xsZWN0aW9uLFxuXHRcdFx0Ly8gXHRcdFx0XHRkb2N1bWVudF9pZDogaWQsXG5cdFx0XHQvLyBcdFx0XHRcdG5hbWU6IG5hbWUsXG5cdFx0XHQvLyBcdFx0XHRcdHZhbHVlOiBkYXRhWydkYXRhJ11bbmFtZV0sXG5cdFx0XHQvLyBcdFx0XHR9KVxuXHRcdFx0Ly8gXHRcdFx0cXVpbGwuY3J1ZFNldHRlZCA9IHRydWU7XG5cblx0XHRcdC8vIFx0XHR9XG5cdFx0XHQvLyBcdH0pO1xuXHRcdFx0Ly8gXHQvLyBzZWxmLmVkaXRvcnMuZm9yRWFjaCgoZWRpdG9yKSA9PiB7XG5cdFx0XHQvLyBcdC8vIFx0Y29uc3QgZWwgPSBlZGl0b3Iub3B0aW9ucy5jb250YWluZXJcblx0XHRcdC8vIFx0Ly8gXHRjb25zdCBjb2xsZWN0aW9uID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbGxlY3Rpb24nKVxuXHRcdFx0Ly8gXHQvLyBcdGNvbnN0IGlkID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJylcblx0XHRcdC8vIFx0Ly8gXHRjb25zdCBuYW1lID0gZWwuZ2V0QXR0cmlidXRlKCduYW1lJylcblx0XHRcdFx0XHRcblx0XHRcdC8vIFx0Ly8gXHRpZiAoZWwuY3J1ZFNldHRlZCA9PT0gdHJ1ZSkge1xuXHRcdFx0Ly8gXHQvLyBcdFx0cmV0dXJuO1xuXHRcdFx0Ly8gXHQvLyBcdH1cblx0XHRcdC8vIFx0Ly8gXHRpZiAoZGF0YVsnY29sbGVjdGlvbiddID09IGNvbGxlY3Rpb24gJiYgZGF0YVsnZG9jdW1lbnRfaWQnXSA9PSBpZCAmJiAobmFtZSBpbiBkYXRhLmRhdGEpKSB7XG5cdFx0XHQvLyBcdC8vIFx0XHQvLyBjcmR0LnJlcGxhY2VUZXh0KHtcblx0XHRcdC8vIFx0Ly8gXHRcdC8vIFx0Y29sbGVjdGlvbjogY29sbGVjdGlvbixcblx0XHRcdC8vIFx0Ly8gXHRcdC8vIFx0ZG9jdW1lbnRfaWQ6IGlkLFxuXHRcdFx0Ly8gXHQvLyBcdFx0Ly8gXHRuYW1lOiBuYW1lLFxuXHRcdFx0Ly8gXHQvLyBcdFx0Ly8gXHR2YWx1ZTogZGF0YVsnZGF0YSddW25hbWVdLFxuXHRcdFx0Ly8gXHQvLyBcdFx0Ly8gfSlcblx0XHRcdFx0XHRcdFxuXHRcdFx0Ly8gXHQvLyBcdFx0ZWRpdG9yLnNldFRleHQoZGF0YVsnZGF0YSddW25hbWVdKTtcblx0XHRcdC8vIFx0Ly8gXHRcdGVsLmNydWRTZXR0ZWQgPSB0cnVlO1xuXHRcdFx0Ly8gXHQvLyBcdH1cblx0XHRcdC8vIFx0Ly8gfSk7XG5cdFx0XHQvLyB9KTtcblx0XHR9XG5cdFx0XG5cdFx0aW5pdEV2ZW50KGVsZW1lbnQsIGVkaXRvcikge1xuXHRcdFx0bGV0IF90aGlzID0gdGhpcztcblx0XHRcdGVkaXRvci5vbignZWRpdG9yLWNoYW5nZScsIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFxuXHRcdFx0XHR2YXIgdmFsdWUgPSBlZGl0b3IuZ2V0VGV4dCgpO1xuXHRcdFx0XHR2YXIgaWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnaWQnKTtcblx0XHRcdFx0IF90aGlzLnJlcXVlc3REb2N1bWVudElEKGVsZW1lbnQpXG5cdFx0XHRcdCBcblx0XHRcdFx0aWYgKCFpZCkgcmV0dXJuO1xuXHRcdFx0XHRcblx0XHRcdFx0dmFyIHRhcmdldHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1nZXRfdmFsdWU9XCInICsgaWQgKyAnXCJdJyk7XG5cdFx0XHRcdFxuXHRcdFx0XHR0YXJnZXRzLmZvckVhY2goKHRhcmdldCkgPT4ge1xuXHRcdFx0XHRcdGlmKHRhcmdldC5ub2RlTmFtZSA9PSAnSUZSQU1FJyl7XG5cdFx0XHRcdFx0XHRcdGxldCBkb2N1bWVudF9pZnJhbWUgPSB0YXJnZXQuY29udGVudERvY3VtZW50O1xuXHRcdFx0XHRcdFx0XHR0YXJnZXQuc3JjZG9jID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdH1lbHNle1xuXHRcdFx0XHRcdFx0aWYgKHR5cGVvZih0YXJnZXQuaW5uZXJIVE1MKSAhPSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHRcdFx0XHRcdHRhcmdldC5pbm5lckhUTUwgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdH1lbHNlIGlmICh0eXBlb2YodGFyZ2V0LnZhbHVlKSAhPSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHRcdFx0XHRcdHRhcmdldC52YWx1ZSA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmICh0eXBlb2YodGFyZ2V0LnRleHRDb250ZW50KSAhPSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHRcdFx0XHRcdHRhcmdldC50ZXh0Q29udGVudCA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHRcdGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2V0LWRvY3VtZW50X2lkJywgZnVuY3Rpb24oZXZlbnQpe1xuXHRcdFx0XHRjb25zdCBvbGRfZGF0YSA9IGVkaXRvci5nZXRUZXh0KCk7XG5cdFx0XHRcdF90aGlzLmluaXRZU29ja2V0KGVsZW1lbnQsIGVkaXRvciwgb2xkX2RhdGEpO1xuXHRcdFx0XHRfdGhpcy5zYXZlRGF0YUludG9EQihlbGVtZW50LCBvbGRfZGF0YSk7XG5cdFx0XHRcdFxuXHRcdFx0fSlcblx0XHRcdFxuXHRcdFx0ZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGlja2VkLXN1Ym1pdEJ0bicsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRjb25zdCBvbGRfZGF0YSA9IGVkaXRvci5nZXRUZXh0KCk7XG5cdFx0XHRcdF90aGlzLnNhdmVEYXRhSW50b0RCKGVsZW1lbnQsIG9sZF9kYXRhKTtcblx0XHRcdFx0ZWRpdG9yLnNldFRleHQob2xkX2RhdGEpXG5cdFx0XHR9KVxuXHRcdH1cblx0XHRcblx0XHRnZW5lcmF0ZVR5cGVOYW1lKGVsZW1lbnQpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdFxuXHRcdFx0XHR2YXIgY29sbGVjdGlvbiA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbGxlY3Rpb24nKSB8fCAnXyc7XG5cdFx0XHRcdHZhciBkb2N1bWVudF9pZCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJykgfHwgJ18nO1xuXHRcdFx0XHR2YXIgbmFtZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCduYW1lJykgfHwgJ18nO1xuXHRcdFx0XHRcblx0XHRcdH1jYXRjaChlcnJvcikge1xuXHRcdFx0XHRcblx0XHRcdFx0Y29uc29sZS5lcnJvcihlcnJvcik7ICAgIFxuXHRcdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHRcdFx0XG5cdFx0XHR9XG5cdFx0XHRjb25zdCBpbmZvID0ge29yZzpjb25maWcub3JnYW5pemF0aW9uX0lkICwgY29sbGVjdGlvbiwgZG9jdW1lbnRfaWQsIG5hbWV9XG5cdFx0XHRyZXR1cm4gYnRvYShKU09OLnN0cmluZ2lmeShpbmZvKSk7IFxuXHRcdH1cblxuXHRcdHJlcXVlc3REb2N1bWVudElEKGVsZW1lbnQpIHtcblx0XHRcdGNvbnN0IGRvY3VtZW50X2lkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKTtcblx0XHRcdGNvbnN0IHJlYWx0aW1lID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcmVhbHRpbWUnKSAhPSBcImZhbHNlXCI7XG5cdFx0XHRpZiAoIWRvY3VtZW50X2lkICYmIHJlYWx0aW1lKSB7XG5cdFx0XHRcdENvQ3JlYXRlRm9ybS5yZXF1ZXN0KHtlbGVtZW50fSlcblx0XHRcdFx0ZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnLCAncGVuZGluZycpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHRzYXZlRGF0YUludG9EQihlbGVtZW50LCB2YWx1ZSkge1xuXHRcdFx0Y29uc3QgY29sbGVjdGlvbiA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbGxlY3Rpb24nKVxuXHRcdFx0Y29uc3QgZG9jdW1lbnRfaWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcpXG5cdFx0XHRjb25zdCBuYW1lID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ25hbWUnKVxuXHRcdFx0aWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXNhdmVfdmFsdWUnKSA9PSAnZmFsc2UnIHx8IGRvY3VtZW50X2lkID09ICdudWxsJykge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRjcmR0LnJlcGxhY2VUZXh0KHtcblx0XHRcdFx0Y29sbGVjdGlvbiwgZG9jdW1lbnRfaWQsIFxuXHRcdFx0XHRkYXRhOiB7XG5cdFx0XHRcdFx0W25hbWVdOiB2YWx1ZSxcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHR9XG5cblx0XHRwYXJzZVR5cGVOYW1lKG5hbWUpIHtcblx0XHRcdGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGF0b2IobmFtZSkpO1xuXHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0fVxuXHRcblx0fS8vZW5kIENsYXNzIENvQ3JlYXRlWWpzUXVpbGxcblx0XG5cdGNvbnN0IG9ial9jb2NyZWF0ZXF1aWxsID0gbmV3IENvQ3JlYXRlWWpzUXVpbGwoJy5xdWlsbCcpO1xuXHQvKipcblx0ICogSW5pdGlhbGl6YXRpb24gYWxsIE9CSlMgd2l0aCBjbGFzcyAucXVpbGxcblx0Ki9cblx0b2JqX2NvY3JlYXRlcXVpbGwuaW5pdCgpXG5cblx0Ly8gQHRzLWlnbm9yZVxuXHR3aW5kb3cuQ29DcmVhdGVRdWlsbCA9IG9ial9jb2NyZWF0ZXF1aWxsXG5cblx0aWYgKENvQ3JlYXRlT2JzZXJ2ZXIpIHtcblx0XHRDb0NyZWF0ZU9ic2VydmVyLmluaXQoe1xuXHRcdFx0bmFtZTogJ0NvQ3JlYXRlUXVpbGwnLCBcblx0XHRcdG9ic2VydmU6IFsnc3VidHJlZScsICdjaGlsZExpc3QnXSxcblx0XHRcdGluY2x1ZGU6ICcucXVpbGwnLCBcblx0XHRcdGNhbGxiYWNrOiBmdW5jdGlvbihtdXRhdGlvbikge1xuXHRcdFx0XHRDb0NyZWF0ZVF1aWxsLl9pbml0KG11dGF0aW9uLnRhcmdldClcblx0XHRcdH1cblx0XHR9KVxuXHRcdFxuXHR9XG5cdFxuXHRpZiAoQ29DcmVhdGVGb3JtKSB7XG5cdFx0Q29DcmVhdGVGb3JtLmluaXQoe1xuXHRcdFx0bmFtZTogJ0NvQ3JlYXRlUXVpbGwnLFxuXHRcdFx0c2VsZWN0b3I6ICcucXVpbGwnLFxuXHRcdFx0Y2FsbGJhY2s6IGZ1bmN0aW9uKGVsKSB7XG5cdFx0XHRcdFxuXHRcdFx0fVxuXHRcdH0pXG5cdH1cblx0XG59KTsvL2VuZCB3aW5kb3cgTE9BRFxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/index.js\n")},"./src/js/RelativePosition.js":function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.compareRelativePositions = exports.createAbsolutePositionFromRelativePosition = exports.decodeRelativePosition = exports.readRelativePosition = exports.encodeRelativePosition = exports.writeRelativePosition = exports.createRelativePositionFromTypeIndex = exports.createRelativePosition = exports.createAbsolutePosition = exports.AbsolutePosition = exports.createRelativePositionFromJSON = exports.RelativePosition = void 0;\n\nvar _internals = __webpack_require__(/*! yjs/src/internals.js */ "./node_modules/yjs/src/internals.js");\n\nvar encoding = _interopRequireWildcard(__webpack_require__(/*! lib0/encoding.js */ "./node_modules/lib0/encoding.js"));\n\nvar decoding = _interopRequireWildcard(__webpack_require__(/*! lib0/decoding.js */ "./node_modules/lib0/decoding.js"));\n\nvar error = _interopRequireWildcard(__webpack_require__(/*! lib0/error.js */ "./node_modules/lib0/error.js"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\n * A relative position is based on the Yjs model and is not affected by document changes.\n * E.g. If you place a relative position before a certain character, it will always point to this character.\n * If you place a relative position at the end of a type, it will always point to the end of the type.\n *\n * A numeric position is often unsuited for user selections, because it does not change when content is inserted\n * before or after.\n *\n * ```Insert(0, \'x\')(\'a|bc\') = \'xa|bc\'``` Where | is the relative position.\n *\n * One of the properties must be defined.\n *\n * @example\n *   // Current cursor position is at position 10\n *   const relativePosition = createRelativePositionFromIndex(yText, 10)\n *   // modify yText\n *   yText.insert(0, \'abc\')\n *   yText.delete(3, 10)\n *   // Compute the cursor position\n *   const absolutePosition = createAbsolutePositionFromRelativePosition(y, relativePosition)\n *   absolutePosition.type === yText // => true\n *   console.log(\'cursor location is \' + absolutePosition.index) // => cursor location is 3\n *\n */\nclass RelativePosition {\n  /**\n   * @param {ID|null} type\n   * @param {string|null} tname\n   * @param {ID|null} item\n   */\n  constructor(type, tname, item) {\n    /**\n     * @type {ID|null}\n     */\n    this.type = type;\n    /**\n     * @type {string|null}\n     */\n\n    this.tname = tname;\n    /**\n     * @type {ID | null}\n     */\n\n    this.item = item;\n  }\n\n}\n/**\n * @param {Object} json\n * @return {RelativePosition}\n *\n * @function\n */\n\n\nexports.RelativePosition = RelativePosition;\n\nconst createRelativePositionFromJSON = json => new RelativePosition(json.type == null ? null : (0, _internals.createID)(json.type.client, json.type.clock), json.tname || null, json.item == null ? null : (0, _internals.createID)(json.item.client, json.item.clock));\n\nexports.createRelativePositionFromJSON = createRelativePositionFromJSON;\n\nclass AbsolutePosition {\n  /**\n   * @param {AbstractType<any>} type\n   * @param {number} index\n   */\n  constructor(type, index) {\n    /**\n     * @type {AbstractType<any>}\n     */\n    this.type = type;\n    /**\n     * @type {number}\n     */\n\n    this.index = index;\n  }\n\n}\n/**\n * @param {AbstractType<any>} type\n * @param {number} index\n *\n * @function\n */\n\n\nexports.AbsolutePosition = AbsolutePosition;\n\nconst createAbsolutePosition = (type, index) => new AbsolutePosition(type, index);\n/**\n * @param {AbstractType<any>} type\n * @param {ID|null} item\n *\n * @function\n */\n\n\nexports.createAbsolutePosition = createAbsolutePosition;\n\nconst createRelativePosition = (type, item) => {\n  let typeid = null;\n  let tname = null;\n\n  if (type._item === null) {\n    tname = (0, _internals.findRootTypeKey)(type);\n  } else {\n    typeid = type._item.id;\n  }\n\n  return new RelativePosition(typeid, tname, item);\n};\n/**\n * Create a relativePosition based on a absolute position.\n *\n * @param {AbstractType<any>} type The base type (e.g. YText or YArray).\n * @param {number} index The absolute position.\n * @return {RelativePosition}\n *\n * @function\n */\n\n\nexports.createRelativePosition = createRelativePosition;\n\nconst createRelativePositionFromTypeIndex = (type, index) => {\n  let t = type._start;\n\n  while (t !== null) {\n    if (!t.deleted && t.countable) {\n      if (t.length > index) {\n        // case 1: found position somewhere in the linked list\n        return createRelativePosition(type, (0, _internals.createID)(t.id.client, t.id.clock + index));\n      }\n\n      index -= t.length;\n    }\n\n    t = t.right;\n  }\n\n  return createRelativePosition(type, null);\n};\n/**\n * @param {encoding.Encoder} encoder\n * @param {RelativePosition} rpos\n *\n * @function\n */\n\n\nexports.createRelativePositionFromTypeIndex = createRelativePositionFromTypeIndex;\n\nconst writeRelativePosition = (encoder, rpos) => {\n  const {\n    type,\n    tname,\n    item\n  } = rpos;\n\n  if (item !== null) {\n    encoding.writeVarUint(encoder, 0);\n    (0, _internals.writeID)(encoder, item);\n  } else if (tname !== null) {\n    // case 2: found position at the end of the list and type is stored in y.share\n    encoding.writeUint8(encoder, 1);\n    encoding.writeVarString(encoder, tname);\n  } else if (type !== null) {\n    // case 3: found position at the end of the list and type is attached to an item\n    encoding.writeUint8(encoder, 2);\n    (0, _internals.writeID)(encoder, type);\n  } else {\n    throw error.unexpectedCase();\n  }\n\n  return encoder;\n};\n/**\n * @param {RelativePosition} rpos\n * @return {Uint8Array}\n */\n\n\nexports.writeRelativePosition = writeRelativePosition;\n\nconst encodeRelativePosition = rpos => {\n  const encoder = encoding.createEncoder();\n  writeRelativePosition(encoder, rpos);\n  return encoding.toUint8Array(encoder);\n};\n/**\n * @param {decoding.Decoder} decoder\n * @return {RelativePosition|null}\n *\n * @function\n */\n\n\nexports.encodeRelativePosition = encodeRelativePosition;\n\nconst readRelativePosition = decoder => {\n  let type = null;\n  let tname = null;\n  let itemID = null;\n\n  switch (decoding.readVarUint(decoder)) {\n    case 0:\n      // case 1: found position somewhere in the linked list\n      itemID = (0, _internals.readID)(decoder);\n      break;\n\n    case 1:\n      // case 2: found position at the end of the list and type is stored in y.share\n      tname = decoding.readVarString(decoder);\n      break;\n\n    case 2:\n      {\n        // case 3: found position at the end of the list and type is attached to an item\n        type = (0, _internals.readID)(decoder);\n      }\n  }\n\n  return new RelativePosition(type, tname, itemID);\n};\n/**\n * @param {Uint8Array} uint8Array\n * @return {RelativePosition|null}\n */\n\n\nexports.readRelativePosition = readRelativePosition;\n\nconst decodeRelativePosition = uint8Array => readRelativePosition(decoding.createDecoder(uint8Array));\n/**\n * @param {RelativePosition} rpos\n * @param {Doc} doc\n * @return {AbsolutePosition|null}\n *\n * @function\n */\n\n\nexports.decodeRelativePosition = decodeRelativePosition;\n\nconst createAbsolutePositionFromRelativePosition = (rpos, doc) => {\n  const store = doc.store;\n  const rightID = rpos.item;\n  const typeID = rpos.type;\n  const tname = rpos.tname;\n  let type = null;\n  let index = 0;\n\n  if (rightID !== null) {\n    if ((0, _internals.getState)(store, rightID.client) <= rightID.clock) {\n      return null;\n    }\n\n    const right = (0, _internals.getItem)(store, rightID);\n    /*if (!(right instanceof Item)) {\n      return null\n    }*/\n\n    index = right.deleted || !right.countable ? 0 : rightID.clock - right.id.clock;\n    let n = right.left;\n\n    while (n !== null) {\n      if (!n.deleted && n.countable) {\n        index += n.length;\n      }\n\n      n = n.left;\n    }\n\n    type = right.parent;\n  } else {\n    if (tname !== null) {\n      type = doc.get(tname);\n    } else if (typeID !== null) {\n      if ((0, _internals.getState)(store, typeID.client) <= typeID.clock) {\n        // type does not exist yet\n        return null;\n      }\n\n      const struct = (0, _internals.getItem)(store, typeID);\n\n      if (struct instanceof _internals.Item && struct.content instanceof _internals.ContentType) {\n        type = struct.content.type;\n      } else {\n        // struct is garbage collected\n        return null;\n      }\n    } else {\n      throw error.unexpectedCase();\n    }\n\n    index = type._length;\n  }\n\n  if (type._item !== null && type._item.deleted) {\n    return null;\n  }\n\n  return createAbsolutePosition(type, index);\n};\n/**\n * @param {RelativePosition|null} a\n * @param {RelativePosition|null} b\n *\n * @function\n */\n\n\nexports.createAbsolutePositionFromRelativePosition = createAbsolutePositionFromRelativePosition;\n\nconst compareRelativePositions = (a, b) => a === b || a !== null && b !== null && a.tname === b.tname && (0, _internals.compareIDs)(a.item, b.item) && (0, _internals.compareIDs)(a.type, b.type);\n\nexports.compareRelativePositions = compareRelativePositions;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5xdWlsbC8uL3NyYy9qcy9SZWxhdGl2ZVBvc2l0aW9uLmpzPzA2MmQiXSwibmFtZXMiOlsiUmVsYXRpdmVQb3NpdGlvbiIsImNvbnN0cnVjdG9yIiwidHlwZSIsInRuYW1lIiwiaXRlbSIsImNyZWF0ZVJlbGF0aXZlUG9zaXRpb25Gcm9tSlNPTiIsImpzb24iLCJjbGllbnQiLCJjbG9jayIsIkFic29sdXRlUG9zaXRpb24iLCJpbmRleCIsImNyZWF0ZUFic29sdXRlUG9zaXRpb24iLCJjcmVhdGVSZWxhdGl2ZVBvc2l0aW9uIiwidHlwZWlkIiwiX2l0ZW0iLCJpZCIsImNyZWF0ZVJlbGF0aXZlUG9zaXRpb25Gcm9tVHlwZUluZGV4IiwidCIsIl9zdGFydCIsImRlbGV0ZWQiLCJjb3VudGFibGUiLCJsZW5ndGgiLCJyaWdodCIsIndyaXRlUmVsYXRpdmVQb3NpdGlvbiIsImVuY29kZXIiLCJycG9zIiwiZW5jb2RpbmciLCJ3cml0ZVZhclVpbnQiLCJ3cml0ZVVpbnQ4Iiwid3JpdGVWYXJTdHJpbmciLCJlcnJvciIsInVuZXhwZWN0ZWRDYXNlIiwiZW5jb2RlUmVsYXRpdmVQb3NpdGlvbiIsImNyZWF0ZUVuY29kZXIiLCJ0b1VpbnQ4QXJyYXkiLCJyZWFkUmVsYXRpdmVQb3NpdGlvbiIsImRlY29kZXIiLCJpdGVtSUQiLCJkZWNvZGluZyIsInJlYWRWYXJVaW50IiwicmVhZFZhclN0cmluZyIsImRlY29kZVJlbGF0aXZlUG9zaXRpb24iLCJ1aW50OEFycmF5IiwiY3JlYXRlRGVjb2RlciIsImNyZWF0ZUFic29sdXRlUG9zaXRpb25Gcm9tUmVsYXRpdmVQb3NpdGlvbiIsImRvYyIsInN0b3JlIiwicmlnaHRJRCIsInR5cGVJRCIsIm4iLCJsZWZ0IiwicGFyZW50IiwiZ2V0Iiwic3RydWN0IiwiSXRlbSIsImNvbnRlbnQiLCJDb250ZW50VHlwZSIsIl9sZW5ndGgiLCJjb21wYXJlUmVsYXRpdmVQb3NpdGlvbnMiLCJhIiwiYiJd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InNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHtcbiAgZ2V0SXRlbSxcbiAgY3JlYXRlSUQsXG4gIHdyaXRlSUQsXG4gIHJlYWRJRCxcbiAgY29tcGFyZUlEcyxcbiAgZ2V0U3RhdGUsXG4gIGZpbmRSb290VHlwZUtleSxcbiAgSXRlbSxcbiAgQ29udGVudFR5cGUsXG4gIElELCBEb2MsIEFic3RyYWN0VHlwZSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG59IGZyb20gJ3lqcy9zcmMvaW50ZXJuYWxzLmpzJ1xuXG5pbXBvcnQgKiBhcyBlbmNvZGluZyBmcm9tICdsaWIwL2VuY29kaW5nLmpzJ1xuaW1wb3J0ICogYXMgZGVjb2RpbmcgZnJvbSAnbGliMC9kZWNvZGluZy5qcydcbmltcG9ydCAqIGFzIGVycm9yIGZyb20gJ2xpYjAvZXJyb3IuanMnXG5cbi8qKlxuICogQSByZWxhdGl2ZSBwb3NpdGlvbiBpcyBiYXNlZCBvbiB0aGUgWWpzIG1vZGVsIGFuZCBpcyBub3QgYWZmZWN0ZWQgYnkgZG9jdW1lbnQgY2hhbmdlcy5cbiAqIEUuZy4gSWYgeW91IHBsYWNlIGEgcmVsYXRpdmUgcG9zaXRpb24gYmVmb3JlIGEgY2VydGFpbiBjaGFyYWN0ZXIsIGl0IHdpbGwgYWx3YXlzIHBvaW50IHRvIHRoaXMgY2hhcmFjdGVyLlxuICogSWYgeW91IHBsYWNlIGEgcmVsYXRpdmUgcG9zaXRpb24gYXQgdGhlIGVuZCBvZiBhIHR5cGUsIGl0IHdpbGwgYWx3YXlzIHBvaW50IHRvIHRoZSBlbmQgb2YgdGhlIHR5cGUuXG4gKlxuICogQSBudW1lcmljIHBvc2l0aW9uIGlzIG9mdGVuIHVuc3VpdGVkIGZvciB1c2VyIHNlbGVjdGlvbnMsIGJlY2F1c2UgaXQgZG9lcyBub3QgY2hhbmdlIHdoZW4gY29udGVudCBpcyBpbnNlcnRlZFxuICogYmVmb3JlIG9yIGFmdGVyLlxuICpcbiAqIGBgYEluc2VydCgwLCAneCcpKCdhfGJjJykgPSAneGF8YmMnYGBgIFdoZXJlIHwgaXMgdGhlIHJlbGF0aXZlIHBvc2l0aW9uLlxuICpcbiAqIE9uZSBvZiB0aGUgcHJvcGVydGllcyBtdXN0IGJlIGRlZmluZWQuXG4gKlxuICogQGV4YW1wbGVcbiAqICAgLy8gQ3VycmVudCBjdXJzb3IgcG9zaXRpb24gaXMgYXQgcG9zaXRpb24gMTBcbiAqICAgY29uc3QgcmVsYXRpdmVQb3NpdGlvbiA9IGNyZWF0ZVJlbGF0aXZlUG9zaXRpb25Gcm9tSW5kZXgoeVRleHQsIDEwKVxuICogICAvLyBtb2RpZnkgeVRleHRcbiAqICAgeVRleHQuaW5zZXJ0KDAsICdhYmMnKVxuICogICB5VGV4dC5kZWxldGUoMywgMTApXG4gKiAgIC8vIENvbXB1dGUgdGhlIGN1cnNvciBwb3NpdGlvblxuICogICBjb25zdCBhYnNvbHV0ZVBvc2l0aW9uID0gY3JlYXRlQWJzb2x1dGVQb3NpdGlvbkZyb21SZWxhdGl2ZVBvc2l0aW9uKHksIHJlbGF0aXZlUG9zaXRpb24pXG4gKiAgIGFic29sdXRlUG9zaXRpb24udHlwZSA9PT0geVRleHQgLy8gPT4gdHJ1ZVxuICogICBjb25zb2xlLmxvZygnY3Vyc29yIGxvY2F0aW9uIGlzICcgKyBhYnNvbHV0ZVBvc2l0aW9uLmluZGV4KSAvLyA9PiBjdXJzb3IgbG9jYXRpb24gaXMgM1xuICpcbiAqL1xuZXhwb3J0IGNsYXNzIFJlbGF0aXZlUG9zaXRpb24ge1xuICAvKipcbiAgICogQHBhcmFtIHtJRHxudWxsfSB0eXBlXG4gICAqIEBwYXJhbSB7c3RyaW5nfG51bGx9IHRuYW1lXG4gICAqIEBwYXJhbSB7SUR8bnVsbH0gaXRlbVxuICAgKi9cbiAgY29uc3RydWN0b3IgKHR5cGUsIHRuYW1lLCBpdGVtKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge0lEfG51bGx9XG4gICAgICovXG4gICAgdGhpcy50eXBlID0gdHlwZVxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtzdHJpbmd8bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLnRuYW1lID0gdG5hbWVcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7SUQgfCBudWxsfVxuICAgICAqL1xuICAgIHRoaXMuaXRlbSA9IGl0ZW1cbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7T2JqZWN0fSBqc29uXG4gKiBAcmV0dXJuIHtSZWxhdGl2ZVBvc2l0aW9ufVxuICpcbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgY29uc3QgY3JlYXRlUmVsYXRpdmVQb3NpdGlvbkZyb21KU09OID0ganNvbiA9PiBuZXcgUmVsYXRpdmVQb3NpdGlvbihqc29uLnR5cGUgPT0gbnVsbCA/IG51bGwgOiBjcmVhdGVJRChqc29uLnR5cGUuY2xpZW50LCBqc29uLnR5cGUuY2xvY2spLCBqc29uLnRuYW1lIHx8IG51bGwsIGpzb24uaXRlbSA9PSBudWxsID8gbnVsbCA6IGNyZWF0ZUlEKGpzb24uaXRlbS5jbGllbnQsIGpzb24uaXRlbS5jbG9jaykpXG5cbmV4cG9ydCBjbGFzcyBBYnNvbHV0ZVBvc2l0aW9uIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7QWJzdHJhY3RUeXBlPGFueT59IHR5cGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gICAqL1xuICBjb25zdHJ1Y3RvciAodHlwZSwgaW5kZXgpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7QWJzdHJhY3RUeXBlPGFueT59XG4gICAgICovXG4gICAgdGhpcy50eXBlID0gdHlwZVxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pbmRleCA9IGluZGV4XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0Fic3RyYWN0VHlwZTxhbnk+fSB0eXBlXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAqXG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUFic29sdXRlUG9zaXRpb24gPSAodHlwZSwgaW5kZXgpID0+IG5ldyBBYnNvbHV0ZVBvc2l0aW9uKHR5cGUsIGluZGV4KVxuXG4vKipcbiAqIEBwYXJhbSB7QWJzdHJhY3RUeXBlPGFueT59IHR5cGVcbiAqIEBwYXJhbSB7SUR8bnVsbH0gaXRlbVxuICpcbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgY29uc3QgY3JlYXRlUmVsYXRpdmVQb3NpdGlvbiA9ICh0eXBlLCBpdGVtKSA9PiB7XG4gIGxldCB0eXBlaWQgPSBudWxsXG4gIGxldCB0bmFtZSA9IG51bGxcbiAgaWYgKHR5cGUuX2l0ZW0gPT09IG51bGwpIHtcbiAgICB0bmFtZSA9IGZpbmRSb290VHlwZUtleSh0eXBlKVxuICB9IGVsc2Uge1xuICAgIHR5cGVpZCA9IHR5cGUuX2l0ZW0uaWRcbiAgfVxuICByZXR1cm4gbmV3IFJlbGF0aXZlUG9zaXRpb24odHlwZWlkLCB0bmFtZSwgaXRlbSlcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSByZWxhdGl2ZVBvc2l0aW9uIGJhc2VkIG9uIGEgYWJzb2x1dGUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtBYnN0cmFjdFR5cGU8YW55Pn0gdHlwZSBUaGUgYmFzZSB0eXBlIChlLmcuIFlUZXh0IG9yIFlBcnJheSkuXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXggVGhlIGFic29sdXRlIHBvc2l0aW9uLlxuICogQHJldHVybiB7UmVsYXRpdmVQb3NpdGlvbn1cbiAqXG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVJlbGF0aXZlUG9zaXRpb25Gcm9tVHlwZUluZGV4ID0gKHR5cGUsIGluZGV4KSA9PiB7XG4gIGxldCB0ID0gdHlwZS5fc3RhcnRcbiAgd2hpbGUgKHQgIT09IG51bGwpIHtcbiAgICBpZiAoIXQuZGVsZXRlZCAmJiB0LmNvdW50YWJsZSkge1xuICAgICAgaWYgKHQubGVuZ3RoID4gaW5kZXgpIHtcbiAgICAgICAgLy8gY2FzZSAxOiBmb3VuZCBwb3NpdGlvbiBzb21ld2hlcmUgaW4gdGhlIGxpbmtlZCBsaXN0XG4gICAgICAgIHJldHVybiBjcmVhdGVSZWxhdGl2ZVBvc2l0aW9uKHR5cGUsIGNyZWF0ZUlEKHQuaWQuY2xpZW50LCB0LmlkLmNsb2NrICsgaW5kZXgpKVxuICAgICAgfVxuICAgICAgaW5kZXggLT0gdC5sZW5ndGhcbiAgICB9XG4gICAgdCA9IHQucmlnaHRcbiAgfVxuICByZXR1cm4gY3JlYXRlUmVsYXRpdmVQb3NpdGlvbih0eXBlLCBudWxsKVxufVxuXG4vKipcbiAqIEBwYXJhbSB7ZW5jb2RpbmcuRW5jb2Rlcn0gZW5jb2RlclxuICogQHBhcmFtIHtSZWxhdGl2ZVBvc2l0aW9ufSBycG9zXG4gKlxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCB3cml0ZVJlbGF0aXZlUG9zaXRpb24gPSAoZW5jb2RlciwgcnBvcykgPT4ge1xuICBjb25zdCB7IHR5cGUsIHRuYW1lLCBpdGVtIH0gPSBycG9zXG4gIGlmIChpdGVtICE9PSBudWxsKSB7XG4gICAgZW5jb2Rpbmcud3JpdGVWYXJVaW50KGVuY29kZXIsIDApXG4gICAgd3JpdGVJRChlbmNvZGVyLCBpdGVtKVxuICB9IGVsc2UgaWYgKHRuYW1lICE9PSBudWxsKSB7XG4gICAgLy8gY2FzZSAyOiBmb3VuZCBwb3NpdGlvbiBhdCB0aGUgZW5kIG9mIHRoZSBsaXN0IGFuZCB0eXBlIGlzIHN0b3JlZCBpbiB5LnNoYXJlXG4gICAgZW5jb2Rpbmcud3JpdGVVaW50OChlbmNvZGVyLCAxKVxuICAgIGVuY29kaW5nLndyaXRlVmFyU3RyaW5nKGVuY29kZXIsIHRuYW1lKVxuICB9IGVsc2UgaWYgKHR5cGUgIT09IG51bGwpIHtcbiAgICAvLyBjYXNlIDM6IGZvdW5kIHBvc2l0aW9uIGF0IHRoZSBlbmQgb2YgdGhlIGxpc3QgYW5kIHR5cGUgaXMgYXR0YWNoZWQgdG8gYW4gaXRlbVxuICAgIGVuY29kaW5nLndyaXRlVWludDgoZW5jb2RlciwgMilcbiAgICB3cml0ZUlEKGVuY29kZXIsIHR5cGUpXG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgZXJyb3IudW5leHBlY3RlZENhc2UoKVxuICB9XG4gIHJldHVybiBlbmNvZGVyXG59XG5cbi8qKlxuICogQHBhcmFtIHtSZWxhdGl2ZVBvc2l0aW9ufSBycG9zXG4gKiBAcmV0dXJuIHtVaW50OEFycmF5fVxuICovXG5leHBvcnQgY29uc3QgZW5jb2RlUmVsYXRpdmVQb3NpdGlvbiA9IHJwb3MgPT4ge1xuICBjb25zdCBlbmNvZGVyID0gZW5jb2RpbmcuY3JlYXRlRW5jb2RlcigpXG4gIHdyaXRlUmVsYXRpdmVQb3NpdGlvbihlbmNvZGVyLCBycG9zKVxuICByZXR1cm4gZW5jb2RpbmcudG9VaW50OEFycmF5KGVuY29kZXIpXG59XG5cbi8qKlxuICogQHBhcmFtIHtkZWNvZGluZy5EZWNvZGVyfSBkZWNvZGVyXG4gKiBAcmV0dXJuIHtSZWxhdGl2ZVBvc2l0aW9ufG51bGx9XG4gKlxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCByZWFkUmVsYXRpdmVQb3NpdGlvbiA9IGRlY29kZXIgPT4ge1xuICBsZXQgdHlwZSA9IG51bGxcbiAgbGV0IHRuYW1lID0gbnVsbFxuICBsZXQgaXRlbUlEID0gbnVsbFxuICBzd2l0Y2ggKGRlY29kaW5nLnJlYWRWYXJVaW50KGRlY29kZXIpKSB7XG4gICAgY2FzZSAwOlxuICAgICAgLy8gY2FzZSAxOiBmb3VuZCBwb3NpdGlvbiBzb21ld2hlcmUgaW4gdGhlIGxpbmtlZCBsaXN0XG4gICAgICBpdGVtSUQgPSByZWFkSUQoZGVjb2RlcilcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAxOlxuICAgICAgLy8gY2FzZSAyOiBmb3VuZCBwb3NpdGlvbiBhdCB0aGUgZW5kIG9mIHRoZSBsaXN0IGFuZCB0eXBlIGlzIHN0b3JlZCBpbiB5LnNoYXJlXG4gICAgICB0bmFtZSA9IGRlY29kaW5nLnJlYWRWYXJTdHJpbmcoZGVjb2RlcilcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAyOiB7XG4gICAgICAvLyBjYXNlIDM6IGZvdW5kIHBvc2l0aW9uIGF0IHRoZSBlbmQgb2YgdGhlIGxpc3QgYW5kIHR5cGUgaXMgYXR0YWNoZWQgdG8gYW4gaXRlbVxuICAgICAgdHlwZSA9IHJlYWRJRChkZWNvZGVyKVxuICAgIH1cbiAgfVxuICByZXR1cm4gbmV3IFJlbGF0aXZlUG9zaXRpb24odHlwZSwgdG5hbWUsIGl0ZW1JRClcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IHVpbnQ4QXJyYXlcbiAqIEByZXR1cm4ge1JlbGF0aXZlUG9zaXRpb258bnVsbH1cbiAqL1xuZXhwb3J0IGNvbnN0IGRlY29kZVJlbGF0aXZlUG9zaXRpb24gPSB1aW50OEFycmF5ID0+IHJlYWRSZWxhdGl2ZVBvc2l0aW9uKGRlY29kaW5nLmNyZWF0ZURlY29kZXIodWludDhBcnJheSkpXG5cbi8qKlxuICogQHBhcmFtIHtSZWxhdGl2ZVBvc2l0aW9ufSBycG9zXG4gKiBAcGFyYW0ge0RvY30gZG9jXG4gKiBAcmV0dXJuIHtBYnNvbHV0ZVBvc2l0aW9ufG51bGx9XG4gKlxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVBYnNvbHV0ZVBvc2l0aW9uRnJvbVJlbGF0aXZlUG9zaXRpb24gPSAocnBvcywgZG9jKSA9PiB7XG4gIGNvbnN0IHN0b3JlID0gZG9jLnN0b3JlXG4gIGNvbnN0IHJpZ2h0SUQgPSBycG9zLml0ZW1cbiAgY29uc3QgdHlwZUlEID0gcnBvcy50eXBlXG4gIGNvbnN0IHRuYW1lID0gcnBvcy50bmFtZVxuICBsZXQgdHlwZSA9IG51bGxcbiAgbGV0IGluZGV4ID0gMFxuICBpZiAocmlnaHRJRCAhPT0gbnVsbCkge1xuICAgIGlmIChnZXRTdGF0ZShzdG9yZSwgcmlnaHRJRC5jbGllbnQpIDw9IHJpZ2h0SUQuY2xvY2spIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICAgIGNvbnN0IHJpZ2h0ID0gZ2V0SXRlbShzdG9yZSwgcmlnaHRJRClcbiAgICAvKmlmICghKHJpZ2h0IGluc3RhbmNlb2YgSXRlbSkpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfSovXG4gICAgaW5kZXggPSByaWdodC5kZWxldGVkIHx8ICFyaWdodC5jb3VudGFibGUgPyAwIDogcmlnaHRJRC5jbG9jayAtIHJpZ2h0LmlkLmNsb2NrXG4gICAgbGV0IG4gPSByaWdodC5sZWZ0XG4gICAgd2hpbGUgKG4gIT09IG51bGwpIHtcbiAgICAgIGlmICghbi5kZWxldGVkICYmIG4uY291bnRhYmxlKSB7XG4gICAgICAgIGluZGV4ICs9IG4ubGVuZ3RoXG4gICAgICB9XG4gICAgICBuID0gbi5sZWZ0XG4gICAgfVxuICAgIHR5cGUgPSByaWdodC5wYXJlbnRcbiAgfSBlbHNlIHtcbiAgICBpZiAodG5hbWUgIT09IG51bGwpIHtcbiAgICAgIHR5cGUgPSBkb2MuZ2V0KHRuYW1lKVxuICAgIH0gZWxzZSBpZiAodHlwZUlEICE9PSBudWxsKSB7XG4gICAgICBpZiAoZ2V0U3RhdGUoc3RvcmUsIHR5cGVJRC5jbGllbnQpIDw9IHR5cGVJRC5jbG9jaykge1xuICAgICAgICAvLyB0eXBlIGRvZXMgbm90IGV4aXN0IHlldFxuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgfVxuICAgICAgY29uc3Qgc3RydWN0ID0gZ2V0SXRlbShzdG9yZSwgdHlwZUlEKVxuICAgICAgaWYgKHN0cnVjdCBpbnN0YW5jZW9mIEl0ZW0gJiYgc3RydWN0LmNvbnRlbnQgaW5zdGFuY2VvZiBDb250ZW50VHlwZSkge1xuICAgICAgICB0eXBlID0gc3RydWN0LmNvbnRlbnQudHlwZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gc3RydWN0IGlzIGdhcmJhZ2UgY29sbGVjdGVkXG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IGVycm9yLnVuZXhwZWN0ZWRDYXNlKClcbiAgICB9XG4gICAgaW5kZXggPSB0eXBlLl9sZW5ndGhcbiAgfVxuICBpZiAodHlwZS5faXRlbSAhPT0gbnVsbCAmJiB0eXBlLl9pdGVtLmRlbGV0ZWQpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG4gIHJldHVybiBjcmVhdGVBYnNvbHV0ZVBvc2l0aW9uKHR5cGUsIGluZGV4KVxufVxuXG4vKipcbiAqIEBwYXJhbSB7UmVsYXRpdmVQb3NpdGlvbnxudWxsfSBhXG4gKiBAcGFyYW0ge1JlbGF0aXZlUG9zaXRpb258bnVsbH0gYlxuICpcbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgY29uc3QgY29tcGFyZVJlbGF0aXZlUG9zaXRpb25zID0gKGEsIGIpID0+IGEgPT09IGIgfHwgKFxuICBhICE9PSBudWxsICYmIGIgIT09IG51bGwgJiYgYS50bmFtZSA9PT0gYi50bmFtZSAmJiBjb21wYXJlSURzKGEuaXRlbSwgYi5pdGVtKSAmJiBjb21wYXJlSURzKGEudHlwZSwgYi50eXBlKVxuKVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/RelativePosition.js\n')},"./src/js/y-quill_binding.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.QuillBinding = exports.normQuillDelta = void 0;\n\nvar _mutex = __webpack_require__(/*! lib0/mutex.js */ \"./node_modules/lib0/mutex.js\");\n\nvar Y = _interopRequireWildcard(__webpack_require__(/*! yjs */ \"./node_modules/yjs/dist/yjs.mjs\"));\n\nvar _awareness = __webpack_require__(/*! y-protocols/awareness.js */ \"./node_modules/y-protocols/awareness.js\");\n\nvar Ys = _interopRequireWildcard(__webpack_require__(/*! ./RelativePosition.js */ \"./src/js/RelativePosition.js\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\n * @module bindings/quill\n */\n// eslint-disable-line\n// eslint-disable-line\n\n/**\n * Removes the pending '\\n's if it has no attributes.\n */\nconst normQuillDelta = delta => {\n  if (delta.length > 0) {\n    const d = delta[delta.length - 1];\n    const insert = d.insert;\n\n    if (d.attributes === undefined && insert !== undefined && insert.slice(-1) === '\\n') {\n      delta = delta.slice();\n      let ins = insert.slice(0, -1);\n\n      while (ins.slice(-1) === '\\n') {\n        ins = ins.slice(0, -1);\n      }\n\n      delta[delta.length - 1] = {\n        insert: ins\n      };\n\n      if (ins.length === 0) {\n        delta.pop();\n      }\n\n      return delta;\n    }\n  }\n\n  return delta;\n};\n/**\n * @param {any} quillCursors\n */\n\n\nexports.normQuillDelta = normQuillDelta;\n\nconst updateCursor = (quillCursors, aw, clientId, doc, type) => {\n  try {\n    if (aw && aw.cursor && clientId !== doc.clientID) {\n      const user = aw.user || {};\n      const color = user.color || '#ffa500';\n      const name = user.name || `User: ${clientId}`;\n      quillCursors.createCursor(clientId.toString(), name, color);\n      const anchor = Ys.createAbsolutePositionFromRelativePosition(Y.createRelativePositionFromJSON(aw.cursor.anchor), doc);\n      const head = Ys.createAbsolutePositionFromRelativePosition(Y.createRelativePositionFromJSON(aw.cursor.head), doc);\n\n      if (anchor && head && anchor.type === type) {\n        quillCursors.moveCursor(clientId.toString(), {\n          index: anchor.index,\n          length: head.index - anchor.index\n        });\n      }\n    } else {\n      quillCursors.removeCursor(clientId.toString());\n    }\n  } catch (err) {\n    console.error(err);\n  }\n};\n\nclass QuillBinding {\n  /**\n   * @param {Y.Text} type\n   * @param {any} quill\n   * @param {Awareness} [awareness]\n   */\n  constructor(type, quill, awareness) {\n    const mux = (0, _mutex.createMutex)();\n    const doc =\n    /** @type {Y.Doc} */\n    type.doc;\n    this.mux = mux;\n    this.type = type;\n    this.doc = doc;\n    this.quill = quill;\n    const quillCursors = quill.getModule('cursors') || null;\n    this.quillCursors = quillCursors; // This object contains all attributes used in the quill instance\n\n    this._negatedUsedFormats = {};\n    this.awareness = awareness;\n\n    this._awarenessChange = ({\n      added,\n      removed,\n      updated\n    }) => {\n      const states =\n      /** @type {Awareness} */\n      awareness.getStates();\n      added.forEach(id => {\n        updateCursor(quillCursors, states.get(id), id, doc, type);\n      });\n      updated.forEach(id => {\n        updateCursor(quillCursors, states.get(id), id, doc, type);\n      });\n      removed.forEach(id => {\n        quillCursors.removeCursor(id.toString());\n      });\n    };\n\n    this._typeObserver = event => {\n      mux(() => {\n        const eventDelta = event.delta; // We always explicitly set attributes, otherwise concurrent edits may\n        // result in quill assuming that a text insertion shall inherit existing\n        // attributes.\n\n        const el = quill.options.container;\n        const readValue = el.getAttribute('data-read_value') != 'false';\n\n        if (!readValue) {\n          return;\n        }\n\n        const delta = [];\n\n        for (let i = 0; i < eventDelta.length; i++) {\n          const d = eventDelta[i];\n\n          if (d.insert !== undefined) {\n            delta.push(Object.assign({}, d, {\n              attributes: Object.assign({}, this._negatedUsedFormats, d.attributes || {})\n            }));\n          } else {\n            delta.push(d);\n          }\n        }\n\n        quill.updateContents(delta, 'yjs');\n        el.crudSetted = true;\n      });\n    };\n\n    type.observe(this._typeObserver);\n\n    this._quillObserver = (eventType, delta) => {\n      const el = quill.options.container;\n      const realtime = el.getAttribute('data-realtime') != 'false';\n      const saveValue = el.getAttribute('data-save_value') != 'false';\n      const readValue = el.getAttribute('data-read_value') != 'false';\n      if (!realtime || !saveValue) return;\n\n      if (!readValue) {\n        //. total value\n        type.delete(0, type.toString().length);\n        type.insert(0, quill.getText());\n        return;\n      }\n\n      if (delta && delta.ops) {\n        // update content\n        const ops = delta.ops;\n        ops.forEach(op => {\n          if (op.attributes !== undefined) {\n            for (let key in op.attributes) {\n              if (this._negatedUsedFormats[key] === undefined) {\n                this._negatedUsedFormats[key] = false;\n              }\n            }\n          }\n        });\n        mux(() => {\n          type.applyDelta(ops);\n        });\n      } // always check selection\n\n\n      if (awareness && quillCursors) {\n        const sel = quill.getSelection();\n        const aw = awareness.getLocalState();\n\n        if (sel === null) {\n          if (awareness.getLocalState() !== null) {\n            awareness.setLocalStateField('cursor', null);\n          }\n        } else {\n          const anchor = Y.createRelativePositionFromTypeIndex(type, sel.index);\n          const head = Y.createRelativePositionFromTypeIndex(type, sel.index + sel.length);\n\n          if (!aw || !aw.cursor || !Y.compareRelativePositions(anchor, aw.cursor.anchor) || !Y.compareRelativePositions(head, aw.cursor.head)) {\n            awareness.setLocalStateField('cursor', {\n              anchor,\n              head\n            });\n          }\n        } // update all remote cursor locations\n\n\n        awareness.getStates().forEach((aw, clientId) => {\n          updateCursor(quillCursors, aw, clientId, doc, type);\n        });\n      }\n    };\n\n    quill.on('editor-change', this._quillObserver);\n    mux(() => {\n      // This indirectly initializes _negatedUsedFormats.\n      // Make sure that this call this after the _quillObserver is set.\n      quill.setContents(type.toDelta());\n    }); // init remote cursors\n\n    if (quillCursors !== null && awareness) {\n      awareness.getStates().forEach((aw, clientId) => {\n        updateCursor(quillCursors, aw, clientId, doc, type);\n      });\n      awareness.on('change', this._awarenessChange);\n    }\n  }\n\n  destroy() {\n    this.type.unobserve(this._typeObserver);\n    this.quill.off(this._quillObserver);\n\n    if (this.awareness) {\n      this.awareness.off('change', this._awarenessChange);\n    }\n  }\n\n}\n\nexports.QuillBinding = QuillBinding;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5xdWlsbC8uL3NyYy9qcy95LXF1aWxsX2JpbmRpbmcuanM/NTA4ZiJdLCJuYW1lcyI6WyJub3JtUXVpbGxEZWx0YSIsImRlbHRhIiwibGVuZ3RoIiwiZCIsImluc2VydCIsImF0dHJpYnV0ZXMiLCJ1bmRlZmluZWQiLCJzbGljZSIsImlucyIsInBvcCIsInVwZGF0ZUN1cnNvciIsInF1aWxsQ3Vyc29ycyIsImF3IiwiY2xpZW50SWQiLCJkb2MiLCJ0eXBlIiwiY3Vyc29yIiwiY2xpZW50SUQiLCJ1c2VyIiwiY29sb3IiLCJuYW1lIiwiY3JlYXRlQ3Vyc29yIiwidG9TdHJpbmciLCJhbmNob3IiLCJZcyIsImNyZWF0ZUFic29sdXRlUG9zaXRpb25Gcm9tUmVsYXRpdmVQb3NpdGlvbiIsIlkiLCJjcmVhdGVSZWxhdGl2ZVBvc2l0aW9uRnJvbUpTT04iLCJoZWFkIiwibW92ZUN1cnNvciIsImluZGV4IiwicmVtb3ZlQ3Vyc29yIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiUXVpbGxCaW5kaW5nIiwiY29uc3RydWN0b3IiLCJxdWlsbCIsImF3YXJlbmVzcyIsIm11eCIsImdldE1vZHVsZSIsIl9uZWdhdGVkVXNlZEZvcm1hdHMiLCJfYXdhcmVuZXNzQ2hhbmdlIiwiYWRkZWQiLCJyZW1vdmVkIiwidXBkYXRlZCIsInN0YXRlcyIsImdldFN0YXRlcyIsImZvckVhY2giLCJpZCIsImdldCIsIl90eXBlT2JzZXJ2ZXIiLCJldmVudCIsImV2ZW50RGVsdGEiLCJlbCIsIm9wdGlvbnMiLCJjb250YWluZXIiLCJyZWFkVmFsdWUiLCJnZXRBdHRyaWJ1dGUiLCJpIiwicHVzaCIsIk9iamVjdCIsImFzc2lnbiIsInVwZGF0ZUNvbnRlbnRzIiwiY3J1ZFNldHRlZCIsIm9ic2VydmUiLCJfcXVpbGxPYnNlcnZlciIsImV2ZW50VHlwZSIsInJlYWx0aW1lIiwic2F2ZVZhbHVlIiwiZGVsZXRlIiwiZ2V0VGV4dCIsIm9wcyIsIm9wIiwia2V5IiwiYXBwbHlEZWx0YSIsInNlbCIsImdldFNlbGVjdGlvbiIsImdldExvY2FsU3RhdGUiLCJzZXRMb2NhbFN0YXRlRmllbGQiLCJjcmVhdGVSZWxhdGl2ZVBvc2l0aW9uRnJvbVR5cGVJbmRleCIsImNvbXBhcmVSZWxhdGl2ZVBvc2l0aW9ucyIsIm9uIiwic2V0Q29udGVudHMiLCJ0b0RlbHRhIiwiZGVzdHJveSIsInVub2JzZXJ2ZSIsIm9mZiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUlBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7QUFQQTtBQUNBO0FBQ0E7QUFHeUI7QUFDNEI7O0FBR3JEO0FBQ0E7QUFDQTtBQUNPLE1BQU1BLGNBQWMsR0FBR0MsS0FBSyxJQUFJO0FBQ3JDLE1BQUlBLEtBQUssQ0FBQ0MsTUFBTixHQUFlLENBQW5CLEVBQXNCO0FBQ3BCLFVBQU1DLENBQUMsR0FBR0YsS0FBSyxDQUFDQSxLQUFLLENBQUNDLE1BQU4sR0FBZSxDQUFoQixDQUFmO0FBQ0EsVUFBTUUsTUFBTSxHQUFHRCxDQUFDLENBQUNDLE1BQWpCOztBQUNBLFFBQUlELENBQUMsQ0FBQ0UsVUFBRixLQUFpQkMsU0FBakIsSUFBOEJGLE1BQU0sS0FBS0UsU0FBekMsSUFBc0RGLE1BQU0sQ0FBQ0csS0FBUCxDQUFhLENBQUMsQ0FBZCxNQUFxQixJQUEvRSxFQUFxRjtBQUNuRk4sV0FBSyxHQUFHQSxLQUFLLENBQUNNLEtBQU4sRUFBUjtBQUNBLFVBQUlDLEdBQUcsR0FBR0osTUFBTSxDQUFDRyxLQUFQLENBQWEsQ0FBYixFQUFnQixDQUFDLENBQWpCLENBQVY7O0FBQ0EsYUFBT0MsR0FBRyxDQUFDRCxLQUFKLENBQVUsQ0FBQyxDQUFYLE1BQWtCLElBQXpCLEVBQStCO0FBQzdCQyxXQUFHLEdBQUdBLEdBQUcsQ0FBQ0QsS0FBSixDQUFVLENBQVYsRUFBYSxDQUFDLENBQWQsQ0FBTjtBQUNEOztBQUNETixXQUFLLENBQUNBLEtBQUssQ0FBQ0MsTUFBTixHQUFlLENBQWhCLENBQUwsR0FBMEI7QUFBRUUsY0FBTSxFQUFF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QUFlQyxFQUFmLEVBQW1CQyxRQUFuQixFQUE2QkMsR0FBN0IsRUFBa0NDLElBQWxDLENBQVo7QUFDRCxPQUZEO0FBR0F1QixlQUFTLENBQUM0QyxFQUFWLENBQWEsUUFBYixFQUF1QixLQUFLeEMsZ0JBQTVCO0FBQ0Q7QUFDRjs7QUFDRDJDLFNBQU8sR0FBSTtBQUNULFNBQUt0RSxJQUFMLENBQVV1RSxTQUFWLENBQW9CLEtBQUtuQyxhQUF6QjtBQUNBLFNBQUtkLEtBQUwsQ0FBV2tELEdBQVgsQ0FBZSxLQUFLckIsY0FBcEI7O0FBQ0EsUUFBSSxLQUFLNUIsU0FBVCxFQUFvQjtBQUNsQixXQUFLQSxTQUFMLENBQWVpRCxHQUFmLENBQW1CLFFBQW5CLEVBQTZCLEtBQUs3QyxnQkFBbEM7QUFDRDtBQUNGOztBQWpJdUIiLCJmaWxlIjoiLi9zcmMvanMveS1xdWlsbF9iaW5kaW5nLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbW9kdWxlIGJpbmRpbmdzL3F1aWxsXG4gKi9cblxuaW1wb3J0IHsgY3JlYXRlTXV0ZXggfSBmcm9tICdsaWIwL211dGV4LmpzJ1xuaW1wb3J0ICogYXMgWSBmcm9tICd5anMnIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbmltcG9ydCB7IEF3YXJlbmVzcyB9IGZyb20gJ3ktcHJvdG9jb2xzL2F3YXJlbmVzcy5qcycgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuaW1wb3J0ICogYXMgWXMgZnJvbSAnLi9SZWxhdGl2ZVBvc2l0aW9uLmpzJ1xuXG4vKipcbiAqIFJlbW92ZXMgdGhlIHBlbmRpbmcgJ1xcbidzIGlmIGl0IGhhcyBubyBhdHRyaWJ1dGVzLlxuICovXG5leHBvcnQgY29uc3Qgbm9ybVF1aWxsRGVsdGEgPSBkZWx0YSA9PiB7XG4gIGlmIChkZWx0YS5sZW5ndGggPiAwKSB7XG4gICAgY29uc3QgZCA9IGRlbHRhW2RlbHRhLmxlbmd0aCAtIDFdXG4gICAgY29uc3QgaW5zZXJ0ID0gZC5pbnNlcnRcbiAgICBpZiAoZC5hdHRyaWJ1dGVzID09PSB1bmRlZmluZWQgJiYgaW5zZXJ0ICE9PSB1bmRlZmluZWQgJiYgaW5zZXJ0LnNsaWNlKC0xKSA9PT0gJ1xcbicpIHtcbiAgICAgIGRlbHRhID0gZGVsdGEuc2xpY2UoKVxuICAgICAgbGV0IGlucyA9IGluc2VydC5zbGljZSgwLCAtMSlcbiAgICAgIHdoaWxlIChpbnMuc2xpY2UoLTEpID09PSAnXFxuJykge1xuICAgICAgICBpbnMgPSBpbnMuc2xpY2UoMCwgLTEpXG4gICAgICB9XG4gICAgICBkZWx0YVtkZWx0YS5sZW5ndGggLSAxXSA9IHsgaW5zZXJ0OiBpbnMgfVxuICAgICAgaWYgKGlucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZGVsdGEucG9wKClcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWx0YVxuICAgIH1cbiAgfVxuICByZXR1cm4gZGVsdGFcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2FueX0gcXVpbGxDdXJzb3JzXG4gKi9cbmNvbnN0IHVwZGF0ZUN1cnNvciA9IChxdWlsbEN1cnNvcnMsIGF3LCBjbGllbnRJZCwgZG9jLCB0eXBlKSA9PiB7XG4gIHRyeSB7XG4gICAgaWYgKGF3ICYmIGF3LmN1cnNvciAmJiBjbGllbnRJZCAhPT0gZG9jLmNsaWVudElEKSB7XG4gICAgICBjb25zdCB1c2VyID0gYXcudXNlciB8fCB7fVxuICAgICAgY29uc3QgY29sb3IgPSB1c2VyLmNvbG9yIHx8ICcjZmZhNTAwJ1xuICAgICAgY29uc3QgbmFtZSA9IHVzZXIubmFtZSB8fCBgVXNlcjogJHtjbGllbnRJZH1gXG4gICAgICBxdWlsbEN1cnNvcnMuY3JlYXRlQ3Vyc29yKGNsaWVudElkLnRvU3RyaW5nKCksIG5hbWUsIGNvbG9yKVxuICAgICAgY29uc3QgYW5jaG9yID0gWXMuY3JlYXRlQWJzb2x1dGVQb3NpdGlvbkZyb21SZWxhdGl2ZVBvc2l0aW9uKFkuY3JlYXRlUmVsYXRpdmVQb3NpdGlvbkZyb21KU09OKGF3LmN1cnNvci5hbmNob3IpLCBkb2MpXG4gICAgICBjb25zdCBoZWFkID0gWXMuY3JlYXRlQWJzb2x1dGVQb3NpdGlvbkZyb21SZWxhdGl2ZVBvc2l0aW9uKFkuY3JlYXRlUmVsYXRpdmVQb3NpdGlvbkZyb21KU09OKGF3LmN1cnNvci5oZWFkKSwgZG9jKVxuICAgICAgaWYgKGFuY2hvciAmJiBoZWFkICYmIGFuY2hvci50eXBlID09PSB0eXBlKSB7XG4gICAgICAgIHF1aWxsQ3Vyc29ycy5tb3ZlQ3Vyc29yKGNsaWVudElkLnRvU3RyaW5nKCksIHsgaW5kZXg6IGFuY2hvci5pbmRleCwgbGVuZ3RoOiBoZWFkLmluZGV4IC0gYW5jaG9yLmluZGV4IH0pXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHF1aWxsQ3Vyc29ycy5yZW1vdmVDdXJzb3IoY2xpZW50SWQudG9TdHJpbmcoKSlcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBRdWlsbEJpbmRpbmcge1xuICAvKipcbiAgICogQHBhcmFtIHtZLlRleHR9IHR5cGVcbiAgICogQHBhcmFtIHthbnl9IHF1aWxsXG4gICAqIEBwYXJhbSB7QXdhcmVuZXNzfSBbYXdhcmVuZXNzXVxuICAgKi9cbiAgY29uc3RydWN0b3IgKHR5cGUsIHF1aWxsLCBhd2FyZW5lc3MpIHtcbiAgICBjb25zdCBtdXggPSBjcmVhdGVNdXRleCgpXG4gICAgY29uc3QgZG9jID0gLyoqIEB0eXBlIHtZLkRvY30gKi8gKHR5cGUuZG9jKVxuICAgIHRoaXMubXV4ID0gbXV4XG4gICAgdGhpcy50eXBlID0gdHlwZVxuICAgIHRoaXMuZG9jID0gZG9jXG4gICAgdGhpcy5xdWlsbCA9IHF1aWxsXG4gICAgY29uc3QgcXVpbGxDdXJzb3JzID0gcXVpbGwuZ2V0TW9kdWxlKCdjdXJzb3JzJykgfHwgbnVsbFxuICAgIHRoaXMucXVpbGxDdXJzb3JzID0gcXVpbGxDdXJzb3JzXG4gICAgLy8gVGhpcyBvYmplY3QgY29udGFpbnMgYWxsIGF0dHJpYnV0ZXMgdXNlZCBpbiB0aGUgcXVpbGwgaW5zdGFuY2VcbiAgICB0aGlzLl9uZWdhdGVkVXNlZEZvcm1hdHMgPSB7fVxuICAgIHRoaXMuYXdhcmVuZXNzID0gYXdhcmVuZXNzXG4gICAgdGhpcy5fYXdhcmVuZXNzQ2hhbmdlID0gKHsgYWRkZWQsIHJlbW92ZWQsIHVwZGF0ZWQgfSkgPT4ge1xuICAgICAgY29uc3Qgc3RhdGVzID0gLyoqIEB0eXBlIHtBd2FyZW5lc3N9ICovIChhd2FyZW5lc3MpLmdldFN0YXRlcygpXG4gICAgICBhZGRlZC5mb3JFYWNoKGlkID0+IHtcbiAgICAgICAgdXBkYXRlQ3Vyc29yKHF1aWxsQ3Vyc29ycywgc3RhdGVzLmdldChpZCksIGlkLCBkb2MsIHR5cGUpXG4gICAgICB9KVxuICAgICAgdXBkYXRlZC5mb3JFYWNoKGlkID0+IHtcbiAgICAgICAgdXBkYXRlQ3Vyc29yKHF1aWxsQ3Vyc29ycywgc3RhdGVzLmdldChpZCksIGlkLCBkb2MsIHR5cGUpXG4gICAgICB9KVxuICAgICAgcmVtb3ZlZC5mb3JFYWNoKGlkID0+IHtcbiAgICAgICAgcXVpbGxDdXJzb3JzLnJlbW92ZUN1cnNvcihpZC50b1N0cmluZygpKVxuICAgICAgfSlcbiAgICB9XG4gICAgdGhpcy5fdHlwZU9ic2VydmVyID0gZXZlbnQgPT4ge1xuICAgICAgbXV4KCgpID0+IHtcbiAgICAgICAgY29uc3QgZXZlbnREZWx0YSA9IGV2ZW50LmRlbHRhXG4gICAgICAgIC8vIFdlIGFsd2F5cyBleHBsaWNpdGx5IHNldCBhdHRyaWJ1dGVzLCBvdGhlcndpc2UgY29uY3VycmVudCBlZGl0cyBtYXlcbiAgICAgICAgLy8gcmVzdWx0IGluIHF1aWxsIGFzc3VtaW5nIHRoYXQgYSB0ZXh0IGluc2VydGlvbiBzaGFsbCBpbmhlcml0IGV4aXN0aW5nXG4gICAgICAgIC8vIGF0dHJpYnV0ZXMuXG4gICAgICAgIGNvbnN0IGVsID0gcXVpbGwub3B0aW9ucy5jb250YWluZXJcbiAgICAgICAgY29uc3QgcmVhZFZhbHVlID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXJlYWRfdmFsdWUnKSAhPSAnZmFsc2UnO1xuICAgICAgICBpZiAoIXJlYWRWYWx1ZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWx0YSA9IFtdXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXZlbnREZWx0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGQgPSBldmVudERlbHRhW2ldXG4gICAgICAgICAgaWYgKGQuaW5zZXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRlbHRhLnB1c2goT2JqZWN0LmFzc2lnbih7fSwgZCwgeyBhdHRyaWJ1dGVzOiBPYmplY3QuYXNzaWduKHt9LCB0aGlzLl9uZWdhdGVkVXNlZEZvcm1hdHMsIGQuYXR0cmlidXRlcyB8fCB7fSkgfSkpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlbHRhLnB1c2goZClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVpbGwudXBkYXRlQ29udGVudHMoZGVsdGEsICd5anMnKVxuICAgICAgICBlbC5jcnVkU2V0dGVkID0gdHJ1ZTtcbiAgICAgIH0pXG4gICAgfVxuICAgIHR5cGUub2JzZXJ2ZSh0aGlzLl90eXBlT2JzZXJ2ZXIpXG4gICAgdGhpcy5fcXVpbGxPYnNlcnZlciA9IChldmVudFR5cGUsIGRlbHRhKSA9PiB7XG4gICAgICBjb25zdCBlbCA9IHF1aWxsLm9wdGlvbnMuY29udGFpbmVyXG4gICAgICBjb25zdCByZWFsdGltZSA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1yZWFsdGltZScpICE9ICdmYWxzZSdcbiAgICAgIGNvbnN0IHNhdmVWYWx1ZSA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zYXZlX3ZhbHVlJykgIT0gJ2ZhbHNlJztcbiAgICAgIGNvbnN0IHJlYWRWYWx1ZSA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1yZWFkX3ZhbHVlJykgIT0gJ2ZhbHNlJztcbiAgICAgIGlmICghcmVhbHRpbWUgfHwgIXNhdmVWYWx1ZSkgcmV0dXJuO1xuICAgICAgXG4gICAgICBpZiAoIXJlYWRWYWx1ZSkge1xuICAgICAgICAvLy4gdG90YWwgdmFsdWVcbiAgICAgICAgdHlwZS5kZWxldGUoMCwgdHlwZS50b1N0cmluZygpLmxlbmd0aCk7XG4gICAgICAgIHR5cGUuaW5zZXJ0KDAsIHF1aWxsLmdldFRleHQoKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKGRlbHRhICYmIGRlbHRhLm9wcykge1xuICAgICAgICAvLyB1cGRhdGUgY29udGVudFxuICAgICAgICBjb25zdCBvcHMgPSBkZWx0YS5vcHNcbiAgICAgICAgb3BzLmZvckVhY2gob3AgPT4ge1xuICAgICAgICAgIGlmIChvcC5hdHRyaWJ1dGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBvcC5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgIGlmICh0aGlzLl9uZWdhdGVkVXNlZEZvcm1hdHNba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmVnYXRlZFVzZWRGb3JtYXRzW2tleV0gPSBmYWxzZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBtdXgoKCkgPT4ge1xuICAgICAgICAgIHR5cGUuYXBwbHlEZWx0YShvcHMpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICAvLyBhbHdheXMgY2hlY2sgc2VsZWN0aW9uXG4gICAgICBpZiAoYXdhcmVuZXNzICYmIHF1aWxsQ3Vyc29ycykge1xuICAgICAgICBjb25zdCBzZWwgPSBxdWlsbC5nZXRTZWxlY3Rpb24oKVxuICAgICAgICBjb25zdCBhdyA9IGF3YXJlbmVzcy5nZXRMb2NhbFN0YXRlKClcbiAgICAgICAgaWYgKHNlbCA9PT0gbnVsbCkge1xuICAgICAgICAgIGlmIChhd2FyZW5lc3MuZ2V0TG9jYWxTdGF0ZSgpICE9PSBudWxsKSB7XG4gICAgICAgICAgICBhd2FyZW5lc3Muc2V0TG9jYWxTdGF0ZUZpZWxkKCdjdXJzb3InLCBudWxsKVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBhbmNob3IgPSBZLmNyZWF0ZVJlbGF0aXZlUG9zaXRpb25Gcm9tVHlwZUluZGV4KHR5cGUsIHNlbC5pbmRleClcbiAgICAgICAgICBjb25zdCBoZWFkID0gWS5jcmVhdGVSZWxhdGl2ZVBvc2l0aW9uRnJvbVR5cGVJbmRleCh0eXBlLCBzZWwuaW5kZXggKyBzZWwubGVuZ3RoKVxuICAgICAgICAgIGlmICghYXcgfHwgIWF3LmN1cnNvciB8fCAhWS5jb21wYXJlUmVsYXRpdmVQb3NpdGlvbnMoYW5jaG9yLCBhdy5jdXJzb3IuYW5jaG9yKSB8fCAhWS5jb21wYXJlUmVsYXRpdmVQb3NpdGlvbnMoaGVhZCwgYXcuY3Vyc29yLmhlYWQpKSB7XG4gICAgICAgICAgICBhd2FyZW5lc3Muc2V0TG9jYWxTdGF0ZUZpZWxkKCdjdXJzb3InLCB7XG4gICAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgICAgaGVhZFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gdXBkYXRlIGFsbCByZW1vdGUgY3Vyc29yIGxvY2F0aW9uc1xuICAgICAgICBhd2FyZW5lc3MuZ2V0U3RhdGVzKCkuZm9yRWFjaCgoYXcsIGNsaWVudElkKSA9PiB7XG4gICAgICAgICAgdXBkYXRlQ3Vyc29yKHF1aWxsQ3Vyc29ycywgYXcsIGNsaWVudElkLCBkb2MsIHR5cGUpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICAgIHF1aWxsLm9uKCdlZGl0b3ItY2hhbmdlJywgdGhpcy5fcXVpbGxPYnNlcnZlcilcbiAgICBtdXgoKCkgPT4ge1xuICAgICAgLy8gVGhpcyBpbmRpcmVjdGx5IGluaXRpYWxpemVzIF9uZWdhdGVkVXNlZEZvcm1hdHMuXG4gICAgICAvLyBNYWtlIHN1cmUgdGhhdCB0aGlzIGNhbGwgdGhpcyBhZnRlciB0aGUgX3F1aWxsT2JzZXJ2ZXIgaXMgc2V0LlxuICAgICAgcXVpbGwuc2V0Q29udGVudHModHlwZS50b0RlbHRhKCkpXG4gICAgfSlcbiAgICAvLyBpbml0IHJlbW90ZSBjdXJzb3JzXG4gICAgaWYgKHF1aWxsQ3Vyc29ycyAhPT0gbnVsbCAmJiBhd2FyZW5lc3MpIHtcbiAgICAgIGF3YXJlbmVzcy5nZXRTdGF0ZXMoKS5mb3JFYWNoKChhdywgY2xpZW50SWQpID0+IHtcbiAgICAgICAgdXBkYXRlQ3Vyc29yKHF1aWxsQ3Vyc29ycywgYXcsIGNsaWVudElkLCBkb2MsIHR5cGUpXG4gICAgICB9KVxuICAgICAgYXdhcmVuZXNzLm9uKCdjaGFuZ2UnLCB0aGlzLl9hd2FyZW5lc3NDaGFuZ2UpXG4gICAgfVxuICB9XG4gIGRlc3Ryb3kgKCkge1xuICAgIHRoaXMudHlwZS51bm9ic2VydmUodGhpcy5fdHlwZU9ic2VydmVyKVxuICAgIHRoaXMucXVpbGwub2ZmKHRoaXMuX3F1aWxsT2JzZXJ2ZXIpXG4gICAgaWYgKHRoaXMuYXdhcmVuZXNzKSB7XG4gICAgICB0aGlzLmF3YXJlbmVzcy5vZmYoJ2NoYW5nZScsIHRoaXMuX2F3YXJlbmVzc0NoYW5nZSlcbiAgICB9XG4gIH1cbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/y-quill_binding.js\n")}}).default}));